(window.webpackJsonp=window.webpackJsonp||[]).push([["chunksSdk~app"],{"2ad5":function(t,n,e){"use strict";var o=e("7037").default;e("b64b"),e("e25e"),e("d3b7"),e("25f0"),e("a9e3"),e("f4b3"),e("bf19");var i=e("543b"),s=i.Reader,r=i.Writer,g=i.util,a=i.roots.default||(i.roots.default={});a.Ping=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(8).int64(t.type),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Ping;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.type=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Ping)return t;var n=new a.Ping;return null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;return null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ImLogin=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.token="",t.prototype.ct=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.subApp=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushChannel=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushToken="",t.prototype.lastToken="",t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&n.uint32(18).string(t.token),null!=t.ct&&Object.hasOwnProperty.call(t,"ct")&&n.uint32(24).int64(t.ct),null!=t.subApp&&Object.hasOwnProperty.call(t,"subApp")&&n.uint32(32).int64(t.subApp),null!=t.pushChannel&&Object.hasOwnProperty.call(t,"pushChannel")&&n.uint32(40).int64(t.pushChannel),null!=t.pushToken&&Object.hasOwnProperty.call(t,"pushToken")&&n.uint32(50).string(t.pushToken),null!=t.lastToken&&Object.hasOwnProperty.call(t,"lastToken")&&n.uint32(58).string(t.lastToken),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ImLogin;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.token=t.string();break;case 3:o.ct=t.int64();break;case 4:o.subApp=t.int64();break;case 5:o.pushChannel=t.int64();break;case 6:o.pushToken=t.string();break;case 7:o.lastToken=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ImLogin)return t;var n=new a.ImLogin;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.token&&(n.token=String(t.token)),null!=t.ct&&(g.Long?(n.ct=g.Long.fromValue(t.ct)).unsigned=!1:"string"==typeof t.ct?n.ct=parseInt(t.ct,10):"number"==typeof t.ct?n.ct=t.ct:"object"===o(t.ct)&&(n.ct=new g.LongBits(t.ct.low>>>0,t.ct.high>>>0).toNumber())),null!=t.subApp&&(g.Long?(n.subApp=g.Long.fromValue(t.subApp)).unsigned=!1:"string"==typeof t.subApp?n.subApp=parseInt(t.subApp,10):"number"==typeof t.subApp?n.subApp=t.subApp:"object"===o(t.subApp)&&(n.subApp=new g.LongBits(t.subApp.low>>>0,t.subApp.high>>>0).toNumber())),null!=t.pushChannel&&(g.Long?(n.pushChannel=g.Long.fromValue(t.pushChannel)).unsigned=!1:"string"==typeof t.pushChannel?n.pushChannel=parseInt(t.pushChannel,10):"number"==typeof t.pushChannel?n.pushChannel=t.pushChannel:"object"===o(t.pushChannel)&&(n.pushChannel=new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber())),null!=t.pushToken&&(n.pushToken=String(t.pushToken)),null!=t.lastToken&&(n.lastToken=String(t.lastToken)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(e.token="",g.Long){o=new g.Long(0,0,!1);e.ct=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.ct=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.subApp=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.subApp=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.pushChannel=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.pushChannel=n.longs===String?"0":0;e.pushToken="",e.lastToken=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.token&&t.hasOwnProperty("token")&&(e.token=t.token),null!=t.ct&&t.hasOwnProperty("ct")&&("number"==typeof t.ct?e.ct=n.longs===String?String(t.ct):t.ct:e.ct=n.longs===String?g.Long.prototype.toString.call(t.ct):n.longs===Number?new g.LongBits(t.ct.low>>>0,t.ct.high>>>0).toNumber():t.ct),null!=t.subApp&&t.hasOwnProperty("subApp")&&("number"==typeof t.subApp?e.subApp=n.longs===String?String(t.subApp):t.subApp:e.subApp=n.longs===String?g.Long.prototype.toString.call(t.subApp):n.longs===Number?new g.LongBits(t.subApp.low>>>0,t.subApp.high>>>0).toNumber():t.subApp),null!=t.pushChannel&&t.hasOwnProperty("pushChannel")&&("number"==typeof t.pushChannel?e.pushChannel=n.longs===String?String(t.pushChannel):t.pushChannel:e.pushChannel=n.longs===String?g.Long.prototype.toString.call(t.pushChannel):n.longs===Number?new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber():t.pushChannel),null!=t.pushToken&&t.hasOwnProperty("pushToken")&&(e.pushToken=t.pushToken),null!=t.lastToken&&t.hasOwnProperty("lastToken")&&(e.lastToken=t.lastToken),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ImLogout=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ImLogout;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ImLogout)return t;var n=new a.ImLogout;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.Result=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.code=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msg="",t.prototype.nowTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).int64(t.code),null!=t.msg&&Object.hasOwnProperty.call(t,"msg")&&n.uint32(26).string(t.msg),null!=t.nowTime&&Object.hasOwnProperty.call(t,"nowTime")&&n.uint32(32).int64(t.nowTime),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(40).int64(t.uid),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Result;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.code=t.int64();break;case 3:o.msg=t.string();break;case 4:o.nowTime=t.int64();break;case 5:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Result)return t;var n=new a.Result;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.code&&(g.Long?(n.code=g.Long.fromValue(t.code)).unsigned=!1:"string"==typeof t.code?n.code=parseInt(t.code,10):"number"==typeof t.code?n.code=t.code:"object"===o(t.code)&&(n.code=new g.LongBits(t.code.low>>>0,t.code.high>>>0).toNumber())),null!=t.msg&&(n.msg=String(t.msg)),null!=t.nowTime&&(g.Long?(n.nowTime=g.Long.fromValue(t.nowTime)).unsigned=!1:"string"==typeof t.nowTime?n.nowTime=parseInt(t.nowTime,10):"number"==typeof t.nowTime?n.nowTime=t.nowTime:"object"===o(t.nowTime)&&(n.nowTime=new g.LongBits(t.nowTime.low>>>0,t.nowTime.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.code=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.code=n.longs===String?"0":0;if(e.msg="",g.Long){o=new g.Long(0,0,!1);e.nowTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.nowTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.code&&t.hasOwnProperty("code")&&("number"==typeof t.code?e.code=n.longs===String?String(t.code):t.code:e.code=n.longs===String?g.Long.prototype.toString.call(t.code):n.longs===Number?new g.LongBits(t.code.low>>>0,t.code.high>>>0).toNumber():t.code),null!=t.msg&&t.hasOwnProperty("msg")&&(e.msg=t.msg),null!=t.nowTime&&t.hasOwnProperty("nowTime")&&("number"==typeof t.nowTime?e.nowTime=n.longs===String?String(t.nowTime):t.nowTime:e.nowTime=n.longs===String?g.Long.prototype.toString.call(t.nowTime):n.longs===Number?new g.LongBits(t.nowTime.low>>>0,t.nowTime.high>>>0).toNumber():t.nowTime),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatS=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.title="",t.prototype.body="",t.prototype.thumb="",t.prototype.width=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.height=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.duration=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.lat=0,t.prototype.lng=0,t.prototype.zoom=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushTitle="",t.prototype.pushBody="",t.prototype.pushSound="",t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(16).int64(t.type),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(24).int64(t.toUid),null!=t.title&&Object.hasOwnProperty.call(t,"title")&&n.uint32(34).string(t.title),null!=t.body&&Object.hasOwnProperty.call(t,"body")&&n.uint32(42).string(t.body),null!=t.thumb&&Object.hasOwnProperty.call(t,"thumb")&&n.uint32(50).string(t.thumb),null!=t.width&&Object.hasOwnProperty.call(t,"width")&&n.uint32(56).int64(t.width),null!=t.height&&Object.hasOwnProperty.call(t,"height")&&n.uint32(64).int64(t.height),null!=t.duration&&Object.hasOwnProperty.call(t,"duration")&&n.uint32(72).int64(t.duration),null!=t.lat&&Object.hasOwnProperty.call(t,"lat")&&n.uint32(81).double(t.lat),null!=t.lng&&Object.hasOwnProperty.call(t,"lng")&&n.uint32(89).double(t.lng),null!=t.zoom&&Object.hasOwnProperty.call(t,"zoom")&&n.uint32(96).int64(t.zoom),null!=t.pushTitle&&Object.hasOwnProperty.call(t,"pushTitle")&&n.uint32(106).string(t.pushTitle),null!=t.pushBody&&Object.hasOwnProperty.call(t,"pushBody")&&n.uint32(114).string(t.pushBody),null!=t.pushSound&&Object.hasOwnProperty.call(t,"pushSound")&&n.uint32(122).string(t.pushSound),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatS;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.type=t.int64();break;case 3:o.toUid=t.int64();break;case 4:o.title=t.string();break;case 5:o.body=t.string();break;case 6:o.thumb=t.string();break;case 7:o.width=t.int64();break;case 8:o.height=t.int64();break;case 9:o.duration=t.int64();break;case 10:o.lat=t.double();break;case 11:o.lng=t.double();break;case 12:o.zoom=t.int64();break;case 13:o.pushTitle=t.string();break;case 14:o.pushBody=t.string();break;case 15:o.pushSound=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatS)return t;var n=new a.ChatS;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.title&&(n.title=String(t.title)),null!=t.body&&(n.body=String(t.body)),null!=t.thumb&&(n.thumb=String(t.thumb)),null!=t.width&&(g.Long?(n.width=g.Long.fromValue(t.width)).unsigned=!1:"string"==typeof t.width?n.width=parseInt(t.width,10):"number"==typeof t.width?n.width=t.width:"object"===o(t.width)&&(n.width=new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber())),null!=t.height&&(g.Long?(n.height=g.Long.fromValue(t.height)).unsigned=!1:"string"==typeof t.height?n.height=parseInt(t.height,10):"number"==typeof t.height?n.height=t.height:"object"===o(t.height)&&(n.height=new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber())),null!=t.duration&&(g.Long?(n.duration=g.Long.fromValue(t.duration)).unsigned=!1:"string"==typeof t.duration?n.duration=parseInt(t.duration,10):"number"==typeof t.duration?n.duration=t.duration:"object"===o(t.duration)&&(n.duration=new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber())),null!=t.lat&&(n.lat=Number(t.lat)),null!=t.lng&&(n.lng=Number(t.lng)),null!=t.zoom&&(g.Long?(n.zoom=g.Long.fromValue(t.zoom)).unsigned=!1:"string"==typeof t.zoom?n.zoom=parseInt(t.zoom,10):"number"==typeof t.zoom?n.zoom=t.zoom:"object"===o(t.zoom)&&(n.zoom=new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber())),null!=t.pushTitle&&(n.pushTitle=String(t.pushTitle)),null!=t.pushBody&&(n.pushBody=String(t.pushBody)),null!=t.pushSound&&(n.pushSound=String(t.pushSound)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(e.title="",e.body="",e.thumb="",g.Long){o=new g.Long(0,0,!1);e.width=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.width=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.height=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.height=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.duration=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.duration=n.longs===String?"0":0;if(e.lat=0,e.lng=0,g.Long){o=new g.Long(0,0,!1);e.zoom=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.zoom=n.longs===String?"0":0;e.pushTitle="",e.pushBody="",e.pushSound=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.title&&t.hasOwnProperty("title")&&(e.title=t.title),null!=t.body&&t.hasOwnProperty("body")&&(e.body=t.body),null!=t.thumb&&t.hasOwnProperty("thumb")&&(e.thumb=t.thumb),null!=t.width&&t.hasOwnProperty("width")&&("number"==typeof t.width?e.width=n.longs===String?String(t.width):t.width:e.width=n.longs===String?g.Long.prototype.toString.call(t.width):n.longs===Number?new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber():t.width),null!=t.height&&t.hasOwnProperty("height")&&("number"==typeof t.height?e.height=n.longs===String?String(t.height):t.height:e.height=n.longs===String?g.Long.prototype.toString.call(t.height):n.longs===Number?new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber():t.height),null!=t.duration&&t.hasOwnProperty("duration")&&("number"==typeof t.duration?e.duration=n.longs===String?String(t.duration):t.duration:e.duration=n.longs===String?g.Long.prototype.toString.call(t.duration):n.longs===Number?new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber():t.duration),null!=t.lat&&t.hasOwnProperty("lat")&&(e.lat=n.json&&!isFinite(t.lat)?String(t.lat):t.lat),null!=t.lng&&t.hasOwnProperty("lng")&&(e.lng=n.json&&!isFinite(t.lng)?String(t.lng):t.lng),null!=t.zoom&&t.hasOwnProperty("zoom")&&("number"==typeof t.zoom?e.zoom=n.longs===String?String(t.zoom):t.zoom:e.zoom=n.longs===String?g.Long.prototype.toString.call(t.zoom):n.longs===Number?new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber():t.zoom),null!=t.pushTitle&&t.hasOwnProperty("pushTitle")&&(e.pushTitle=t.pushTitle),null!=t.pushBody&&t.hasOwnProperty("pushBody")&&(e.pushBody=t.pushBody),null!=t.pushSound&&t.hasOwnProperty("pushSound")&&(e.pushSound=t.pushSound),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatSR=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgTime=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(16).int64(t.msgId),null!=t.msgTime&&Object.hasOwnProperty.call(t,"msgTime")&&n.uint32(24).int64(t.msgTime),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatSR;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.msgId=t.int64();break;case 3:o.msgTime=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatSR)return t;var n=new a.ChatSR;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),null!=t.msgTime&&(g.Long?(n.msgTime=g.Long.fromValue(t.msgTime)).unsigned=!1:"string"==typeof t.msgTime?n.msgTime=parseInt(t.msgTime,10):"number"==typeof t.msgTime?n.msgTime=t.msgTime:"object"===o(t.msgTime)&&(n.msgTime=new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgTime=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),null!=t.msgTime&&t.hasOwnProperty("msgTime")&&("number"==typeof t.msgTime?e.msgTime=n.longs===String?String(t.msgTime):t.msgTime:e.msgTime=n.longs===String?g.Long.prototype.toString.call(t.msgTime):n.longs===Number?new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber():t.msgTime),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatR=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.fromUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.sput=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.newMsg=!1,t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.title="",t.prototype.body="",t.prototype.thumb="",t.prototype.width=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.height=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.duration=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.lat=0,t.prototype.lng=0,t.prototype.zoom=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushTitle="",t.prototype.pushBody="",t.prototype.pushSound="",t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.fromUid&&Object.hasOwnProperty.call(t,"fromUid")&&n.uint32(16).int64(t.fromUid),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(24).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(32).int64(t.msgId),null!=t.msgTime&&Object.hasOwnProperty.call(t,"msgTime")&&n.uint32(40).int64(t.msgTime),null!=t.sput&&Object.hasOwnProperty.call(t,"sput")&&n.uint32(48).int64(t.sput),null!=t.newMsg&&Object.hasOwnProperty.call(t,"newMsg")&&n.uint32(56).bool(t.newMsg),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(64).int64(t.type),null!=t.title&&Object.hasOwnProperty.call(t,"title")&&n.uint32(74).string(t.title),null!=t.body&&Object.hasOwnProperty.call(t,"body")&&n.uint32(82).string(t.body),null!=t.thumb&&Object.hasOwnProperty.call(t,"thumb")&&n.uint32(90).string(t.thumb),null!=t.width&&Object.hasOwnProperty.call(t,"width")&&n.uint32(96).int64(t.width),null!=t.height&&Object.hasOwnProperty.call(t,"height")&&n.uint32(104).int64(t.height),null!=t.duration&&Object.hasOwnProperty.call(t,"duration")&&n.uint32(112).int64(t.duration),null!=t.lat&&Object.hasOwnProperty.call(t,"lat")&&n.uint32(121).double(t.lat),null!=t.lng&&Object.hasOwnProperty.call(t,"lng")&&n.uint32(129).double(t.lng),null!=t.zoom&&Object.hasOwnProperty.call(t,"zoom")&&n.uint32(136).int64(t.zoom),null!=t.pushTitle&&Object.hasOwnProperty.call(t,"pushTitle")&&n.uint32(146).string(t.pushTitle),null!=t.pushBody&&Object.hasOwnProperty.call(t,"pushBody")&&n.uint32(154).string(t.pushBody),null!=t.pushSound&&Object.hasOwnProperty.call(t,"pushSound")&&n.uint32(162).string(t.pushSound),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatR;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.fromUid=t.int64();break;case 3:o.toUid=t.int64();break;case 4:o.msgId=t.int64();break;case 5:o.msgTime=t.int64();break;case 6:o.sput=t.int64();break;case 7:o.newMsg=t.bool();break;case 8:o.type=t.int64();break;case 9:o.title=t.string();break;case 10:o.body=t.string();break;case 11:o.thumb=t.string();break;case 12:o.width=t.int64();break;case 13:o.height=t.int64();break;case 14:o.duration=t.int64();break;case 15:o.lat=t.double();break;case 16:o.lng=t.double();break;case 17:o.zoom=t.int64();break;case 18:o.pushTitle=t.string();break;case 19:o.pushBody=t.string();break;case 20:o.pushSound=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatR)return t;var n=new a.ChatR;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.fromUid&&(g.Long?(n.fromUid=g.Long.fromValue(t.fromUid)).unsigned=!1:"string"==typeof t.fromUid?n.fromUid=parseInt(t.fromUid,10):"number"==typeof t.fromUid?n.fromUid=t.fromUid:"object"===o(t.fromUid)&&(n.fromUid=new g.LongBits(t.fromUid.low>>>0,t.fromUid.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),null!=t.msgTime&&(g.Long?(n.msgTime=g.Long.fromValue(t.msgTime)).unsigned=!1:"string"==typeof t.msgTime?n.msgTime=parseInt(t.msgTime,10):"number"==typeof t.msgTime?n.msgTime=t.msgTime:"object"===o(t.msgTime)&&(n.msgTime=new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber())),null!=t.sput&&(g.Long?(n.sput=g.Long.fromValue(t.sput)).unsigned=!1:"string"==typeof t.sput?n.sput=parseInt(t.sput,10):"number"==typeof t.sput?n.sput=t.sput:"object"===o(t.sput)&&(n.sput=new g.LongBits(t.sput.low>>>0,t.sput.high>>>0).toNumber())),null!=t.newMsg&&(n.newMsg=Boolean(t.newMsg)),null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),null!=t.title&&(n.title=String(t.title)),null!=t.body&&(n.body=String(t.body)),null!=t.thumb&&(n.thumb=String(t.thumb)),null!=t.width&&(g.Long?(n.width=g.Long.fromValue(t.width)).unsigned=!1:"string"==typeof t.width?n.width=parseInt(t.width,10):"number"==typeof t.width?n.width=t.width:"object"===o(t.width)&&(n.width=new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber())),null!=t.height&&(g.Long?(n.height=g.Long.fromValue(t.height)).unsigned=!1:"string"==typeof t.height?n.height=parseInt(t.height,10):"number"==typeof t.height?n.height=t.height:"object"===o(t.height)&&(n.height=new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber())),null!=t.duration&&(g.Long?(n.duration=g.Long.fromValue(t.duration)).unsigned=!1:"string"==typeof t.duration?n.duration=parseInt(t.duration,10):"number"==typeof t.duration?n.duration=t.duration:"object"===o(t.duration)&&(n.duration=new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber())),null!=t.lat&&(n.lat=Number(t.lat)),null!=t.lng&&(n.lng=Number(t.lng)),null!=t.zoom&&(g.Long?(n.zoom=g.Long.fromValue(t.zoom)).unsigned=!1:"string"==typeof t.zoom?n.zoom=parseInt(t.zoom,10):"number"==typeof t.zoom?n.zoom=t.zoom:"object"===o(t.zoom)&&(n.zoom=new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber())),null!=t.pushTitle&&(n.pushTitle=String(t.pushTitle)),null!=t.pushBody&&(n.pushBody=String(t.pushBody)),null!=t.pushSound&&(n.pushSound=String(t.pushSound)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.fromUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.fromUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.sput=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sput=n.longs===String?"0":0;if(e.newMsg=!1,g.Long){o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;if(e.title="",e.body="",e.thumb="",g.Long){o=new g.Long(0,0,!1);e.width=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.width=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.height=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.height=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.duration=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.duration=n.longs===String?"0":0;if(e.lat=0,e.lng=0,g.Long){o=new g.Long(0,0,!1);e.zoom=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.zoom=n.longs===String?"0":0;e.pushTitle="",e.pushBody="",e.pushSound=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.fromUid&&t.hasOwnProperty("fromUid")&&("number"==typeof t.fromUid?e.fromUid=n.longs===String?String(t.fromUid):t.fromUid:e.fromUid=n.longs===String?g.Long.prototype.toString.call(t.fromUid):n.longs===Number?new g.LongBits(t.fromUid.low>>>0,t.fromUid.high>>>0).toNumber():t.fromUid),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),null!=t.msgTime&&t.hasOwnProperty("msgTime")&&("number"==typeof t.msgTime?e.msgTime=n.longs===String?String(t.msgTime):t.msgTime:e.msgTime=n.longs===String?g.Long.prototype.toString.call(t.msgTime):n.longs===Number?new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber():t.msgTime),null!=t.sput&&t.hasOwnProperty("sput")&&("number"==typeof t.sput?e.sput=n.longs===String?String(t.sput):t.sput:e.sput=n.longs===String?g.Long.prototype.toString.call(t.sput):n.longs===Number?new g.LongBits(t.sput.low>>>0,t.sput.high>>>0).toNumber():t.sput),null!=t.newMsg&&t.hasOwnProperty("newMsg")&&(e.newMsg=t.newMsg),null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),null!=t.title&&t.hasOwnProperty("title")&&(e.title=t.title),null!=t.body&&t.hasOwnProperty("body")&&(e.body=t.body),null!=t.thumb&&t.hasOwnProperty("thumb")&&(e.thumb=t.thumb),null!=t.width&&t.hasOwnProperty("width")&&("number"==typeof t.width?e.width=n.longs===String?String(t.width):t.width:e.width=n.longs===String?g.Long.prototype.toString.call(t.width):n.longs===Number?new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber():t.width),null!=t.height&&t.hasOwnProperty("height")&&("number"==typeof t.height?e.height=n.longs===String?String(t.height):t.height:e.height=n.longs===String?g.Long.prototype.toString.call(t.height):n.longs===Number?new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber():t.height),null!=t.duration&&t.hasOwnProperty("duration")&&("number"==typeof t.duration?e.duration=n.longs===String?String(t.duration):t.duration:e.duration=n.longs===String?g.Long.prototype.toString.call(t.duration):n.longs===Number?new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber():t.duration),null!=t.lat&&t.hasOwnProperty("lat")&&(e.lat=n.json&&!isFinite(t.lat)?String(t.lat):t.lat),null!=t.lng&&t.hasOwnProperty("lng")&&(e.lng=n.json&&!isFinite(t.lng)?String(t.lng):t.lng),null!=t.zoom&&t.hasOwnProperty("zoom")&&("number"==typeof t.zoom?e.zoom=n.longs===String?String(t.zoom):t.zoom:e.zoom=n.longs===String?g.Long.prototype.toString.call(t.zoom):n.longs===Number?new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber():t.zoom),null!=t.pushTitle&&t.hasOwnProperty("pushTitle")&&(e.pushTitle=t.pushTitle),null!=t.pushBody&&t.hasOwnProperty("pushBody")&&(e.pushBody=t.pushBody),null!=t.pushSound&&t.hasOwnProperty("pushSound")&&(e.pushSound=t.pushSound),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatRBatch=function(){function t(t){if(this.msgs=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgs=g.emptyArray,t.encode=function(t,n){if(n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.msgs&&t.msgs.length)for(var e=0;e<t.msgs.length;++e)a.ChatR.encode(t.msgs[e],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatRBatch;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.msgs&&o.msgs.length||(o.msgs=[]),o.msgs.push(a.ChatR.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatRBatch)return t;var n=new a.ChatRBatch;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),t.msgs){if(!Array.isArray(t.msgs))throw TypeError(".ChatRBatch.msgs: array expected");n.msgs=[];for(var e=0;e<t.msgs.length;++e){if("object"!==o(t.msgs[e]))throw TypeError(".ChatRBatch.msgs: object expected");n.msgs[e]=a.ChatR.fromObject(t.msgs[e])}}return n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.msgs=[]),n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),t.msgs&&t.msgs.length){e.msgs=[];for(var i=0;i<t.msgs.length;++i)e.msgs[i]=a.ChatR.toObject(t.msgs[i],n)}return e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetHistory=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgEnd=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgStart=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.offset=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),null!=t.msgEnd&&Object.hasOwnProperty.call(t,"msgEnd")&&n.uint32(24).int64(t.msgEnd),null!=t.msgStart&&Object.hasOwnProperty.call(t,"msgStart")&&n.uint32(32).int64(t.msgStart),null!=t.offset&&Object.hasOwnProperty.call(t,"offset")&&n.uint32(40).int64(t.offset),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetHistory;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;case 3:o.msgEnd=t.int64();break;case 4:o.msgStart=t.int64();break;case 5:o.offset=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetHistory)return t;var n=new a.GetHistory;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgEnd&&(g.Long?(n.msgEnd=g.Long.fromValue(t.msgEnd)).unsigned=!1:"string"==typeof t.msgEnd?n.msgEnd=parseInt(t.msgEnd,10):"number"==typeof t.msgEnd?n.msgEnd=t.msgEnd:"object"===o(t.msgEnd)&&(n.msgEnd=new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber())),null!=t.msgStart&&(g.Long?(n.msgStart=g.Long.fromValue(t.msgStart)).unsigned=!1:"string"==typeof t.msgStart?n.msgStart=parseInt(t.msgStart,10):"number"==typeof t.msgStart?n.msgStart=t.msgStart:"object"===o(t.msgStart)&&(n.msgStart=new g.LongBits(t.msgStart.low>>>0,t.msgStart.high>>>0).toNumber())),null!=t.offset&&(g.Long?(n.offset=g.Long.fromValue(t.offset)).unsigned=!1:"string"==typeof t.offset?n.offset=parseInt(t.offset,10):"number"==typeof t.offset?n.offset=t.offset:"object"===o(t.offset)&&(n.offset=new g.LongBits(t.offset.low>>>0,t.offset.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgEnd=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgEnd=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgStart=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgStart=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.offset=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.offset=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgEnd&&t.hasOwnProperty("msgEnd")&&("number"==typeof t.msgEnd?e.msgEnd=n.longs===String?String(t.msgEnd):t.msgEnd:e.msgEnd=n.longs===String?g.Long.prototype.toString.call(t.msgEnd):n.longs===Number?new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber():t.msgEnd),null!=t.msgStart&&t.hasOwnProperty("msgStart")&&("number"==typeof t.msgStart?e.msgStart=n.longs===String?String(t.msgStart):t.msgStart:e.msgStart=n.longs===String?g.Long.prototype.toString.call(t.msgStart):n.longs===Number?new g.LongBits(t.msgStart.low>>>0,t.msgStart.high>>>0).toNumber():t.msgStart),null!=t.offset&&t.hasOwnProperty("offset")&&("number"==typeof t.offset?e.offset=n.longs===String?String(t.offset):t.offset:e.offset=n.longs===String?g.Long.prototype.toString.call(t.offset):n.longs===Number?new g.LongBits(t.offset.low>>>0,t.offset.high>>>0).toNumber():t.offset),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.Revoke=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(24).int64(t.msgId),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Revoke;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;case 3:o.msgId=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Revoke)return t;var n=new a.Revoke;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.MsgRead=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(24).int64(t.msgId),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.MsgRead;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;case 3:o.msgId=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.MsgRead)return t;var n=new a.MsgRead;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.DelChat=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.DelChat;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.DelChat)return t;var n=new a.DelChat;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetChatList=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(16).int64(t.updateTime),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(24).int64(t.uid),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetChatList;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.updateTime=t.int64();break;case 3:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetChatList)return t;var n=new a.GetChatList;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatItem=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgEnd=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgLastRead=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.showMsgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.showMsgType=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.showMsg="",t.prototype.showMsgTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.unread=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.matched=!1,t.prototype.newMsg=!1,t.prototype.myMove=!1,t.prototype.iceBreak=!1,t.prototype.tipFree=!1,t.prototype.topAlbum=!1,t.prototype.iBlockU=!1,t.prototype.iChatU=!1,t.prototype.uChatI=!1,t.prototype.deleted=!1,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),null!=t.msgEnd&&Object.hasOwnProperty.call(t,"msgEnd")&&n.uint32(24).int64(t.msgEnd),null!=t.msgLastRead&&Object.hasOwnProperty.call(t,"msgLastRead")&&n.uint32(32).int64(t.msgLastRead),null!=t.showMsgId&&Object.hasOwnProperty.call(t,"showMsgId")&&n.uint32(40).int64(t.showMsgId),null!=t.showMsgType&&Object.hasOwnProperty.call(t,"showMsgType")&&n.uint32(48).int64(t.showMsgType),null!=t.showMsg&&Object.hasOwnProperty.call(t,"showMsg")&&n.uint32(58).string(t.showMsg),null!=t.showMsgTime&&Object.hasOwnProperty.call(t,"showMsgTime")&&n.uint32(64).int64(t.showMsgTime),null!=t.unread&&Object.hasOwnProperty.call(t,"unread")&&n.uint32(72).int64(t.unread),null!=t.matched&&Object.hasOwnProperty.call(t,"matched")&&n.uint32(80).bool(t.matched),null!=t.newMsg&&Object.hasOwnProperty.call(t,"newMsg")&&n.uint32(88).bool(t.newMsg),null!=t.myMove&&Object.hasOwnProperty.call(t,"myMove")&&n.uint32(96).bool(t.myMove),null!=t.iceBreak&&Object.hasOwnProperty.call(t,"iceBreak")&&n.uint32(104).bool(t.iceBreak),null!=t.tipFree&&Object.hasOwnProperty.call(t,"tipFree")&&n.uint32(112).bool(t.tipFree),null!=t.topAlbum&&Object.hasOwnProperty.call(t,"topAlbum")&&n.uint32(120).bool(t.topAlbum),null!=t.iBlockU&&Object.hasOwnProperty.call(t,"iBlockU")&&n.uint32(128).bool(t.iBlockU),null!=t.iChatU&&Object.hasOwnProperty.call(t,"iChatU")&&n.uint32(136).bool(t.iChatU),null!=t.uChatI&&Object.hasOwnProperty.call(t,"uChatI")&&n.uint32(144).bool(t.uChatI),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&n.uint32(152).bool(t.deleted),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatItem;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;case 3:o.msgEnd=t.int64();break;case 4:o.msgLastRead=t.int64();break;case 5:o.showMsgId=t.int64();break;case 6:o.showMsgType=t.int64();break;case 7:o.showMsg=t.string();break;case 8:o.showMsgTime=t.int64();break;case 9:o.unread=t.int64();break;case 10:o.matched=t.bool();break;case 11:o.newMsg=t.bool();break;case 12:o.myMove=t.bool();break;case 13:o.iceBreak=t.bool();break;case 14:o.tipFree=t.bool();break;case 15:o.topAlbum=t.bool();break;case 16:o.iBlockU=t.bool();break;case 17:o.iChatU=t.bool();break;case 18:o.uChatI=t.bool();break;case 19:o.deleted=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatItem)return t;var n=new a.ChatItem;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.msgEnd&&(g.Long?(n.msgEnd=g.Long.fromValue(t.msgEnd)).unsigned=!1:"string"==typeof t.msgEnd?n.msgEnd=parseInt(t.msgEnd,10):"number"==typeof t.msgEnd?n.msgEnd=t.msgEnd:"object"===o(t.msgEnd)&&(n.msgEnd=new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber())),null!=t.msgLastRead&&(g.Long?(n.msgLastRead=g.Long.fromValue(t.msgLastRead)).unsigned=!1:"string"==typeof t.msgLastRead?n.msgLastRead=parseInt(t.msgLastRead,10):"number"==typeof t.msgLastRead?n.msgLastRead=t.msgLastRead:"object"===o(t.msgLastRead)&&(n.msgLastRead=new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber())),null!=t.showMsgId&&(g.Long?(n.showMsgId=g.Long.fromValue(t.showMsgId)).unsigned=!1:"string"==typeof t.showMsgId?n.showMsgId=parseInt(t.showMsgId,10):"number"==typeof t.showMsgId?n.showMsgId=t.showMsgId:"object"===o(t.showMsgId)&&(n.showMsgId=new g.LongBits(t.showMsgId.low>>>0,t.showMsgId.high>>>0).toNumber())),null!=t.showMsgType&&(g.Long?(n.showMsgType=g.Long.fromValue(t.showMsgType)).unsigned=!1:"string"==typeof t.showMsgType?n.showMsgType=parseInt(t.showMsgType,10):"number"==typeof t.showMsgType?n.showMsgType=t.showMsgType:"object"===o(t.showMsgType)&&(n.showMsgType=new g.LongBits(t.showMsgType.low>>>0,t.showMsgType.high>>>0).toNumber())),null!=t.showMsg&&(n.showMsg=String(t.showMsg)),null!=t.showMsgTime&&(g.Long?(n.showMsgTime=g.Long.fromValue(t.showMsgTime)).unsigned=!1:"string"==typeof t.showMsgTime?n.showMsgTime=parseInt(t.showMsgTime,10):"number"==typeof t.showMsgTime?n.showMsgTime=t.showMsgTime:"object"===o(t.showMsgTime)&&(n.showMsgTime=new g.LongBits(t.showMsgTime.low>>>0,t.showMsgTime.high>>>0).toNumber())),null!=t.unread&&(g.Long?(n.unread=g.Long.fromValue(t.unread)).unsigned=!1:"string"==typeof t.unread?n.unread=parseInt(t.unread,10):"number"==typeof t.unread?n.unread=t.unread:"object"===o(t.unread)&&(n.unread=new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber())),null!=t.matched&&(n.matched=Boolean(t.matched)),null!=t.newMsg&&(n.newMsg=Boolean(t.newMsg)),null!=t.myMove&&(n.myMove=Boolean(t.myMove)),null!=t.iceBreak&&(n.iceBreak=Boolean(t.iceBreak)),null!=t.tipFree&&(n.tipFree=Boolean(t.tipFree)),null!=t.topAlbum&&(n.topAlbum=Boolean(t.topAlbum)),null!=t.iBlockU&&(n.iBlockU=Boolean(t.iBlockU)),null!=t.iChatU&&(n.iChatU=Boolean(t.iChatU)),null!=t.uChatI&&(n.uChatI=Boolean(t.uChatI)),null!=t.deleted&&(n.deleted=Boolean(t.deleted)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgEnd=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgEnd=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgLastRead=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgLastRead=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.showMsgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.showMsgId=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.showMsgType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.showMsgType=n.longs===String?"0":0;if(e.showMsg="",g.Long){o=new g.Long(0,0,!1);e.showMsgTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.showMsgTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.unread=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.unread=n.longs===String?"0":0;e.matched=!1,e.newMsg=!1,e.myMove=!1,e.iceBreak=!1,e.tipFree=!1,e.topAlbum=!1,e.iBlockU=!1,e.iChatU=!1,e.uChatI=!1,e.deleted=!1}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.msgEnd&&t.hasOwnProperty("msgEnd")&&("number"==typeof t.msgEnd?e.msgEnd=n.longs===String?String(t.msgEnd):t.msgEnd:e.msgEnd=n.longs===String?g.Long.prototype.toString.call(t.msgEnd):n.longs===Number?new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber():t.msgEnd),null!=t.msgLastRead&&t.hasOwnProperty("msgLastRead")&&("number"==typeof t.msgLastRead?e.msgLastRead=n.longs===String?String(t.msgLastRead):t.msgLastRead:e.msgLastRead=n.longs===String?g.Long.prototype.toString.call(t.msgLastRead):n.longs===Number?new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber():t.msgLastRead),null!=t.showMsgId&&t.hasOwnProperty("showMsgId")&&("number"==typeof t.showMsgId?e.showMsgId=n.longs===String?String(t.showMsgId):t.showMsgId:e.showMsgId=n.longs===String?g.Long.prototype.toString.call(t.showMsgId):n.longs===Number?new g.LongBits(t.showMsgId.low>>>0,t.showMsgId.high>>>0).toNumber():t.showMsgId),null!=t.showMsgType&&t.hasOwnProperty("showMsgType")&&("number"==typeof t.showMsgType?e.showMsgType=n.longs===String?String(t.showMsgType):t.showMsgType:e.showMsgType=n.longs===String?g.Long.prototype.toString.call(t.showMsgType):n.longs===Number?new g.LongBits(t.showMsgType.low>>>0,t.showMsgType.high>>>0).toNumber():t.showMsgType),null!=t.showMsg&&t.hasOwnProperty("showMsg")&&(e.showMsg=t.showMsg),null!=t.showMsgTime&&t.hasOwnProperty("showMsgTime")&&("number"==typeof t.showMsgTime?e.showMsgTime=n.longs===String?String(t.showMsgTime):t.showMsgTime:e.showMsgTime=n.longs===String?g.Long.prototype.toString.call(t.showMsgTime):n.longs===Number?new g.LongBits(t.showMsgTime.low>>>0,t.showMsgTime.high>>>0).toNumber():t.showMsgTime),null!=t.unread&&t.hasOwnProperty("unread")&&("number"==typeof t.unread?e.unread=n.longs===String?String(t.unread):t.unread:e.unread=n.longs===String?g.Long.prototype.toString.call(t.unread):n.longs===Number?new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber():t.unread),null!=t.matched&&t.hasOwnProperty("matched")&&(e.matched=t.matched),null!=t.newMsg&&t.hasOwnProperty("newMsg")&&(e.newMsg=t.newMsg),null!=t.myMove&&t.hasOwnProperty("myMove")&&(e.myMove=t.myMove),null!=t.iceBreak&&t.hasOwnProperty("iceBreak")&&(e.iceBreak=t.iceBreak),null!=t.tipFree&&t.hasOwnProperty("tipFree")&&(e.tipFree=t.tipFree),null!=t.topAlbum&&t.hasOwnProperty("topAlbum")&&(e.topAlbum=t.topAlbum),null!=t.iBlockU&&t.hasOwnProperty("iBlockU")&&(e.iBlockU=t.iBlockU),null!=t.iChatU&&t.hasOwnProperty("iChatU")&&(e.iChatU=t.iChatU),null!=t.uChatI&&t.hasOwnProperty("uChatI")&&(e.uChatI=t.uChatI),null!=t.deleted&&t.hasOwnProperty("deleted")&&(e.deleted=t.deleted),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatItemUpdate=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.event=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgLastRead=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.unread=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.iBlockU=!1,t.prototype.deleted=!1,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&n.uint32(24).int64(t.event),null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(32).int64(t.updateTime),null!=t.msgLastRead&&Object.hasOwnProperty.call(t,"msgLastRead")&&n.uint32(40).int64(t.msgLastRead),null!=t.unread&&Object.hasOwnProperty.call(t,"unread")&&n.uint32(48).int64(t.unread),null!=t.iBlockU&&Object.hasOwnProperty.call(t,"iBlockU")&&n.uint32(56).bool(t.iBlockU),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&n.uint32(64).bool(t.deleted),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatItemUpdate;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;case 3:o.event=t.int64();break;case 4:o.updateTime=t.int64();break;case 5:o.msgLastRead=t.int64();break;case 6:o.unread=t.int64();break;case 7:o.iBlockU=t.bool();break;case 8:o.deleted=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatItemUpdate)return t;var n=new a.ChatItemUpdate;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.event&&(g.Long?(n.event=g.Long.fromValue(t.event)).unsigned=!1:"string"==typeof t.event?n.event=parseInt(t.event,10):"number"==typeof t.event?n.event=t.event:"object"===o(t.event)&&(n.event=new g.LongBits(t.event.low>>>0,t.event.high>>>0).toNumber())),null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.msgLastRead&&(g.Long?(n.msgLastRead=g.Long.fromValue(t.msgLastRead)).unsigned=!1:"string"==typeof t.msgLastRead?n.msgLastRead=parseInt(t.msgLastRead,10):"number"==typeof t.msgLastRead?n.msgLastRead=t.msgLastRead:"object"===o(t.msgLastRead)&&(n.msgLastRead=new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber())),null!=t.unread&&(g.Long?(n.unread=g.Long.fromValue(t.unread)).unsigned=!1:"string"==typeof t.unread?n.unread=parseInt(t.unread,10):"number"==typeof t.unread?n.unread=t.unread:"object"===o(t.unread)&&(n.unread=new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber())),null!=t.iBlockU&&(n.iBlockU=Boolean(t.iBlockU)),null!=t.deleted&&(n.deleted=Boolean(t.deleted)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.event=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.event=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgLastRead=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgLastRead=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.unread=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.unread=n.longs===String?"0":0;e.iBlockU=!1,e.deleted=!1}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.event&&t.hasOwnProperty("event")&&("number"==typeof t.event?e.event=n.longs===String?String(t.event):t.event:e.event=n.longs===String?g.Long.prototype.toString.call(t.event):n.longs===Number?new g.LongBits(t.event.low>>>0,t.event.high>>>0).toNumber():t.event),null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.msgLastRead&&t.hasOwnProperty("msgLastRead")&&("number"==typeof t.msgLastRead?e.msgLastRead=n.longs===String?String(t.msgLastRead):t.msgLastRead:e.msgLastRead=n.longs===String?g.Long.prototype.toString.call(t.msgLastRead):n.longs===Number?new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber():t.msgLastRead),null!=t.unread&&t.hasOwnProperty("unread")&&("number"==typeof t.unread?e.unread=n.longs===String?String(t.unread):t.unread:e.unread=n.longs===String?g.Long.prototype.toString.call(t.unread):n.longs===Number?new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber():t.unread),null!=t.iBlockU&&t.hasOwnProperty("iBlockU")&&(e.iBlockU=t.iBlockU),null!=t.deleted&&t.hasOwnProperty("deleted")&&(e.deleted=t.deleted),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatList=function(){function t(t){if(this.chatItems=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.chatItems=g.emptyArray,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.hasMore=!1,t.encode=function(t,n){if(n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.chatItems&&t.chatItems.length)for(var e=0;e<t.chatItems.length;++e)a.ChatItem.encode(t.chatItems[e],n.uint32(18).fork()).ldelim();return null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(24).int64(t.updateTime),null!=t.hasMore&&Object.hasOwnProperty.call(t,"hasMore")&&n.uint32(32).bool(t.hasMore),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatList;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.chatItems&&o.chatItems.length||(o.chatItems=[]),o.chatItems.push(a.ChatItem.decode(t,t.uint32()));break;case 3:o.updateTime=t.int64();break;case 4:o.hasMore=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatList)return t;var n=new a.ChatList;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),t.chatItems){if(!Array.isArray(t.chatItems))throw TypeError(".ChatList.chatItems: array expected");n.chatItems=[];for(var e=0;e<t.chatItems.length;++e){if("object"!==o(t.chatItems[e]))throw TypeError(".ChatList.chatItems: object expected");n.chatItems[e]=a.ChatItem.fromObject(t.chatItems[e])}}return null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.hasMore&&(n.hasMore=Boolean(t.hasMore)),n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.chatItems=[]),n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;e.hasMore=!1}if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),t.chatItems&&t.chatItems.length){e.chatItems=[];for(var i=0;i<t.chatItems.length;++i)e.chatItems[i]=a.ChatItem.toObject(t.chatItems[i],n)}return null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.hasMore&&t.hasOwnProperty("hasMore")&&(e.hasMore=t.hasMore),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetChat=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetChat;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetChat)return t;var n=new a.GetChat;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetCosKey=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetCosKey;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetCosKey)return t;var n=new a.GetCosKey;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.CosKey=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.token="",t.prototype.id="",t.prototype.key="",t.prototype.bucket="",t.prototype.region="",t.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.expTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.path="",t.prototype.pathDemo="",t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&n.uint32(18).string(t.token),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&n.uint32(26).string(t.id),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(34).string(t.key),null!=t.bucket&&Object.hasOwnProperty.call(t,"bucket")&&n.uint32(42).string(t.bucket),null!=t.region&&Object.hasOwnProperty.call(t,"region")&&n.uint32(50).string(t.region),null!=t.startTime&&Object.hasOwnProperty.call(t,"startTime")&&n.uint32(56).int64(t.startTime),null!=t.expTime&&Object.hasOwnProperty.call(t,"expTime")&&n.uint32(64).int64(t.expTime),null!=t.path&&Object.hasOwnProperty.call(t,"path")&&n.uint32(74).string(t.path),null!=t.pathDemo&&Object.hasOwnProperty.call(t,"pathDemo")&&n.uint32(82).string(t.pathDemo),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.CosKey;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.token=t.string();break;case 3:o.id=t.string();break;case 4:o.key=t.string();break;case 5:o.bucket=t.string();break;case 6:o.region=t.string();break;case 7:o.startTime=t.int64();break;case 8:o.expTime=t.int64();break;case 9:o.path=t.string();break;case 10:o.pathDemo=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.CosKey)return t;var n=new a.CosKey;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.token&&(n.token=String(t.token)),null!=t.id&&(n.id=String(t.id)),null!=t.key&&(n.key=String(t.key)),null!=t.bucket&&(n.bucket=String(t.bucket)),null!=t.region&&(n.region=String(t.region)),null!=t.startTime&&(g.Long?(n.startTime=g.Long.fromValue(t.startTime)).unsigned=!1:"string"==typeof t.startTime?n.startTime=parseInt(t.startTime,10):"number"==typeof t.startTime?n.startTime=t.startTime:"object"===o(t.startTime)&&(n.startTime=new g.LongBits(t.startTime.low>>>0,t.startTime.high>>>0).toNumber())),null!=t.expTime&&(g.Long?(n.expTime=g.Long.fromValue(t.expTime)).unsigned=!1:"string"==typeof t.expTime?n.expTime=parseInt(t.expTime,10):"number"==typeof t.expTime?n.expTime=t.expTime:"object"===o(t.expTime)&&(n.expTime=new g.LongBits(t.expTime.low>>>0,t.expTime.high>>>0).toNumber())),null!=t.path&&(n.path=String(t.path)),null!=t.pathDemo&&(n.pathDemo=String(t.pathDemo)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(e.token="",e.id="",e.key="",e.bucket="",e.region="",g.Long){o=new g.Long(0,0,!1);e.startTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.startTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.expTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.expTime=n.longs===String?"0":0;e.path="",e.pathDemo=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.token&&t.hasOwnProperty("token")&&(e.token=t.token),null!=t.id&&t.hasOwnProperty("id")&&(e.id=t.id),null!=t.key&&t.hasOwnProperty("key")&&(e.key=t.key),null!=t.bucket&&t.hasOwnProperty("bucket")&&(e.bucket=t.bucket),null!=t.region&&t.hasOwnProperty("region")&&(e.region=t.region),null!=t.startTime&&t.hasOwnProperty("startTime")&&("number"==typeof t.startTime?e.startTime=n.longs===String?String(t.startTime):t.startTime:e.startTime=n.longs===String?g.Long.prototype.toString.call(t.startTime):n.longs===Number?new g.LongBits(t.startTime.low>>>0,t.startTime.high>>>0).toNumber():t.startTime),null!=t.expTime&&t.hasOwnProperty("expTime")&&("number"==typeof t.expTime?e.expTime=n.longs===String?String(t.expTime):t.expTime:e.expTime=n.longs===String?g.Long.prototype.toString.call(t.expTime):n.longs===Number?new g.LongBits(t.expTime.low>>>0,t.expTime.high>>>0).toNumber():t.expTime),null!=t.path&&t.hasOwnProperty("path")&&(e.path=t.path),null!=t.pathDemo&&t.hasOwnProperty("pathDemo")&&(e.pathDemo=t.pathDemo),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.UpdatePushToken=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushChannel=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushToken="",t.encode=function(t,n){return n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.pushChannel&&Object.hasOwnProperty.call(t,"pushChannel")&&n.uint32(16).int64(t.pushChannel),null!=t.pushToken&&Object.hasOwnProperty.call(t,"pushToken")&&n.uint32(26).string(t.pushToken),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.UpdatePushToken;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.pushChannel=t.int64();break;case 3:o.pushToken=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.UpdatePushToken)return t;var n=new a.UpdatePushToken;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.pushChannel&&(g.Long?(n.pushChannel=g.Long.fromValue(t.pushChannel)).unsigned=!1:"string"==typeof t.pushChannel?n.pushChannel=parseInt(t.pushChannel,10):"number"==typeof t.pushChannel?n.pushChannel=t.pushChannel:"object"===o(t.pushChannel)&&(n.pushChannel=new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber())),null!=t.pushToken&&(n.pushToken=String(t.pushToken)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.pushChannel=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.pushChannel=n.longs===String?"0":0;e.pushToken=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.pushChannel&&t.hasOwnProperty("pushChannel")&&("number"==typeof t.pushChannel?e.pushChannel=n.longs===String?String(t.pushChannel):t.pushChannel:e.pushChannel=n.longs===String?g.Long.prototype.toString.call(t.pushChannel):n.longs===Number?new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber():t.pushChannel),null!=t.pushToken&&t.hasOwnProperty("pushToken")&&(e.pushToken=t.pushToken),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatAction=function(){function t(t){if(this.uids=[],this.msgs=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uids=g.emptyArray,t.prototype.msgs=g.emptyArray,t.prototype.data="",t.encode=function(t,n){if(n||(n=r.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(16).int64(t.type),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(24).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(32).int64(t.msgId),null!=t.uids&&t.uids.length){n.uint32(42).fork();for(var e=0;e<t.uids.length;++e)n.int64(t.uids[e]);n.ldelim()}if(null!=t.msgs&&t.msgs.length){n.uint32(50).fork();for(e=0;e<t.msgs.length;++e)n.int64(t.msgs[e]);n.ldelim()}return null!=t.data&&Object.hasOwnProperty.call(t,"data")&&n.uint32(58).string(t.data),n},t.decode=function(t,n){t instanceof s||(t=s.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatAction;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.type=t.int64();break;case 3:o.toUid=t.int64();break;case 4:o.msgId=t.int64();break;case 5:if(o.uids&&o.uids.length||(o.uids=[]),2==(7&i))for(var r=t.uint32()+t.pos;t.pos<r;)o.uids.push(t.int64());else o.uids.push(t.int64());break;case 6:if(o.msgs&&o.msgs.length||(o.msgs=[]),2==(7&i))for(r=t.uint32()+t.pos;t.pos<r;)o.msgs.push(t.int64());else o.msgs.push(t.int64());break;case 7:o.data=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatAction)return t;var n=new a.ChatAction;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),t.uids){if(!Array.isArray(t.uids))throw TypeError(".ChatAction.uids: array expected");n.uids=[];for(var e=0;e<t.uids.length;++e)g.Long?(n.uids[e]=g.Long.fromValue(t.uids[e])).unsigned=!1:"string"==typeof t.uids[e]?n.uids[e]=parseInt(t.uids[e],10):"number"==typeof t.uids[e]?n.uids[e]=t.uids[e]:"object"===o(t.uids[e])&&(n.uids[e]=new g.LongBits(t.uids[e].low>>>0,t.uids[e].high>>>0).toNumber())}if(t.msgs){if(!Array.isArray(t.msgs))throw TypeError(".ChatAction.msgs: array expected");n.msgs=[];for(e=0;e<t.msgs.length;++e)g.Long?(n.msgs[e]=g.Long.fromValue(t.msgs[e])).unsigned=!1:"string"==typeof t.msgs[e]?n.msgs[e]=parseInt(t.msgs[e],10):"number"==typeof t.msgs[e]?n.msgs[e]=t.msgs[e]:"object"===o(t.msgs[e])&&(n.msgs[e]=new g.LongBits(t.msgs[e].low>>>0,t.msgs[e].high>>>0).toNumber())}return null!=t.data&&(n.data=String(t.data)),n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.uids=[],e.msgs=[]),n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0;e.data=""}if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),t.uids&&t.uids.length){e.uids=[];for(var i=0;i<t.uids.length;++i)"number"==typeof t.uids[i]?e.uids[i]=n.longs===String?String(t.uids[i]):t.uids[i]:e.uids[i]=n.longs===String?g.Long.prototype.toString.call(t.uids[i]):n.longs===Number?new g.LongBits(t.uids[i].low>>>0,t.uids[i].high>>>0).toNumber():t.uids[i]}if(t.msgs&&t.msgs.length){e.msgs=[];for(i=0;i<t.msgs.length;++i)"number"==typeof t.msgs[i]?e.msgs[i]=n.longs===String?String(t.msgs[i]):t.msgs[i]:e.msgs[i]=n.longs===String?g.Long.prototype.toString.call(t.msgs[i]):n.longs===Number?new g.LongBits(t.msgs[i].low>>>0,t.msgs[i].high>>>0).toNumber():t.msgs[i]}return null!=t.data&&t.hasOwnProperty("data")&&(e.data=t.data),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),t.exports=a},"32f4":function(t,n,e){"use strict";e("4ec9"),e("d3b7"),e("3ca3"),e("ddb0"),e("4de4"),e("4160"),e("159b");var o=0,i=1,s=2,r=3,g=4,a=5,l=6,u=7,c=8,d=10,m=11,p=12,h=13,f=14,b=15,y=20,S=21,w=22,L=39,T="syncChatsChange",O="errorType",v="wsStateChange",I="online",N="offline",E="updateChat",C="syncMsgs",k="readMsg",U="deleteMsg",M="receivedMessage",B="notificationMsg",j="im_onMessage_",P="im_onWebsocket_",D="login",_="logout",R="getConversationList",A="getConversationProvider",G="updateConversationProvider",V="deleteConversation",z="getMessageList",x="setMessageRead",K="sendMessage",J="revokeMessage",F="ReadFlashMessage",H="getCosKey",Y="getAllUnreadCount",W={NET_STATE_DISCONNECTED:"disconnect",NET_STATE_CONNECTING:"connecting",NET_STATE_CONNECTED:"connected"},X={NOT_LOGIN:"notLogin",LOGGING:"logging",LOGGED:"logged"},q={NOT_SYNC_CHAT:"NotSyncChat",SYNC_CHAT_START:"syncChatStart",SYNC_CHAT_SUCCESS:"syncChatSuccess",SYNC_CHAT_FAILED:"syncChatFailed"},Q={BFIM_MSG_STATUS_SENDING:0,BFIM_MSG_STATUS_SEND_SUCC:1,BFIM_MSG_STATUS_SEND_FAIL:2},Z=0,$=1,tt=2,nt={SUCCESS:0,ERROR:1,TOKEN_NOT_FOUND:4,NO_REGISTER:9,SIGNED:11,KICKED_OUT:2008,TIMEOUT:3e3,DISCONNECT:3001,CONNECTERR:3002,CONNECTING:3003,EXITING:3333,LOGGING:3334,DBERR:6005,NOLOGIN:6014,PARAMETER:9001},et={Text:0,Img:1,Audio:2,Video:3,Location:4,Card:5,Flash:7,Revoked:31,Matched:33,Recall:64,Unmatch:65,SysDelete:66,Deleted:67,ClickView:69,Notification:100},ot=0,it=1,st=2,rt=3,gt={CONNECT_CHANGE:"onConnectChange",LOGIN:"onLogin",LOGOUT:"onLogout",SYNC_CHATS_CHANGE:"onSyncChatsChange",MESSAGE_RECEIVED:"onReceivedMessage",MESSAGE_REVOKED:"onRevokedMessage",MESSAGE_DELETE:"onDeleteMessage",MESSAGE_READ:"onReadMessage",MESSAGE_NOTIFICATION:"onNotificationMessage",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",KICKED_OUT:"onKickedOut",TOKEN_NOT_FOUND:"onTokenNotFound"},at="WsStateChange",lt="SyncChatsChange",ut="SyncMsgs",ct="ImLogin",dt="ImLogout",mt="ChatItemUpdate",pt="ResultError",ht="ChatR",ft=e("2909"),bt=(e("ace4"),e("5cc6"),e("9a8c"),e("a975"),e("735e"),e("c1ac"),e("d139"),e("3a7b"),e("d5d6"),e("82f8"),e("e91f"),e("60bd"),e("5f96"),e("3280"),e("3fcc"),e("ca91"),e("25a1"),e("cd26"),e("3c5d"),e("2954"),e("649e"),e("219c"),e("170b"),e("b39a"),e("72f7"),e("fb6a"),e("caad"),e("2532"),e("2ad5")),yt=e("acff");e("99af");var St={compress:function(t,n){var e=t,o=0;return t.length>10&&(o=1,e=yt.a.deflate(t,{level:5,to:"Uint8Array"})),new Uint8Array([n,o].concat(Object(ft.a)(e)))},loginPro:function(t,n,e){return bt.ImLogin.encode(bt.ImLogin.fromObject({sign:t,token:n,subApp:e})).finish()},logoutPro:function(t){return bt.ImLogout.encode(bt.ImLogout.fromObject({sign:t})).finish()},chatListPro:function(t,n){return bt.GetChatList.encode(bt.GetChatList.fromObject({sign:t,updateTime:n})).finish()},delChatPro:function(t,n){return bt.DelChat.encode(bt.DelChat.fromObject({sign:t,toUid:n})).finish()},pingPro:function(){return bt.Ping.encode(bt.Ping.fromObject({type:0})).finish()},getMsgPro:function(t){return t.offset=t.pageSize||20,bt.GetHistory.encode(bt.GetHistory.fromObject(t)).finish()},sendMsgPro:function(t){return bt.ChatS.encode(bt.ChatS.fromObject(t)).finish()},readMsgPro:function(t,n){return bt.MsgRead.encode(bt.MsgRead.fromObject({sign:t,toUid:n})).finish()},chatPro:function(t,n){return bt.GetChat.encode(bt.GetChat.fromObject({sign:t,uid:n})).finish()},cosPro:function(t){return bt.GetCosKey.encode(bt.GetCosKey.fromObject({sign:t})).finish()},directiveMsgPro:function(t){return bt.ChatAction.encode(bt.ChatAction.fromObject(t)).finish()}},wt={ws:null,Global:null,heartRate:3e4,maxReconnectTime:15e3,heartBeatTime:null,reconnectNum:0,closeState:!1,reconnectTimer:null,wsStatus:!1,chatListEvent:null,chatFormatList:[]},Lt=[nt.SUCCESS,nt.TOKEN_NOT_FOUND,nt.KICKED_OUT];function Tt(t,n){Nt(),wt.closeState=!0,wt.Global=t,Et(n),window.removeEventListener("online",Ot(n)),window.addEventListener("online",Ot(n)),window.addEventListener("offline",(function(){wt.ws.close()}))}function Ot(t){wt.closeState||1===wt.ws.readyState||(wt.wsStatus=!1,wt.reconnectNum=0,wt.ws?wt.ws.close():Ct(t))}function vt(t,n){var e;wt.heartBeatTime=(new Date).getTime();var o=St.compress(t,n);null===(e=wt.ws)||void 0===e||e.send(o)}function It(){wt.ws&&(wt.closeState=!0,wt.ws.close()),Nt()}function Nt(){wt.reconnectTimer&&clearTimeout(wt.reconnectTimer),wt.reconnectTimer=null,wt.ws=null,wt.Global=null,wt.heartBeatTime=null,wt.chatListEvent=null,wt.wsStatus=!1,wt.chatFormatList=[],wt.reconnectNum=0}function Et(t){wt.Global.onConn();var n=new WebSocket(t.wsUrl);n.binaryType="arraybuffer",n.onopen=function(n){wt.reconnectNum=0,wt.closeState=!1,wt.heartBeatTime=(new Date).getTime(),t.connSuc(t)},n.onmessage=Mt,n.onclose=function(n){Ct(t),t.connErr(t,n)},n.onerror=function(n){Ct(t)},wt.ws=n}function Ct(t){wt.wsStatus||wt.closeState||(wt.wsStatus=!0,wt.reconnectTimer=setTimeout((function(){0===wt.reconnectNum?wt.reconnectNum=250:wt.reconnectNum<=wt.maxReconnectTime/2?wt.reconnectNum*=2:wt.reconnectNum=wt.maxReconnectTime,Et(t),wt.wsStatus=!1}),wt.reconnectNum))}function kt(t){var n=wt.Global.callEvents,e=null;return Object.prototype.hasOwnProperty.call(t,"sign")&&(e=n.get(t.sign)),e}function Ut(t,n){return t.toObject(t.decode(n),{defaults:!0})}function Mt(t){var n=new Uint8Array(t.data.slice(0,1))[0],e=t.data.slice(2);switch(1===new Uint8Array(t.data.slice(1,2))[0]&&(e=yt.a.inflate(e,{to:"Uint8Array"})),e=new Uint8Array(e),n){case r:!function(t){var n=Ut(bt.Result,t),e=n.code,o=kt(n);if((null==o?void 0:o.type)===D&&!Lt.includes(e)){var i;return void(null===(i=wt.ws)||void 0===i||i.close())}switch(e){case nt.SUCCESS:(null==o?void 0:o.type)===R?(wt.chatListEvent=o,wt.chatFormatList=[]):(null==o?void 0:o.callSuc)&&o.callSuc({data:n});break;case nt.ERROR:(null==o?void 0:o.callErr)&&o.callErr(n);break;case nt.TOKEN_NOT_FOUND:case nt.KICKED_OUT:wt.closeState=!0,wt.ws.close(),wt.Global.handleMessage({type:pt,data:n}),(null==o?void 0:o.callErr)&&o.callErr(n);break;case 12:(null==o?void 0:o.callSuc)&&o.callSuc({chats:[],hasMore:!1});break;default:(null==o?void 0:o.callErr)&&o.callErr(n)}}(e);break;case b:!function(t){var n,e,o=Ut(bt.ChatList,t);(n=wt.chatFormatList).push.apply(n,Object(ft.a)(o.chatItems)),o.updateTime&&null!==(e=wt.chatListEvent)&&void 0!==e&&e.callSuc&&(wt.chatListEvent.callSuc({chats:wt.chatFormatList,updateTime:o.updateTime}),wt.chatListEvent=null,wt.chatFormatList=[])}(e);break;case u:!function(t){var n=Ut(bt.ChatRBatch,t),e=kt(n);(null==e?void 0:e.callSuc)&&e.callSuc({messages:n.msgs})}(e);break;case l:!function(t){var n=Ut(bt.ChatR,t),e=kt(n);null!=e&&e.callSuc?e.callSuc({data:n}):wt.Global.handleMessage({type:ht,data:n})}(e);break;case a:!function(t){var n=Ut(bt.ChatSR,t),e=kt(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case f:!function(t){var n=Ut(bt.ChatItemUpdate,t);wt.Global.handleMessage({type:mt,data:n});var e=kt(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case h:!function(t){var n=Ut(bt.ChatItem,t),e=kt(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case w:!function(t){var n=Ut(bt.CosKey,t),e=kt(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e)}}var Bt=e("53ca"),jt=(e("2ca0"),e("ac1f"),e("1276"),[]);function Pt(t,n){jt.push(t),window.localStorage.setItem(t,JSON.stringify(n))}function Dt(t){window.localStorage.removeItem(t),jt=jt.filter((function(n){return n!==t}))}function _t(t){if("string"==typeof t)try{var n=JSON.parse(t);return!("object"!=Object(Bt.a)(n)||!n)&&n}catch(t){return!1}}var Rt={clear:function(t){for(;jt.length>0;){var n=jt.pop();window.localStorage.removeItem(n)}t&&(window.localStorage.removeItem("im_windowHeartBeat"),window.localStorage.removeItem("im_wsCurId"),window.localStorage.removeItem("im_wsTabs"),window.localStorage.removeItem("im_wsConnTab"))},watchStorage:function(t,n,e){if(!t.key||!t.newValue)return;if("im_wsCurId"===t.key)return void(t.newValue===e.tabId?e.globalTimer():e.curTab&&e.clearTimer());"im_getSdkState"===t.key&&e.curTab&&window.localStorage.setItem("im_setSdkState",JSON.stringify({tabId:t.newValue,sdkState:e.sdkState}));if("im_setSdkState"===t.key){var o=_t(t.newValue);o.tabId===e.tabId&&(window.localStorage.removeItem("im_setSdkState"),e.stateCallEvents.forEach((function(t,n){t.callSuc(o.sdkState)})))}t.key.startsWith("im_update_tabs_")&&e.curTab&&e.updateTabs&&(e.updateTabs.push(t.newValue),window.localStorage.setItem("im_wsTabs",JSON.stringify(e.updateTabs)));if("im_wsConnTab"===t.key&&t.newValue===e.tabId)return e.reconnection(),void window.localStorage.removeItem("im_wsConnTab");if(t.key.startsWith(j)){var i=JSON.parse(t.newValue);return void e.handleMessage(i)}if(t.key.startsWith(P))return void function(t,n,e){var o=_t(t.newValue);if(!1===o)return;if(e.curTab&&o.state===Z){var i=t.key.split("_")[2],s=function(t,n,e){var o=null;switch(t){case _:o=n.logout();break;case A:o=n.getConversationProvider(e.options);break;case V:o=n.deleteConversation(e.options);break;case Y:o=n.getAllUnreadCount();break;case z:e.options.tabId=e.tabId,o=n.getMessageList(e.options);break;case x:o=n.setMessageRead(e.options);break;case K:o=n.sendMessage(e.options);break;case J:o=n.revokeMessage(e.options);break;case H:o=n.getCosKey();break;default:o=!1}return o}(i,n,o);if(!s)return;s.then((function(n){i===z?(o.state=$,o.hasMore=n.data.hasMore,o.messages=n.data.messages,Pt(t.key,o)):function(t,n,e){e.state=$,e.data=t,Pt(n,e)}(n.data,t.key,o)})).catch((function(n){!function(t,n,e){e.state=tt,e.err=t,Pt(n,e)}(n,t.key,o)}))}else o.tabId===e.tabId&&function(t,n,e){Dt(t);var o=n.callEvents.get(e.callSign);e.state===$?(null==o?void 0:o.callSuc)&&o.callSuc(e):e.state===tt&&(null==o?void 0:o.callErr)&&o.callErr(e.err)}(t.key,e,o)}(t,n,e)},onMessageNotice:function(t,n){var e=j+t;Pt(e,n),Dt(e)},onWebSocketNotice:function(t,n){Pt("".concat(P+t,"_").concat(n.tabId,"_").concat(n.callSign,";"),n)}},At=e("5530");e("4e82"),e("a15b"),e("c975"),e("b0c0"),e("e25e");function Gt(t,n){return n?"string"!=typeof t:"string"!=typeof t||""===t}function Vt(t,n){return n?"number"!=typeof t||0===t:"number"!=typeof t}function zt(t){return null==t}function xt(t){return"string"!=typeof t||0!==t.indexOf("http://")&&0!==t.indexOf("https://")}function Kt(t){return"string"!=typeof t||0!==t.indexOf("ws://")&&0!==t.indexOf("wss://")}function Jt(t,n,e){if("object"!==Object(Bt.a)(t))return!0;if(n)switch(e){case"string":return Gt(t[n]);case"number":return Vt(t[n]);case"http":return xt(t[n]);case"ws":return Kt(t[n]);default:return zt(t[n])}}function Ft(t){return"".concat(t," parameter type is wrong or does not exist")}function Ht(t,n,e){return"".concat(t,"_").concat(n,"_").concat(e)}function Yt(t){return Math.round(1e3*(t||(new Date).getTime()+Math.random()))}function Wt(t,n,e){return{name:n,code:e||nt.ERROR,msg:t}}function Xt(t){return{code:nt.PARAMETER,name:t.name,msg:t.msg||Ft(t.key)}}function qt(t){return"C2C_"+t}function Qt(t,n,e){return t.sdkState.loginState===X.NOT_LOGIN?(n(Wt("Imsdk is not logged",e,nt.NOLOGIN)),!1):!t.curTab||t.sdkState.connState===W.NET_STATE_CONNECTED||(n(Wt("disconnected",e,nt.DISCONNECT)),!1)}var Zt={sort:function(t,n){return t.sort((function(t,e){return e[n]-t[n]}))},uuid:function(){for(var t=[],n=0;n<36;n++)t[n]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},isNotString:Gt,isNotNumer:Vt,isNotObject:Jt,isNotEmpty:zt,isNotSize:function(t,n){return new Blob([t],{type:"application/json"}).size>(n||3072)},isNotHttp:xt,isNotWs:Kt,createOnlyId:Ht,createSign:Yt,resultErr:Wt,serverErr:function(t,n){return{name:n,code:t.code||nt.ERROR,msg:t.msg}},parameterErr:Xt,resultSuc:function(t,n){return{code:nt.SUCCESS,name:t,data:JSON.parse(JSON.stringify(n))}},resultNotice:function(t,n,e){return{name:t,code:e||nt.SUCCESS,data:JSON.parse(JSON.stringify(n))}},msgBase:function(t,n){var e=Date.now(),o={fromUid:n,msgId:0,toUid:t,showMsgTime:e,sendStatus:Q.BFIM_MSG_STATUS_SENDING};o.conversationID=qt(t);var i=Yt(e);return o.onlyId=Ht(o.conversationID,n,i),o},splicingC2CId:qt,reformatC2CId:function(t){return parseInt(t.slice(4))},formatMsg:function(t,n){var e={conversationID:n,fromUid:t.fromUid,toUid:t.toUid,type:t.type,msgId:t.msgId,newMsg:t.newMsg,msgTime:t.msgTime,sendStatus:Q.BFIM_MSG_STATUS_SEND_SUCC};return e.onlyId=t.onlyId||Ht(n,t.fromUid,t.sign||t.msgTime),e.showMsgTime=parseInt(t.msgTime/1e3)||t.showMsgTime,function(t,n){switch(t.type){case et.Text:n.text=t.body;break;case et.Img:n.url=t.body,n.height=t.height,n.width=t.width;break;case et.Audio:n.url=t.body,n.duration=t.duration;break;case et.Video:n.url=t.body,n.thumb=t.thumb,n.height=t.height,n.width=t.width,n.duration=t.duration;break;case et.Location:n.title=t.title,n.lat=t.lat,n.lng=t.lng,n.zoom=t.zoom;break;case et.Flash:n.url=t.body,n.height=t.height,n.width=t.width,t.lat||t.lng?(n.fromRead=t.lat===t.fromUid||t.lng===t.fromUid,n.toRead=t.lat===t.toUid||t.lng===t.toUid):(n.toRead=!1,n.fromRead=!1);break;case et.Revoked:n.text=t.body;break;case et.Recall:case et.ClickView:n.text=t.body;break;default:n.content=t.body,n.title=t.title,n.lat=t.lat,n.lng=t.lng,n.zoom=t.zoom,n.thumb=t.thumb,n.height=t.height,n.width=t.width,n.duration=t.duration}}(t,e),e},formatChat:function(t,n){var e=Object(At.a)({},t);return delete e.sign,e.showTime=parseInt(t.showMsgTime/1e3),e.conversationID=qt(t.uid),t.msgEnd&&(e.showMsgFromUid=t.myMove?t.uid:n),e},emptyTip:Ft,createCallEvent:function(t,n){t.callEvents.set(n.callSign,{tabId:t.tabId,type:n.type,timeOut:(new Date).getTime()+t.timeOut,callSuc:function(e){t.callEvents.delete(n.callSign),n.callSuc&&n.callSuc(e)},callErr:function(e){t.callEvents.delete(n.callSign),n.callErr&&n.callErr(e)}})},preJudge:Qt,formatBody:function(t,n,e){var o=null,i=null;if(!Qt(t,e,K))return!1;if(Jt(n,"type","number"))o=Xt({name:K,key:"type"});else switch(n.type){case et.Text:Gt(n.text)&&(o=Xt({name:K,key:"text"})),i=n.text;break;case et.Img:case et.Flash:xt(n.url)?o=Xt({name:K,key:"url"}):zt(n.height)?o=Xt({name:K,key:"height"}):zt(n.width)&&(o=Xt({name:K,key:"width"})),i=n.url;break;default:i=n.content}return o?(e(o),!1):i}},$t=(e("d81d"),e("7db0"),e("25f0"),e("4dec")),tn=null,nn=1,en={chatList:["&conversationID","uid","msgEnd","msgLastRead","showMsgId","showMsgType","showMsg","showMsgTime","showTime","showMsgFromUid","unread","matched","newMsg","myMove","iceBreak","tipFree","topAlbum","iBlockU","iChatU","uChatI","deleted"].join(),msgList:["&onlyId","conversationID","fromUid","toUid","msgId","msgTime","showMsgTime","sendStatus","text","url","type","thumb","width","height","duration","title","lat","lng","zoom","toRead","fromRead","content","sput","newMsg"].join(),chatHistory:["&conversationID"].join()},on={};function sn(t,n){switch(t){case"im_chatHistory":case"im_chatList":"Array"!==(e=n,Object.prototype.toString.call(e).slice(8,-1))&&(n=[])}var e;return n}function rn(t){try{var n=window.localStorage.getItem(t);return sn(t,n=JSON.parse(n))}catch(n){return sn(t,null)}}function gn(t,n){window.localStorage.setItem(t,JSON.stringify(n))}on.initDB=function(t){window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB?((tn=new $t.a("imWsDB")).version(nn).stores(en),tn.open().then((function(n){nn=tn.verno,t()})).catch((function(n){tn=null,t()}))):t()},on.deleteDB=function(){$t.a.delete("imWsDB"),window.localStorage.removeItem("im_chatHistory"),window.localStorage.removeItem("im_chatList")},on.clear=function(){var t;null!==(t=tn)&&void 0!==t&&t.isOpen&&tn.isOpen()?tn.transaction("rw",tn.tables,(function(){tn.tables.forEach((function(t){t.clear()}))})):(window.localStorage.removeItem("im_chatHistory"),window.localStorage.removeItem("im_chatList"))},on.addChatList=function(t){var n;if(null!==(n=tn)&&void 0!==n&&n.isOpen&&tn.isOpen())tn.chatList.bulkPut(t);else{var e=rn("im_chatList");gn("im_chatList",e=e.concat(t))}},on.updateChat=function(t){var n;if(null!==(n=tn)&&void 0!==n&&n.isOpen&&tn.isOpen())return tn.chatList.put(t);var e=rn("im_chatList"),o=t;return gn("im_chatList",e=e.map((function(n){return n.conversationID===t.conversationID&&(o=Object.assign(n,t)),n}))),Promise.resolve(o)},on.getChatList=function(){var t;if(null!==(t=tn)&&void 0!==t&&t.isOpen&&tn.isOpen())return tn.chatList.toCollection().and((function(t){return!1===t.deleted})).toArray();var n=rn("im_chatList");return n=n.filter((function(t){return!1===t.deleted})),Promise.resolve(n)},on.getChat=function(t){var n;if(null!==(n=tn)&&void 0!==n&&n.isOpen&&tn.isOpen())return tn.chatList.get({conversationID:t});var e=rn("im_chatList").find((function(n){return n.conversationID===t}));return Promise.resolve(e)},on.addChatKey=function(t){var n;if(null!==(n=tn)&&void 0!==n&&n.isOpen&&tn.isOpen())tn.chatHistory.put({conversationID:t});else{var e=rn("im_chatHistory");e.find((function(n){return n.conversationID===t}))||(e.push({conversationID:t}),gn("im_chatHistory",e))}},on.getChatKeys=function(){var t;return null!==(t=tn)&&void 0!==t&&t.isOpen&&tn.isOpen()?tn.chatHistory.toArray():Promise.resolve(rn("im_chatHistory"))},on.addMsgList=function(t){var n;null===(n=tn)||void 0===n||n.msgList.bulkPut(t)},on.getMsgList=function(t){var n;return!0!==((null===(n=tn)||void 0===n?void 0:n.isOpen)&&tn.isOpen())?Promise.resolve([]):t.msgEnd?tn.msgList.toCollection().and((function(n){return n.conversationID===t.conversationID&&n.msgId<t.msgEnd})).sortBy("msgId"):tn.msgList.where({conversationID:t.conversationID}).sortBy("msgId")},on.addMsg=function(t){var n;null===(n=tn)||void 0===n||n.msgList.put(t)},on.updateMsg=function(t){var n;null===(n=tn)||void 0===n||n.msgList.where({conversationID:t.conversationID,msgId:t.msgId}).modify(t)},on.updateFlashMsg=function(t){var n;null!==(n=tn)&&void 0!==n&&n.isOpen&&tn.isOpen()&&tn.msgList.get({conversationID:t.conversationID,msgId:t.msgId}).then((function(n){if(n){var e={};n.fromUid===t.fromUid?e.fromRead=!0:n.toUid===t.fromUid&&(e.toRead=!0),tn.msgList.update(n.onlyId,e)}}))},on.deleteMsgs=function(t,n){var e,o;n?null===(e=tn)||void 0===e||e.msgList.toCollection().and((function(e){return e.conversationID===t&&n.includes(e.msgId.toString())})).delete():null===(o=tn)||void 0===o||o.msgList.where({conversationID:t}).delete()};var an,ln,un=on,cn=e("1da1");e("96cf"),e("a9e3"),e("a630"),e("c740"),e("13d5");function dn(t){t.handleMessage({type:lt,state:q.SYNC_CHAT_START});var n=Zt.createSign();t.callEvents.has(n)&&(n+=1),Zt.createCallEvent(t,{type:R,callSign:n,callSuc:function(n){n.updateTime&&n.updateTime>t.updateTime&&(t.updateTime=n.updateTime),n.chats.length>0?t.sdkState.chatsSync===q.SYNC_CHAT_SUCCESS?function(t,n){un.getChatKeys().then((function(e){mn(t,n,e)}))}(t,n.chats):function(t,n){mn(t,n)}(t,n.chats):t.handleMessage({type:lt,state:q.SYNC_CHAT_SUCCESS,chats:[]})},callErr:function(n){t.handleMessage({type:lt,state:q.SYNC_CHAT_FAILED,err:n})}}),vt(St.chatListPro(n,t.updateTime),p)}function mn(t,n,e){var o=n.map((function(n){var o=Zt.formatChat(n,t.sdkState.uid),i=o.conversationID;if(null!=e&&e.find((function(t){return t.conversationID===i}))){var s=t.chatKeys.get(i);!function(t,n,e){var o=Zt.createSign();t.callEvents.has(o)&&(o+=1),Zt.createCallEvent(t,{type:z,callSign:o,callSuc:(i=Object(cn.a)(regeneratorRuntime.mark((function o(i){var s,r,g,a,l,u,c,d,m;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(null!=i&&null!==(s=i.messages)&&void 0!==s&&s.length){o.next=2;break}return o.abrupt("return");case 2:for(r=i.messages.length-1,i.messages[r].msgId>n+1&&un.deleteMsgs(e.conversationID),g=[],a=[],l=[];r>=0;r--)(u=i.messages[r]).type===et.Recall?(c={conversationID:u.conversationID,msgId:parseInt(u.body),type:et.Revoked},g.push(c),un.updateMsg(c)):u.type===et.SysDelete?u.content.split(",").forEach((function(t){l.push(Number(t))})):u.type<64&&(d=Zt.formatMsg(u,e.conversationID),a.push(d));l.length>0&&un.deleteMsgs(e.conversationID,l),m=g.concat(a),un.addMsgList(m),!0!==e.deleted&&t.handleMessage({type:ut,conversationID:e.conversationID,revokeList:g,msgList:a,deleteMsgIds:l});case 12:case"end":return o.stop()}}),o)}))),function(t){return i.apply(this,arguments)}),callErr:function(t){}}),vt(St.getMsgPro({sign:o,toUid:e.uid,pageSize:100,msgStart:n}),c);var i}(t,null==s?void 0:s.msgEnd,o)}return o.deleted?t.chatKeys.delete(i):t.chatKeys.set(i,o),o}));return null!=o&&o.length&&un.addChatList(o),t.handleMessage({type:lt,state:q.SYNC_CHAT_SUCCESS,chats:o}),o}function pn(t,n,e){var o=Zt.sort(Array.from(t.chatKeys.values()),"showMsgTime"),i=!1;if((null==n?void 0:n.pageSize)>0)if(null!=n&&n.conversationID){var s=o.findIndex((function(t){return t.conversationID===n.conversationID}));-1===s||s===o.length-1?o=[]:(i=o.length>s+1+n.pageSize,o=o.slice(s+1,s+1+n.pageSize))}else i=o.length>n.pageSize,o=o.slice(0,n.pageSize);e(Zt.resultSuc(R,{chats:o,hasMore:i}))}function hn(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,A)){if(Zt.isNotObject(n,"conversationID","string")){var i=Zt.parameterErr({name:A,key:"conversationID"});return o(i)}if(t.chatKeys.has(n.conversationID)){var s=t.chatKeys.get(n.conversationID),r=Zt.resultSuc(A,s);e(r)}else un.getChat(n.conversationID).then((function(i){if(i){var s=Zt.resultSuc(A,i);return e(s)}fn(t,n.conversationID,e,o)}))}}))}function fn(t,n,e,o){var i=Zt.createSign();if(t.callEvents.has(i)&&(i+=1),Zt.createCallEvent(t,{type:A,callSign:i,callSuc:function(n){if(n.data){var o=Zt.formatChat(n.data,t.sdkState.uid);un.updateChat(o);var i=Zt.resultSuc(A,o);e(i)}},callErr:function(t){var n=Zt.serverErr(t,A);o(n)}}),t.curTab){var s=Zt.reformatC2CId(n);vt(St.chatPro(i,s),y)}else Rt.onWebSocketNotice(A,{callSign:i,tabId:t.tabId,options:options,state:Z})}function bn(t){return yn.apply(this,arguments)}function yn(){return(yn=Object(cn.a)(regeneratorRuntime.mark((function t(n){var e,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.conversationID||Zt.splicingC2CId(n.uid),o=n,!an.curTab){t.next=5;break}return t.next=5,hn(an,{conversationID:e}).then((function(t){var n=t.data;o=n}));case 5:if(!n.event){t.next=9;break}i=wn(n,o),t.next=12;break;case 9:if(!(n.showMsgTime<o.showMsgTime)){t.next=11;break}return t.abrupt("return");case 11:i=Sn(n,o);case 12:Ln(i);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Sn(t,n){var e=Object(At.a)({},n);if(t.showMsgTime>an.updateTime&&(an.updateTime=t.showMsgTime),an.curTab)switch(t.showMsgType){case et.Recall:t.showMsgId===e.showMsgId?(e.msgEnd=t.msgEnd,e.showMsgType=et.Revoked,e.showMsg=""):e.msgEnd<t.msgEnd&&(e.msgEnd=t.msgEnd);break;case et.Unmatch:e.msgEnd=t.msgEnd,e.matched=!1;break;default:t.unread&&t.msgEnd>e.msgEnd&&(t.unread=(e.unread||0)+t.unread),Object.assign(e,t),e.showTime=parseInt(e.showMsgTime/1e3),e.deleted=!1}return e}function wn(t,n){var e=Object(At.a)({},n);switch(t.event){case ot:e.msgLastRead=t.msgLastRead;break;case it:e.unread=t.unread;break;case st:e.iBlockU=t.iBlockU;break;case rt:t.deleted&&(e.deleted=t.deleted,an.chatKeys.has(n.conversationID)&&an.chatKeys.delete(n.conversationID))}return t.updateTime>an.updateTime&&(an.updateTime=t.updateTime),e}function Ln(t){if(an.chatKeys.has(t.conversationID)){var n=an.chatKeys.get(t.conversationID);Object.assign(n,t)}else!0!==t.deleted&&an.chatKeys.set(t.conversationID,t);if(ln[gt.CONVERSATION_LIST_UPDATED]){var e=Zt.resultNotice(gt.CONVERSATION_LIST_UPDATED,[t]);ln[gt.CONVERSATION_LIST_UPDATED](e)}an.curTab&&(Rt.onMessageNotice(E,{type:mt,data:t}),un.updateChat(t))}var Tn=function(t,n,e){switch(an=t,ln=n,e.type){case at:!function(t){an.sdkState.connState=t.state,an.curTab&&Rt.onMessageNotice(v,t);if(ln[gt.CONNECT_CHANGE]){var n=Zt.resultNotice(gt.CONNECT_CHANGE,{state:t.state});ln[gt.CONNECT_CHANGE](n)}}(e);break;case lt:!function(t){an.curTab?Rt.onMessageNotice(T,t):t.state===q.SYNC_CHAT_SUCCESS&&t.chats.forEach((function(t){t.delete?an.chatKeys.delete(t.conversationID):an.chatKeys.set(t.conversationID,t)}));if(t.state!==q.SYNC_CHAT_START){var n;if(an.chatCallEvents.forEach((function(n,e){t.state===q.SYNC_CHAT_SUCCESS?n.callSuc():t.state===q.SYNC_CHAT_FAILED&&n.callErr(t.err)})),an.sdkState.chatsSync===q.SYNC_CHAT_SUCCESS){if(ln[gt.CONVERSATION_LIST_UPDATED]&&(null===(n=t.chats)||void 0===n?void 0:n.length)>0){var e=Zt.resultNotice(gt.CONVERSATION_LIST_UPDATED,t.chats);ln[gt.CONVERSATION_LIST_UPDATED](e)}}else an.sdkState.chatsSync=q.SYNC_CHAT_SUCCESS}if(ln[gt.SYNC_CHATS_CHANGE]){var o=Zt.resultNotice(gt.SYNC_CHATS_CHANGE,{state:t.state});ln[gt.SYNC_CHATS_CHANGE](o)}}(e);break;case ut:!function(t){an.curTab&&Rt.onMessageNotice(C,t);if(t.msgList.length>0&&ln[gt.MESSAGE_RECEIVED]){var n=Zt.resultNotice(gt.MESSAGE_RECEIVED,t.msgList);ln[gt.MESSAGE_RECEIVED](n)}if(t.deleteMsgIds.length>0&&ln[gt.MESSAGE_DELETE]){var e=Zt.resultNotice(gt.MESSAGE_DELETE,{conversationID:t.conversationID,msgIds:t.deleteMsgIds});ln[gt.MESSAGE_DELETE](e)}if(t.revokeList.length>0&&ln[gt.MESSAGE_REVOKED]){var o=Zt.resultNotice(gt.MESSAGE_REVOKED,t.revokeList);ln[gt.MESSAGE_REVOKED](o)}}(e);break;case ct:!function(t){if(Object.assign(an.sdkState,t.data),an.curTab)an.updateTabs=[an.tabId],window.localStorage.setItem("im_wsTabs",JSON.stringify(an.updateTabs)),Rt.onMessageNotice(I,t);else{var n="im_update_tabs_"+an.tabId;window.localStorage.setItem(n,an.tabId),window.localStorage.removeItem(n)}if(ln[gt.LOGIN]){var e=Zt.resultNotice(gt.LOGIN,{code:nt.SUCCESS,loginState:t.data.loginState,uid:t.data.uid});ln[gt.LOGIN](e)}}(e);break;case dt:!function(t){if(an.curTab&&an.sdkState.loginState===X.LOGGED){var n=Zt.createSign();vt(St.logoutPro(n),s)}an.clearData(t.data.isBroadcast),t.data.isBroadcast&&(t.data.isBroadcast=!1,Rt.onMessageNotice(N,t));if(ln[gt.LOGOUT]){var e=Zt.resultNotice(gt.LOGOUT,{code:t.data.code,msg:t.data.msg});ln[gt.LOGOUT](e)}}(e);break;case mt:bn(e.data);break;case pt:!function(t){an.curTab&&Rt.onMessageNotice(O,t);switch(an.clearData(an.curTab),t.data.code){case nt.KICKED_OUT:case nt.NO_REGISTER:if(ln[gt.KICKED_OUT]){var n=Zt.resultNotice(gt.KICKED_OUT,t.data);ln[gt.KICKED_OUT](n)}break;case nt.TOKEN_NOT_FOUND:if(ln[gt.TOKEN_NOT_FOUND]){var e,o=Zt.resultNotice(gt.TOKEN_NOT_FOUND,null===(e=t.data)||void 0===e?void 0:e.msg,t.data.code);ln[gt.TOKEN_NOT_FOUND](o)}}}(e);break;case ht:!function(t){t.shift?an.msgHandleList.unshift(t):an.msgHandleList.push(t);if(an.handleMsgState)return;!function t(){new Promise((function(t,n){try{var e=an.msgHandleList.shift().data;if(!e.onlyId){var o=an.sdkState.uid===e.fromUid?e.toUid:e.fromUid,i=Zt.splicingC2CId(o);e=Zt.formatMsg(e,i)}e.type===et.Notification?function(t,n){an.curTab&&Rt.onMessageNotice(B,{type:ht,data:t});if(ln[gt.MESSAGE_NOTIFICATION]){var e=Zt.resultNotice(gt.MESSAGE_NOTIFICATION,t);ln[gt.MESSAGE_NOTIFICATION](e)}n()}(e,t):e.type>=64&&e.type<=99?function(t,n){switch(t.type){case et.Recall:!function(t,n){var e={conversationID:t.conversationID,msgId:parseInt(t.text),type:et.Revoked};if(ln[gt.MESSAGE_REVOKED]){var o=Zt.resultNotice(gt.MESSAGE_REVOKED,[e]);ln[gt.MESSAGE_REVOKED](o)}an.curTab&&(Rt.onMessageNotice(M,{type:ht,data:t}),un.updateMsg(e),bn({conversationID:t.conversationID,msgEnd:t.msgId,showMsgId:e.msgId,showMsgTime:t.msgTime,showMsgType:et.Recall}));n()}(t,n);break;case et.Unmatch:!function(t,n){an.chatKeys.has(t.conversationID)&&(an.curTab&&Rt.onMessageNotice(M,{type:ht,data:t}),bn({conversationID:t.conversationID,msgEnd:t.msgId,showMsgTime:t.msgTime,showMsgType:et.Unmatch}),n())}(t,n);break;case et.SysDelete:!function(t,n){if(an.curTab){var e=t.content.split(",").map(Number);un.deleteMsgs(t.conversationID,e),t.content=e,Rt.onMessageNotice(U,{type:ht,data:t})}var o=an.chatKeys.get(t.conversationID);t.content.includes(null==o?void 0:o.showMsgId)&&bn({conversationID:t.conversationID,showMsgType:et.Deleted,showMsg:""});if(ln[gt.MESSAGE_DELETE]){var i=Zt.resultNotice(gt.MESSAGE_DELETE,{conversationID:t.conversationID,msgIds:t.content});ln[gt.MESSAGE_DELETE](i)}n()}(t,n);break;case et.ClickView:!function(t,n){var e={conversationID:t.conversationID,msgId:parseInt(t.text),type:et.ClickView,fromUid:t.fromUid};if(ln[gt.MESSAGE_READ]){var o=Zt.resultNotice(gt.MESSAGE_READ,[e]);ln[gt.MESSAGE_READ](o)}an.curTab&&(Rt.onMessageNotice(k,{type:ht,data:t}),un.updateFlashMsg(e));n()}(t,n)}}(e,t):function(t,n){var e=t;if(ln[gt.MESSAGE_RECEIVED]){var o=Zt.resultNotice(gt.MESSAGE_RECEIVED,[e]);ln[gt.MESSAGE_RECEIVED](o)}if(an.curTab){var i;Rt.onMessageNotice(M,{type:ht,data:e}),un.addMsg(e),i=e.type===et.Text?e.text:e.content;var s=an.sdkState.uid,r={conversationID:e.conversationID,msgEnd:e.msgId,showMsgId:e.msgId,showMsgType:e.type,showMsg:i,showMsgTime:e.msgTime,myMove:e.fromUid!==s,showMsgFromUid:e.fromUid};e.fromUid!==s&&(r.unread=1),e.type===et.Matched&&(r.matched=!0),e.type>=0&&e.type<=30&&(e.fromUid!==s?r.uChatI=!0:r.iChatU=!0),bn(r),n()}else n()}(e,t)}catch(t){n(t)}})).finally((function(){an.msgHandleList.length>0?t():an.handleMsgState=!1}))}()}(e)}};function On(t,n){return new Promise((function(e,o){return Zt.isNotWs(n.wsUrl)?o(Zt.parameterErr({name:D,key:"wsUrl"})):Zt.isNotString(n.imToken)?o(Zt.parameterErr({name:D,key:"imToken"})):Zt.isNotEmpty(n.subAppId)?o(Zt.parameterErr({name:D,key:"subAppId"})):void function(t,n,e,o){vn(t).then((function(i){if(i.loginState===X.NOT_LOGIN)t.clearData(!0),In(t,n,e,o);else if((null==i?void 0:i.imToken)!==n.imToken)Cn(t).then((function(){In(t,n,e,o)}));else if(i.loginState===X.LOGGED){i.chatsSync===q.SYNC_CHAT_SUCCESS&&(delete i.chatsSync,t.initChats()),Object.assign(t.sdkState,i);var s=Zt.resultSuc(D,{msg:"Logged in",uid:i.uid});e(s)}}))}(t,n,e,o)}))}function vn(t){return new Promise((function(n,e){if(t.sdkState.loginState===X.LOGGED||t.curTab)n(t.sdkState);else{var o=Zt.createSign();window.localStorage.setItem("im_getSdkState",t.tabId),window.localStorage.removeItem("im_getSdkState"),t.stateCallEvents.has(o)&&(o+=1),t.stateCallEvents.set(o,{timeOut:Date.now()+3e3,callSuc:function(e){t.stateCallEvents.delete(o),n(e)},callErr:function(e){t.stateCallEvents.delete(o),n({loginState:X.NOT_LOGIN,chatsSync:q.NOT_SYNC_CHAT,connState:W.NET_STATE_DISCONNECTED})}})}}))}function In(t,n,e,o){window.localStorage.setItem("im_wsCurId",t.tabId),t.globalTimer(),Object.assign(t.sdkState,{loginState:X.LOGGING,wsUrl:n.wsUrl,imToken:n.imToken,subAppId:n.subAppId});var i={wsUrl:n.wsUrl,imToken:n.imToken,subAppId:n.subAppId,resolve:e,reject:o,connSuc:function(n){return Nn(t,n)},connErr:function(n,e){return En(t,n,e)}};Tt(t,i)}function Nn(t,n){t.handleMessage({type:at,state:W.NET_STATE_CONNECTED}),function(t,n){return new Promise((function(e,o){var s=Zt.createSign();t.callEvents.has(s)&&(s+=1),Zt.createCallEvent(t,{type:D,callSign:s,callSuc:function(t){e(t)},callErr:function(t){n.isReconect||It(),n.isReconect&&(null==t?void 0:t.code)===nt.NO_REGISTER&&wsConfig.Global.handleMessage({type:pt,data:t});var e=Zt.serverErr(t,D);o(e)}}),vt(St.loginPro(s,n.imToken,n.subAppId),i)}))}(t,n).then((function(e){if(!0!==(null==n?void 0:n.isReconect)){n.isReconect=!0,t.sdkState.uid=e.data.uid;var o=Zt.resultSuc(D,{msg:e.data.msg,uid:e.data.uid});n.resolve&&n.resolve(o),setTimeout((function(){t.handleMessage({type:ct,data:{uid:e.data.uid,loginState:X.LOGGED,wsUrl:n.wsUrl,imToken:n.imToken,subAppId:n.subAppId}})}),0)}else t.sdkState.uid=e.data.uid;dn(t)})).catch((function(t){n.reject&&n.reject(t)}))}function En(t,n,e){if(t.handleMessage({type:at,state:W.NET_STATE_DISCONNECTED}),!0!==n.isReconect&&n.reject){var o=Zt.resultErr("Failed to establish websocket connection",D,nt.CONNECTERR);n.reject(o)}}function Cn(t){return new Promise((function(n,e){var o={code:nt.SUCCESS,isBroadcast:!0,msg:"Success"};t.handleMessage({type:dt,data:o}),n(Zt.resultSuc(_,o))}))}function kn(t,n,e,o,i){var s=Zt.createSign();if(t.callEvents.has(s)&&(s+=1),Zt.createCallEvent(t,{type:z,callSign:s,callSuc:function(o){!function(t,n,e,o,i){if(t.curTab){var s=[];e.messages.forEach((function(t){if(t.type<64){var e=Zt.formatMsg(t,n.conversationID);s.unshift(e)}})),s.length>0&&un.addMsgList(s),null!=i&&i.length&&s.push.apply(s,Object(ft.a)(i)),Un(n,o,s)}else Un(n,o,e.messages)}(t,n,o,e,i)},callErr:function(t){var n=Zt.serverErr(t,z);o(n)}}),t.curTab){var r=Zt.reformatC2CId(n.conversationID),g=n.msgEnd;null!=i&&i.length&&(g=i[0].msgId),vt(St.getMsgPro({sign:s,toUid:r,msgEnd:g}),c)}else Rt.onWebSocketNotice(z,{tabId:t.tabId,callSign:s,options:n,state:Z})}function Un(t,n,e){var o=e.slice(0-t.pageSize);n(Zt.resultSuc(z,{conversationID:t.conversationID,messages:o,hasMore:e.length>=t.pageSize}))}function Mn(t,n){return new Promise((function(e,o){var i=Zt.formatBody(t,n,o);if(!1!==i){var s=Zt.createSign(n.showMsgTime);if(t.callEvents.has(s)&&(s+=1),Zt.createCallEvent(t,{type:K,callSign:s,callSuc:function(o){!function(t,n,e,o){if(t.curTab){var i=Object(At.a)({},n);i.msgId=e.data.msgId,i.msgTime=e.data.msgTime,i.sendStatus=Q.BFIM_MSG_STATUS_SEND_SUCC,t.handleMessage({type:ht,shift:!0,data:i})}var s=Zt.resultSuc(K,{conversationID:n.conversationID,msgId:e.data.msgId,sendStatus:Q.BFIM_MSG_STATUS_SEND_SUCC});o(s)}(t,n,o,e)},callErr:function(t){var n=Zt.serverErr(t,K);o(n)}}),t.curTab)vt(St.sendMsgPro(Object(At.a)(Object(At.a)({},n),{},{sign:s,body:i})),g);else Rt.onWebSocketNotice(K,{callSign:s,tabId:t.tabId,options:n,state:Z})}}))}function Bn(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,J)){if(Zt.isNotObject(n,"conversationID","string")){var i=Zt.parameterErr({name:J,key:"conversationID"});return o(i)}if(Zt.isNotNumer(n.msgId,!0)){var s=Zt.parameterErr({name:J,key:"msgId"});return o(s)}var r=Zt.createSign();if(t.callEvents.has(r)&&(r+=1),Zt.createCallEvent(t,{type:J,callSign:r,callSuc:function(o){!function(t,n,e,o){t.curTab&&t.handleMessage({type:ht,shift:!0,data:e.data});var i=Zt.resultSuc(J,{conversationID:n.conversationID,msgId:n.msgId,type:et.Revoked});o(i)}(t,n,o,e)},callErr:function(t){var n=Zt.serverErr(t,J);o(n)}}),t.curTab){var g=Zt.reformatC2CId(n.conversationID);vt(St.directiveMsgPro({sign:r,toUid:g,type:et.Recall,msgId:n.msgId}),L)}else Rt.onWebSocketNotice(J,{callSign:r,tabId:t.tabId,options:n,state:Z})}}))}function jn(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,F)){if(Zt.isNotObject(n,"conversationID","string")){var i=Zt.parameterErr({name:F,key:"conversationID"});return o(i)}if(Zt.isNotNumer(n.msgId,!0)){var s=Zt.parameterErr({name:F,key:"msgId"});return o(s)}var r=Zt.createSign();if(t.callEvents.has(r)&&(r+=1),Zt.createCallEvent(t,{type:F,callSign:r,callSuc:function(o){!function(t,n,e,o){t.curTab&&t.handleMessage({type:ht,shift:!0,data:e.data});var i=Zt.resultSuc(F,{conversationID:n.conversationID,msgId:n.msgId,type:et.ClickView,fromUid:e.data.fromUid});o(i)}(t,n,o,e)},callErr:function(t){var n=Zt.serverErr(t,F);o(n)}}),t.curTab){var g=Zt.reformatC2CId(n.conversationID);vt(St.directiveMsgPro({sign:r,toUid:g,type:et.ClickView,msgId:n.msgId}),L)}else Rt.onWebSocketNotice(F,{callSign:r,tabId:t.tabId,options:n,state:Z})}}))}var Pn={TYPES:{WS_STATE:W,SYNC_CHAT:q,SEND_STATE:Q,ERROR_CODE:nt,MSG_TYPE:et,IM_LOGIN_STATE:X},EVENT:gt,create:function(){return new Promise((function(t,n){var e;null!==Dn&&t(Dn),_n={timeOut:3e4,tabId:null===(e=_n)||void 0===e?void 0:e.tabId,curTab:!1,chatPageSize:20,maxChatPageSize:100,msgPageSize:20,maxMsgPageSize:100,heartBeatTimer:null,sdkState:{loginState:X.NOT_LOGIN,chatsSync:q.NOT_SYNC_CHAT,connState:W.NET_STATE_DISCONNECTED},callEvents:new Map,chatCallEvents:new Map,stateCallEvents:new Map,chatKeys:new Map,msgHandleList:[],handleMsgState:!1,updateTime:null,updateTabs:null,clearTimer:function(){var t;_n.curTab=!1,null!==(t=_n)&&void 0!==t&&t.heartBeatTimer&&clearInterval(_n.heartBeatTimer)},onConn:function(){_n.handleMessage({type:at,state:W.NET_STATE_CONNECTING})},reconnection:function(){return t=_n,window.localStorage.setItem("im_wsCurId",t.tabId),t.globalTimer(),void vn(t).then((function(n){if(n.wsUrl&&n.imToken){var e={wsUrl:n.wsUrl,imToken:n.imToken,subAppId:n.subAppId,isReconect:!0,connSuc:function(n){return Nn(t,n)},connErr:function(n,e){return En(t,n)}};Tt(t,e)}else Cn()}));var t},handleMessage:function(t){return Tn(_n,Dn,t)},globalTimer:Gn,clearData:Rn,initChats:Vn};var o=Zt.uuid(),i=window.localStorage.getItem("im_windowHeartBeat"),s=JSON.parse(window.localStorage.getItem("im_wsTabs")||"[]");s.push(o),window.localStorage.setItem("im_wsTabs",JSON.stringify(s)),_n.tabId=o,(i||0)<(new Date).getTime()-3e3&&(Rt.clear(),It(),un.deleteDB(),window.localStorage.setItem("im_wsCurId",o),Gn()),window.addEventListener("unload",An),un.initDB((function(){var n;Dn=n={login:function(t){return On(_n,t)},logout:function(){return Cn(_n)},createTextMessage:function(t){return function(t,n){var e;if(null==n||!n.to)return{code:nt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if(null===(e=n.payload)||void 0===e||!e.text)return{code:nt.PARAMETER,msg:"Parameter 'text' cann't be empty"};var o=Zt.msgBase(n.to,t.sdkState.uid);return Object.assign(o,{type:et.Text,text:n.payload.text}),{code:nt.SUCCESS,message:o}}(_n,t)},createImageMessage:function(t){return function(t,n){var e;if(null==n||!n.to)return{code:nt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if(null===(e=n.payload)||void 0===e||!e.url)return{code:nt.PARAMETER,msg:"Parameter 'url' cann't be empty"};var o=Zt.msgBase(n.to,t.sdkState.uid);return Object.assign(o,{type:et.Img,url:n.payload.url,width:n.payload.width,height:n.payload.height}),{code:nt.SUCCESS,message:o}}(_n,t)},createFlashMessage:function(t){return function(t,n){var e;if(null==n||!n.to)return{code:nt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if(null===(e=n.payload)||void 0===e||!e.url)return{code:nt.PARAMETER,msg:"Parameter 'url' cann't be empty"};var o=Zt.msgBase(n.to,t.sdkState.uid);return Object.assign(o,{type:et.Flash,url:n.payload.url,width:n.payload.width,height:n.payload.height,iSee:!1,oppositeSee:!1}),{code:nt.SUCCESS,message:o}}(_n,t)},createBusinessMessage:function(t){return function(t,n){var e,o;if(null==n||!n.to)return{code:nt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if((null===(e=n.payload)||void 0===e?void 0:e.type)>30||(null===(o=n.payload)||void 0===o?void 0:o.type)<11)return{code:nt.PARAMETER,msg:"Type can only use 11-30"};var i=Zt.msgBase(n.to,t.sdkState.uid);return Object.assign(i,n.payload),{code:nt.SUCCESS,message:i}}(_n,t)},sendMessage:function(t){return Mn(_n,t)},revokeMessage:function(t){return Bn(_n,t)},getMessageList:function(t){return function(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,z)){if(Zt.isNotObject(n,"conversationID","string")){var i=Zt.parameterErr({name:z,key:"conversationID"});return o(i)}if(n.pageSize&&(n.pageSize>t.maxMsgPageSize||Zt.isNotNumer(null==n?void 0:n.pageSize))){var s=Zt.parameterErr({name:z,msg:"The maximum number of entries cannot exceed ".concat(t.maxMsgPageSize)});return o(s)}if(1===n.msgEnd){var r=Zt.resultSuc(z,{conversationID:n.conversationID,messages:[],hasMore:!1});return e(r)}var g=Object(At.a)({tabId:t.tabId,pageSize:t.msgPageSize},n);g.tabId!==t.tabId?kn(t,g,e,o):(un.addChatKey(g.conversationID),un.getMsgList(g).then((function(n){var i;n.length>=g.pageSize||1===(null===(i=n[0])||void 0===i?void 0:i.msgId)?Un(g,e,n):kn(t,g,e,o,n)})))}}))}(_n,t)},readFlashMessage:function(t){return jn(_n,t)},setMessageRead:function(t){return function(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,x)){if(Zt.isNotObject(n,"conversationID","string")){var i=Zt.parameterErr({name:x,key:"conversationID"});return o(i)}var s=Zt.createSign();if(t.callEvents.has(s)&&(s+=1),Zt.createCallEvent(t,{type:x,callSign:s,callSuc:function(t){var o=Zt.resultSuc(x,{conversationID:t.conversationID,msgId:n.msgId,msgTime:t.updateTime});e(o)},callErr:function(t){var n=Zt.serverErr(t,x);o(n)}}),t.curTab){var r=Zt.reformatC2CId(n.conversationID);vt(St.readMsgPro(s,r),d)}else Rt.onWebSocketNotice(x,{callSign:s,tabId:t.tabId,options:n,state:Z})}}))}(_n,t)},getConversationList:function(t){return function(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,R)){if(null!=n&&n.pageSize&&Zt.isNotNumer(null==n?void 0:n.pageSize)){var i=Zt.parameterErr({name:R,key:"pageSize"});return o(i)}if(t.sdkState.chatsSync===q.SYNC_CHAT_SUCCESS)pn(t,n,e);else{var s=Zt.createSign();t.chatCallEvents.has(s)&&(s+=1),t.chatCallEvents.set(s,{callSuc:function(){t.chatCallEvents.delete(s),pn(t,n,e)},callErr:function(n){t.chatCallEvents.delete(s);var e=Zt.resultErr((null==n?void 0:n.msg)||"Failed to get the conversation list",R,(null==n?void 0:n.code)||nt.ERROR);o(e)}})}}}))}(_n,t)},getConversationProvider:function(t){return hn(_n,t)},updateConversationProvider:function(t){return function(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,G)){if(Zt.isNotObject(n,"conversationID","string")){var i=Zt.parameterErr({name:G,key:"conversationID"});return o(i)}if(t.chatKeys.has(n.conversationID)){var s=t.chatKeys.get(n.conversationID);Object.assign(s,n);var r=Zt.resultSuc(G,s);e(r)}else un.getChat(n.conversationID).then((function(t){if(t){var i=Object.assign(t,n),s=Zt.resultSuc(G,i);e(s)}else{var r=Zt.resultErr("Failed to update local session information",G,nt.ERROR);o(r)}}))}}))}(_n,t)},deleteConversation:function(t){return function(t,n){return new Promise((function(e,o){if(Zt.preJudge(t,o,V)){if(Zt.isNotObject(n,"conversationID","string")){var i=Zt.parameterErr({name:V,key:"conversationID"});return o(i)}var s=Zt.createSign();if(t.callEvents.has(s)&&(s+=1),Zt.createCallEvent(t,{type:V,callSign:s,callSuc:function(t){var o=Zt.resultSuc(V,{conversationID:n.conversationID,updateTime:t.data.updateTime,deleted:t.data.deleted});return e(o)},callErr:function(t){var n=Zt.serverErr(t,V);o(n)}}),t.curTab){var r=Zt.reformatC2CId(n.conversationID);vt(St.delChatPro(s,parseInt(r)),m)}else Rt.onWebSocketNotice(V,{callSign:s,tabId:t.tabId,options:n,state:Z})}}))}(_n,t)},getAllUnreadCount:function(){return t=_n,new Promise((function(n,e){if(t.sdkState.chatsSync===q.SYNC_CHAT_SUCCESS){var o=Array.from(t.chatKeys.values()).reduce((function(t,n){return t+n.unread}),0),i=Zt.resultSuc(Y,{unread:o||0});n(i)}else{var s=Zt.createSign();t.chatCallEvents.has(s)&&(s+=1),t.chatCallEvents.set(s,{callSuc:function(){t.chatCallEvents.delete(s);var e=Array.from(t.chatKeys.values()).reduce((function(t,n){return t+n.unread}),0),o=Zt.resultSuc(Y,{unread:e});n(o)},callErr:function(){t.chatCallEvents.delete(s);var n=Zt.resultErr("Failed to get no reading",Y,nt.ERROR);e(n)}})}}));var t},getCosKey:function(){return t=_n,new Promise((function(n,e){var o=Zt.createSign();t.callEvents.has(o)&&(o+=1),Zt.createCallEvent(t,{type:H,callSign:o,callSuc:function(t){var e=Zt.resultSuc(H,t.data);return n(e)},callErr:function(t){var n=Zt.serverErr(t,H);e(n)}}),t.curTab?vt(St.cosPro(o),S):Rt.onWebSocketNotice(H,{callSign:o,tabId:t.tabId,state:Z})}));var t},on:function(t,e){return function(t,n,e){t[n]=e}(n,t,e)},off:function(t){return function(t,n){t[n]=null}(n,t)}},window.addEventListener("storage",(function(t){Rt.watchStorage(t,Dn,_n)})),t(Dn)}))}))}};var Dn=null,_n=null;function Rn(t){t&&un.clear(),Rt.clear(),It(),_n.sdkState={loginState:X.NOT_LOGIN,chatsSync:q.NOT_SYNC_CHAT,connState:W.NET_STATE_DISCONNECTED},_n.callEvents=new Map,_n.chatCallEvents=new Map,_n.stateCallEvents=new Map,_n.chatKeys=new Map,_n.msgHandleList=[],_n.handleMsgState=!1,_n.updateTime=null,_n.updateTabs=null}function An(){var t=JSON.parse(window.localStorage.getItem("im_wsTabs")||"[]");t=t.filter((function(t){return t!=_n.tabId})),window.localStorage.setItem("im_wsTabs",JSON.stringify(t)),Rt.clear(0===t.length),It(),0===t.length?un.deleteDB():_n.curTab&&(_n.clearTimer(),_n.sdkState.loginState===X.LOGGED?window.localStorage.setItem("im_wsConnTab",t[0]):window.localStorage.setItem("im_wsCurId",t[0]))}function Gn(){_n.curTab=!0;var t=0;_n.heartBeatTimer&&clearInterval(_n.heartBeatTimer),_n.heartBeatTimer=setInterval((function(){var n=(new Date).getTime();window.localStorage.setItem("im_windowHeartBeat",n),(t+=1)%20==0&&function(){var t;if(1===(null===(t=wt.ws)||void 0===t?void 0:t.readyState)){var n=(new Date).getTime();if(wt.heartBeatTime+wt.heartRate<=n){var e=St.compress(St.pingPro(),o);wt.ws.send(e),wt.heartBeatTime=n}}}(),_n.callEvents.forEach((function(t,e){t.timeOut<=n&&t.callErr({code:nt.TIMEOUT,msg:t.type+": connection timed out"})})),_n.stateCallEvents.forEach((function(t,e){t.timeOut<=n&&t.callErr()}))}),50)}function Vn(){un.getChatList().then((function(t){t.forEach((function(t){if(_n.chatKeys.has(t.conversationID)){var n=_n.chatKeys.get(t.conversationID);Object.assign(n,t)}else _n.chatKeys.set(t.conversationID,t)})),_n.sdkState.chatsSync=q.SYNC_CHAT_SUCCESS,_n.chatCallEvents.forEach((function(t,n){t.callSuc()}))}))}n.a=Pn}}]);