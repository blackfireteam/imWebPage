(window.webpackJsonp=window.webpackJsonp||[]).push([["chunksSdk~app"],{"2ad5":function(t,n,e){"use strict";var o=e("7037").default;e("b64b"),e("e25e"),e("d3b7"),e("25f0"),e("a9e3"),e("f4b3"),e("bf19");var i=e("543b"),r=i.Reader,s=i.Writer,g=i.util,a=i.roots.default||(i.roots.default={});a.Ping=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(8).int64(t.type),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Ping;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.type=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Ping)return t;var n=new a.Ping;return null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;return null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ImLogin=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.token="",t.prototype.ct=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.subApp=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushChannel=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushToken="",t.prototype.lastToken="",t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&n.uint32(18).string(t.token),null!=t.ct&&Object.hasOwnProperty.call(t,"ct")&&n.uint32(24).int64(t.ct),null!=t.subApp&&Object.hasOwnProperty.call(t,"subApp")&&n.uint32(32).int64(t.subApp),null!=t.pushChannel&&Object.hasOwnProperty.call(t,"pushChannel")&&n.uint32(40).int64(t.pushChannel),null!=t.pushToken&&Object.hasOwnProperty.call(t,"pushToken")&&n.uint32(50).string(t.pushToken),null!=t.lastToken&&Object.hasOwnProperty.call(t,"lastToken")&&n.uint32(58).string(t.lastToken),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ImLogin;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.token=t.string();break;case 3:o.ct=t.int64();break;case 4:o.subApp=t.int64();break;case 5:o.pushChannel=t.int64();break;case 6:o.pushToken=t.string();break;case 7:o.lastToken=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ImLogin)return t;var n=new a.ImLogin;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.token&&(n.token=String(t.token)),null!=t.ct&&(g.Long?(n.ct=g.Long.fromValue(t.ct)).unsigned=!1:"string"==typeof t.ct?n.ct=parseInt(t.ct,10):"number"==typeof t.ct?n.ct=t.ct:"object"===o(t.ct)&&(n.ct=new g.LongBits(t.ct.low>>>0,t.ct.high>>>0).toNumber())),null!=t.subApp&&(g.Long?(n.subApp=g.Long.fromValue(t.subApp)).unsigned=!1:"string"==typeof t.subApp?n.subApp=parseInt(t.subApp,10):"number"==typeof t.subApp?n.subApp=t.subApp:"object"===o(t.subApp)&&(n.subApp=new g.LongBits(t.subApp.low>>>0,t.subApp.high>>>0).toNumber())),null!=t.pushChannel&&(g.Long?(n.pushChannel=g.Long.fromValue(t.pushChannel)).unsigned=!1:"string"==typeof t.pushChannel?n.pushChannel=parseInt(t.pushChannel,10):"number"==typeof t.pushChannel?n.pushChannel=t.pushChannel:"object"===o(t.pushChannel)&&(n.pushChannel=new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber())),null!=t.pushToken&&(n.pushToken=String(t.pushToken)),null!=t.lastToken&&(n.lastToken=String(t.lastToken)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(e.token="",g.Long){o=new g.Long(0,0,!1);e.ct=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.ct=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.subApp=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.subApp=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.pushChannel=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.pushChannel=n.longs===String?"0":0;e.pushToken="",e.lastToken=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.token&&t.hasOwnProperty("token")&&(e.token=t.token),null!=t.ct&&t.hasOwnProperty("ct")&&("number"==typeof t.ct?e.ct=n.longs===String?String(t.ct):t.ct:e.ct=n.longs===String?g.Long.prototype.toString.call(t.ct):n.longs===Number?new g.LongBits(t.ct.low>>>0,t.ct.high>>>0).toNumber():t.ct),null!=t.subApp&&t.hasOwnProperty("subApp")&&("number"==typeof t.subApp?e.subApp=n.longs===String?String(t.subApp):t.subApp:e.subApp=n.longs===String?g.Long.prototype.toString.call(t.subApp):n.longs===Number?new g.LongBits(t.subApp.low>>>0,t.subApp.high>>>0).toNumber():t.subApp),null!=t.pushChannel&&t.hasOwnProperty("pushChannel")&&("number"==typeof t.pushChannel?e.pushChannel=n.longs===String?String(t.pushChannel):t.pushChannel:e.pushChannel=n.longs===String?g.Long.prototype.toString.call(t.pushChannel):n.longs===Number?new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber():t.pushChannel),null!=t.pushToken&&t.hasOwnProperty("pushToken")&&(e.pushToken=t.pushToken),null!=t.lastToken&&t.hasOwnProperty("lastToken")&&(e.lastToken=t.lastToken),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ImLogout=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ImLogout;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ImLogout)return t;var n=new a.ImLogout;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.Result=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.code=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msg="",t.prototype.nowTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).int64(t.code),null!=t.msg&&Object.hasOwnProperty.call(t,"msg")&&n.uint32(26).string(t.msg),null!=t.nowTime&&Object.hasOwnProperty.call(t,"nowTime")&&n.uint32(32).int64(t.nowTime),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(40).int64(t.uid),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Result;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.code=t.int64();break;case 3:o.msg=t.string();break;case 4:o.nowTime=t.int64();break;case 5:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Result)return t;var n=new a.Result;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.code&&(g.Long?(n.code=g.Long.fromValue(t.code)).unsigned=!1:"string"==typeof t.code?n.code=parseInt(t.code,10):"number"==typeof t.code?n.code=t.code:"object"===o(t.code)&&(n.code=new g.LongBits(t.code.low>>>0,t.code.high>>>0).toNumber())),null!=t.msg&&(n.msg=String(t.msg)),null!=t.nowTime&&(g.Long?(n.nowTime=g.Long.fromValue(t.nowTime)).unsigned=!1:"string"==typeof t.nowTime?n.nowTime=parseInt(t.nowTime,10):"number"==typeof t.nowTime?n.nowTime=t.nowTime:"object"===o(t.nowTime)&&(n.nowTime=new g.LongBits(t.nowTime.low>>>0,t.nowTime.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.code=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.code=n.longs===String?"0":0;if(e.msg="",g.Long){o=new g.Long(0,0,!1);e.nowTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.nowTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.code&&t.hasOwnProperty("code")&&("number"==typeof t.code?e.code=n.longs===String?String(t.code):t.code:e.code=n.longs===String?g.Long.prototype.toString.call(t.code):n.longs===Number?new g.LongBits(t.code.low>>>0,t.code.high>>>0).toNumber():t.code),null!=t.msg&&t.hasOwnProperty("msg")&&(e.msg=t.msg),null!=t.nowTime&&t.hasOwnProperty("nowTime")&&("number"==typeof t.nowTime?e.nowTime=n.longs===String?String(t.nowTime):t.nowTime:e.nowTime=n.longs===String?g.Long.prototype.toString.call(t.nowTime):n.longs===Number?new g.LongBits(t.nowTime.low>>>0,t.nowTime.high>>>0).toNumber():t.nowTime),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatS=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.title="",t.prototype.body="",t.prototype.thumb="",t.prototype.width=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.height=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.duration=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.lat=0,t.prototype.lng=0,t.prototype.zoom=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushTitle="",t.prototype.pushBody="",t.prototype.pushSound="",t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(16).int64(t.type),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(24).int64(t.toUid),null!=t.title&&Object.hasOwnProperty.call(t,"title")&&n.uint32(34).string(t.title),null!=t.body&&Object.hasOwnProperty.call(t,"body")&&n.uint32(42).string(t.body),null!=t.thumb&&Object.hasOwnProperty.call(t,"thumb")&&n.uint32(50).string(t.thumb),null!=t.width&&Object.hasOwnProperty.call(t,"width")&&n.uint32(56).int64(t.width),null!=t.height&&Object.hasOwnProperty.call(t,"height")&&n.uint32(64).int64(t.height),null!=t.duration&&Object.hasOwnProperty.call(t,"duration")&&n.uint32(72).int64(t.duration),null!=t.lat&&Object.hasOwnProperty.call(t,"lat")&&n.uint32(81).double(t.lat),null!=t.lng&&Object.hasOwnProperty.call(t,"lng")&&n.uint32(89).double(t.lng),null!=t.zoom&&Object.hasOwnProperty.call(t,"zoom")&&n.uint32(96).int64(t.zoom),null!=t.pushTitle&&Object.hasOwnProperty.call(t,"pushTitle")&&n.uint32(106).string(t.pushTitle),null!=t.pushBody&&Object.hasOwnProperty.call(t,"pushBody")&&n.uint32(114).string(t.pushBody),null!=t.pushSound&&Object.hasOwnProperty.call(t,"pushSound")&&n.uint32(122).string(t.pushSound),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatS;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.type=t.int64();break;case 3:o.toUid=t.int64();break;case 4:o.title=t.string();break;case 5:o.body=t.string();break;case 6:o.thumb=t.string();break;case 7:o.width=t.int64();break;case 8:o.height=t.int64();break;case 9:o.duration=t.int64();break;case 10:o.lat=t.double();break;case 11:o.lng=t.double();break;case 12:o.zoom=t.int64();break;case 13:o.pushTitle=t.string();break;case 14:o.pushBody=t.string();break;case 15:o.pushSound=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatS)return t;var n=new a.ChatS;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.title&&(n.title=String(t.title)),null!=t.body&&(n.body=String(t.body)),null!=t.thumb&&(n.thumb=String(t.thumb)),null!=t.width&&(g.Long?(n.width=g.Long.fromValue(t.width)).unsigned=!1:"string"==typeof t.width?n.width=parseInt(t.width,10):"number"==typeof t.width?n.width=t.width:"object"===o(t.width)&&(n.width=new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber())),null!=t.height&&(g.Long?(n.height=g.Long.fromValue(t.height)).unsigned=!1:"string"==typeof t.height?n.height=parseInt(t.height,10):"number"==typeof t.height?n.height=t.height:"object"===o(t.height)&&(n.height=new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber())),null!=t.duration&&(g.Long?(n.duration=g.Long.fromValue(t.duration)).unsigned=!1:"string"==typeof t.duration?n.duration=parseInt(t.duration,10):"number"==typeof t.duration?n.duration=t.duration:"object"===o(t.duration)&&(n.duration=new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber())),null!=t.lat&&(n.lat=Number(t.lat)),null!=t.lng&&(n.lng=Number(t.lng)),null!=t.zoom&&(g.Long?(n.zoom=g.Long.fromValue(t.zoom)).unsigned=!1:"string"==typeof t.zoom?n.zoom=parseInt(t.zoom,10):"number"==typeof t.zoom?n.zoom=t.zoom:"object"===o(t.zoom)&&(n.zoom=new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber())),null!=t.pushTitle&&(n.pushTitle=String(t.pushTitle)),null!=t.pushBody&&(n.pushBody=String(t.pushBody)),null!=t.pushSound&&(n.pushSound=String(t.pushSound)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(e.title="",e.body="",e.thumb="",g.Long){o=new g.Long(0,0,!1);e.width=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.width=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.height=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.height=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.duration=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.duration=n.longs===String?"0":0;if(e.lat=0,e.lng=0,g.Long){o=new g.Long(0,0,!1);e.zoom=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.zoom=n.longs===String?"0":0;e.pushTitle="",e.pushBody="",e.pushSound=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.title&&t.hasOwnProperty("title")&&(e.title=t.title),null!=t.body&&t.hasOwnProperty("body")&&(e.body=t.body),null!=t.thumb&&t.hasOwnProperty("thumb")&&(e.thumb=t.thumb),null!=t.width&&t.hasOwnProperty("width")&&("number"==typeof t.width?e.width=n.longs===String?String(t.width):t.width:e.width=n.longs===String?g.Long.prototype.toString.call(t.width):n.longs===Number?new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber():t.width),null!=t.height&&t.hasOwnProperty("height")&&("number"==typeof t.height?e.height=n.longs===String?String(t.height):t.height:e.height=n.longs===String?g.Long.prototype.toString.call(t.height):n.longs===Number?new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber():t.height),null!=t.duration&&t.hasOwnProperty("duration")&&("number"==typeof t.duration?e.duration=n.longs===String?String(t.duration):t.duration:e.duration=n.longs===String?g.Long.prototype.toString.call(t.duration):n.longs===Number?new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber():t.duration),null!=t.lat&&t.hasOwnProperty("lat")&&(e.lat=n.json&&!isFinite(t.lat)?String(t.lat):t.lat),null!=t.lng&&t.hasOwnProperty("lng")&&(e.lng=n.json&&!isFinite(t.lng)?String(t.lng):t.lng),null!=t.zoom&&t.hasOwnProperty("zoom")&&("number"==typeof t.zoom?e.zoom=n.longs===String?String(t.zoom):t.zoom:e.zoom=n.longs===String?g.Long.prototype.toString.call(t.zoom):n.longs===Number?new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber():t.zoom),null!=t.pushTitle&&t.hasOwnProperty("pushTitle")&&(e.pushTitle=t.pushTitle),null!=t.pushBody&&t.hasOwnProperty("pushBody")&&(e.pushBody=t.pushBody),null!=t.pushSound&&t.hasOwnProperty("pushSound")&&(e.pushSound=t.pushSound),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatSR=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgTime=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(16).int64(t.msgId),null!=t.msgTime&&Object.hasOwnProperty.call(t,"msgTime")&&n.uint32(24).int64(t.msgTime),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatSR;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.msgId=t.int64();break;case 3:o.msgTime=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatSR)return t;var n=new a.ChatSR;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),null!=t.msgTime&&(g.Long?(n.msgTime=g.Long.fromValue(t.msgTime)).unsigned=!1:"string"==typeof t.msgTime?n.msgTime=parseInt(t.msgTime,10):"number"==typeof t.msgTime?n.msgTime=t.msgTime:"object"===o(t.msgTime)&&(n.msgTime=new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgTime=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),null!=t.msgTime&&t.hasOwnProperty("msgTime")&&("number"==typeof t.msgTime?e.msgTime=n.longs===String?String(t.msgTime):t.msgTime:e.msgTime=n.longs===String?g.Long.prototype.toString.call(t.msgTime):n.longs===Number?new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber():t.msgTime),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatR=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.fromUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.sput=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.newMsg=!1,t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.title="",t.prototype.body="",t.prototype.thumb="",t.prototype.width=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.height=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.duration=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.lat=0,t.prototype.lng=0,t.prototype.zoom=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushTitle="",t.prototype.pushBody="",t.prototype.pushSound="",t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.fromUid&&Object.hasOwnProperty.call(t,"fromUid")&&n.uint32(16).int64(t.fromUid),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(24).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(32).int64(t.msgId),null!=t.msgTime&&Object.hasOwnProperty.call(t,"msgTime")&&n.uint32(40).int64(t.msgTime),null!=t.sput&&Object.hasOwnProperty.call(t,"sput")&&n.uint32(48).int64(t.sput),null!=t.newMsg&&Object.hasOwnProperty.call(t,"newMsg")&&n.uint32(56).bool(t.newMsg),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(64).int64(t.type),null!=t.title&&Object.hasOwnProperty.call(t,"title")&&n.uint32(74).string(t.title),null!=t.body&&Object.hasOwnProperty.call(t,"body")&&n.uint32(82).string(t.body),null!=t.thumb&&Object.hasOwnProperty.call(t,"thumb")&&n.uint32(90).string(t.thumb),null!=t.width&&Object.hasOwnProperty.call(t,"width")&&n.uint32(96).int64(t.width),null!=t.height&&Object.hasOwnProperty.call(t,"height")&&n.uint32(104).int64(t.height),null!=t.duration&&Object.hasOwnProperty.call(t,"duration")&&n.uint32(112).int64(t.duration),null!=t.lat&&Object.hasOwnProperty.call(t,"lat")&&n.uint32(121).double(t.lat),null!=t.lng&&Object.hasOwnProperty.call(t,"lng")&&n.uint32(129).double(t.lng),null!=t.zoom&&Object.hasOwnProperty.call(t,"zoom")&&n.uint32(136).int64(t.zoom),null!=t.pushTitle&&Object.hasOwnProperty.call(t,"pushTitle")&&n.uint32(146).string(t.pushTitle),null!=t.pushBody&&Object.hasOwnProperty.call(t,"pushBody")&&n.uint32(154).string(t.pushBody),null!=t.pushSound&&Object.hasOwnProperty.call(t,"pushSound")&&n.uint32(162).string(t.pushSound),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatR;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.fromUid=t.int64();break;case 3:o.toUid=t.int64();break;case 4:o.msgId=t.int64();break;case 5:o.msgTime=t.int64();break;case 6:o.sput=t.int64();break;case 7:o.newMsg=t.bool();break;case 8:o.type=t.int64();break;case 9:o.title=t.string();break;case 10:o.body=t.string();break;case 11:o.thumb=t.string();break;case 12:o.width=t.int64();break;case 13:o.height=t.int64();break;case 14:o.duration=t.int64();break;case 15:o.lat=t.double();break;case 16:o.lng=t.double();break;case 17:o.zoom=t.int64();break;case 18:o.pushTitle=t.string();break;case 19:o.pushBody=t.string();break;case 20:o.pushSound=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatR)return t;var n=new a.ChatR;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.fromUid&&(g.Long?(n.fromUid=g.Long.fromValue(t.fromUid)).unsigned=!1:"string"==typeof t.fromUid?n.fromUid=parseInt(t.fromUid,10):"number"==typeof t.fromUid?n.fromUid=t.fromUid:"object"===o(t.fromUid)&&(n.fromUid=new g.LongBits(t.fromUid.low>>>0,t.fromUid.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),null!=t.msgTime&&(g.Long?(n.msgTime=g.Long.fromValue(t.msgTime)).unsigned=!1:"string"==typeof t.msgTime?n.msgTime=parseInt(t.msgTime,10):"number"==typeof t.msgTime?n.msgTime=t.msgTime:"object"===o(t.msgTime)&&(n.msgTime=new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber())),null!=t.sput&&(g.Long?(n.sput=g.Long.fromValue(t.sput)).unsigned=!1:"string"==typeof t.sput?n.sput=parseInt(t.sput,10):"number"==typeof t.sput?n.sput=t.sput:"object"===o(t.sput)&&(n.sput=new g.LongBits(t.sput.low>>>0,t.sput.high>>>0).toNumber())),null!=t.newMsg&&(n.newMsg=Boolean(t.newMsg)),null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),null!=t.title&&(n.title=String(t.title)),null!=t.body&&(n.body=String(t.body)),null!=t.thumb&&(n.thumb=String(t.thumb)),null!=t.width&&(g.Long?(n.width=g.Long.fromValue(t.width)).unsigned=!1:"string"==typeof t.width?n.width=parseInt(t.width,10):"number"==typeof t.width?n.width=t.width:"object"===o(t.width)&&(n.width=new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber())),null!=t.height&&(g.Long?(n.height=g.Long.fromValue(t.height)).unsigned=!1:"string"==typeof t.height?n.height=parseInt(t.height,10):"number"==typeof t.height?n.height=t.height:"object"===o(t.height)&&(n.height=new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber())),null!=t.duration&&(g.Long?(n.duration=g.Long.fromValue(t.duration)).unsigned=!1:"string"==typeof t.duration?n.duration=parseInt(t.duration,10):"number"==typeof t.duration?n.duration=t.duration:"object"===o(t.duration)&&(n.duration=new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber())),null!=t.lat&&(n.lat=Number(t.lat)),null!=t.lng&&(n.lng=Number(t.lng)),null!=t.zoom&&(g.Long?(n.zoom=g.Long.fromValue(t.zoom)).unsigned=!1:"string"==typeof t.zoom?n.zoom=parseInt(t.zoom,10):"number"==typeof t.zoom?n.zoom=t.zoom:"object"===o(t.zoom)&&(n.zoom=new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber())),null!=t.pushTitle&&(n.pushTitle=String(t.pushTitle)),null!=t.pushBody&&(n.pushBody=String(t.pushBody)),null!=t.pushSound&&(n.pushSound=String(t.pushSound)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.fromUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.fromUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.sput=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sput=n.longs===String?"0":0;if(e.newMsg=!1,g.Long){o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;if(e.title="",e.body="",e.thumb="",g.Long){o=new g.Long(0,0,!1);e.width=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.width=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.height=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.height=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.duration=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.duration=n.longs===String?"0":0;if(e.lat=0,e.lng=0,g.Long){o=new g.Long(0,0,!1);e.zoom=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.zoom=n.longs===String?"0":0;e.pushTitle="",e.pushBody="",e.pushSound=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.fromUid&&t.hasOwnProperty("fromUid")&&("number"==typeof t.fromUid?e.fromUid=n.longs===String?String(t.fromUid):t.fromUid:e.fromUid=n.longs===String?g.Long.prototype.toString.call(t.fromUid):n.longs===Number?new g.LongBits(t.fromUid.low>>>0,t.fromUid.high>>>0).toNumber():t.fromUid),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),null!=t.msgTime&&t.hasOwnProperty("msgTime")&&("number"==typeof t.msgTime?e.msgTime=n.longs===String?String(t.msgTime):t.msgTime:e.msgTime=n.longs===String?g.Long.prototype.toString.call(t.msgTime):n.longs===Number?new g.LongBits(t.msgTime.low>>>0,t.msgTime.high>>>0).toNumber():t.msgTime),null!=t.sput&&t.hasOwnProperty("sput")&&("number"==typeof t.sput?e.sput=n.longs===String?String(t.sput):t.sput:e.sput=n.longs===String?g.Long.prototype.toString.call(t.sput):n.longs===Number?new g.LongBits(t.sput.low>>>0,t.sput.high>>>0).toNumber():t.sput),null!=t.newMsg&&t.hasOwnProperty("newMsg")&&(e.newMsg=t.newMsg),null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),null!=t.title&&t.hasOwnProperty("title")&&(e.title=t.title),null!=t.body&&t.hasOwnProperty("body")&&(e.body=t.body),null!=t.thumb&&t.hasOwnProperty("thumb")&&(e.thumb=t.thumb),null!=t.width&&t.hasOwnProperty("width")&&("number"==typeof t.width?e.width=n.longs===String?String(t.width):t.width:e.width=n.longs===String?g.Long.prototype.toString.call(t.width):n.longs===Number?new g.LongBits(t.width.low>>>0,t.width.high>>>0).toNumber():t.width),null!=t.height&&t.hasOwnProperty("height")&&("number"==typeof t.height?e.height=n.longs===String?String(t.height):t.height:e.height=n.longs===String?g.Long.prototype.toString.call(t.height):n.longs===Number?new g.LongBits(t.height.low>>>0,t.height.high>>>0).toNumber():t.height),null!=t.duration&&t.hasOwnProperty("duration")&&("number"==typeof t.duration?e.duration=n.longs===String?String(t.duration):t.duration:e.duration=n.longs===String?g.Long.prototype.toString.call(t.duration):n.longs===Number?new g.LongBits(t.duration.low>>>0,t.duration.high>>>0).toNumber():t.duration),null!=t.lat&&t.hasOwnProperty("lat")&&(e.lat=n.json&&!isFinite(t.lat)?String(t.lat):t.lat),null!=t.lng&&t.hasOwnProperty("lng")&&(e.lng=n.json&&!isFinite(t.lng)?String(t.lng):t.lng),null!=t.zoom&&t.hasOwnProperty("zoom")&&("number"==typeof t.zoom?e.zoom=n.longs===String?String(t.zoom):t.zoom:e.zoom=n.longs===String?g.Long.prototype.toString.call(t.zoom):n.longs===Number?new g.LongBits(t.zoom.low>>>0,t.zoom.high>>>0).toNumber():t.zoom),null!=t.pushTitle&&t.hasOwnProperty("pushTitle")&&(e.pushTitle=t.pushTitle),null!=t.pushBody&&t.hasOwnProperty("pushBody")&&(e.pushBody=t.pushBody),null!=t.pushSound&&t.hasOwnProperty("pushSound")&&(e.pushSound=t.pushSound),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatRBatch=function(){function t(t){if(this.msgs=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgs=g.emptyArray,t.encode=function(t,n){if(n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.msgs&&t.msgs.length)for(var e=0;e<t.msgs.length;++e)a.ChatR.encode(t.msgs[e],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatRBatch;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.msgs&&o.msgs.length||(o.msgs=[]),o.msgs.push(a.ChatR.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatRBatch)return t;var n=new a.ChatRBatch;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),t.msgs){if(!Array.isArray(t.msgs))throw TypeError(".ChatRBatch.msgs: array expected");n.msgs=[];for(var e=0;e<t.msgs.length;++e){if("object"!==o(t.msgs[e]))throw TypeError(".ChatRBatch.msgs: object expected");n.msgs[e]=a.ChatR.fromObject(t.msgs[e])}}return n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.msgs=[]),n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),t.msgs&&t.msgs.length){e.msgs=[];for(var i=0;i<t.msgs.length;++i)e.msgs[i]=a.ChatR.toObject(t.msgs[i],n)}return e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetHistory=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgEnd=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgStart=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.offset=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),null!=t.msgEnd&&Object.hasOwnProperty.call(t,"msgEnd")&&n.uint32(24).int64(t.msgEnd),null!=t.msgStart&&Object.hasOwnProperty.call(t,"msgStart")&&n.uint32(32).int64(t.msgStart),null!=t.offset&&Object.hasOwnProperty.call(t,"offset")&&n.uint32(40).int64(t.offset),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetHistory;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;case 3:o.msgEnd=t.int64();break;case 4:o.msgStart=t.int64();break;case 5:o.offset=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetHistory)return t;var n=new a.GetHistory;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgEnd&&(g.Long?(n.msgEnd=g.Long.fromValue(t.msgEnd)).unsigned=!1:"string"==typeof t.msgEnd?n.msgEnd=parseInt(t.msgEnd,10):"number"==typeof t.msgEnd?n.msgEnd=t.msgEnd:"object"===o(t.msgEnd)&&(n.msgEnd=new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber())),null!=t.msgStart&&(g.Long?(n.msgStart=g.Long.fromValue(t.msgStart)).unsigned=!1:"string"==typeof t.msgStart?n.msgStart=parseInt(t.msgStart,10):"number"==typeof t.msgStart?n.msgStart=t.msgStart:"object"===o(t.msgStart)&&(n.msgStart=new g.LongBits(t.msgStart.low>>>0,t.msgStart.high>>>0).toNumber())),null!=t.offset&&(g.Long?(n.offset=g.Long.fromValue(t.offset)).unsigned=!1:"string"==typeof t.offset?n.offset=parseInt(t.offset,10):"number"==typeof t.offset?n.offset=t.offset:"object"===o(t.offset)&&(n.offset=new g.LongBits(t.offset.low>>>0,t.offset.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgEnd=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgEnd=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgStart=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgStart=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.offset=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.offset=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgEnd&&t.hasOwnProperty("msgEnd")&&("number"==typeof t.msgEnd?e.msgEnd=n.longs===String?String(t.msgEnd):t.msgEnd:e.msgEnd=n.longs===String?g.Long.prototype.toString.call(t.msgEnd):n.longs===Number?new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber():t.msgEnd),null!=t.msgStart&&t.hasOwnProperty("msgStart")&&("number"==typeof t.msgStart?e.msgStart=n.longs===String?String(t.msgStart):t.msgStart:e.msgStart=n.longs===String?g.Long.prototype.toString.call(t.msgStart):n.longs===Number?new g.LongBits(t.msgStart.low>>>0,t.msgStart.high>>>0).toNumber():t.msgStart),null!=t.offset&&t.hasOwnProperty("offset")&&("number"==typeof t.offset?e.offset=n.longs===String?String(t.offset):t.offset:e.offset=n.longs===String?g.Long.prototype.toString.call(t.offset):n.longs===Number?new g.LongBits(t.offset.low>>>0,t.offset.high>>>0).toNumber():t.offset),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.Revoke=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(24).int64(t.msgId),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Revoke;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;case 3:o.msgId=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Revoke)return t;var n=new a.Revoke;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.MsgRead=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(24).int64(t.msgId),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.MsgRead;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;case 3:o.msgId=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.MsgRead)return t;var n=new a.MsgRead;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.DelChat=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(16).int64(t.toUid),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.DelChat;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.toUid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.DelChat)return t;var n=new a.DelChat;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetChatList=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(16).int64(t.updateTime),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(24).int64(t.uid),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetChatList;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.updateTime=t.int64();break;case 3:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetChatList)return t;var n=new a.GetChatList;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatItem=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgEnd=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgLastRead=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.showMsgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.showMsgType=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.showMsg="",t.prototype.showMsgTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.unread=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.matched=!1,t.prototype.newMsg=!1,t.prototype.myMove=!1,t.prototype.iceBreak=!1,t.prototype.tipFree=!1,t.prototype.topAlbum=!1,t.prototype.iBlockU=!1,t.prototype.iChatU=!1,t.prototype.uChatI=!1,t.prototype.deleted=!1,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),null!=t.msgEnd&&Object.hasOwnProperty.call(t,"msgEnd")&&n.uint32(24).int64(t.msgEnd),null!=t.msgLastRead&&Object.hasOwnProperty.call(t,"msgLastRead")&&n.uint32(32).int64(t.msgLastRead),null!=t.showMsgId&&Object.hasOwnProperty.call(t,"showMsgId")&&n.uint32(40).int64(t.showMsgId),null!=t.showMsgType&&Object.hasOwnProperty.call(t,"showMsgType")&&n.uint32(48).int64(t.showMsgType),null!=t.showMsg&&Object.hasOwnProperty.call(t,"showMsg")&&n.uint32(58).string(t.showMsg),null!=t.showMsgTime&&Object.hasOwnProperty.call(t,"showMsgTime")&&n.uint32(64).int64(t.showMsgTime),null!=t.unread&&Object.hasOwnProperty.call(t,"unread")&&n.uint32(72).int64(t.unread),null!=t.matched&&Object.hasOwnProperty.call(t,"matched")&&n.uint32(80).bool(t.matched),null!=t.newMsg&&Object.hasOwnProperty.call(t,"newMsg")&&n.uint32(88).bool(t.newMsg),null!=t.myMove&&Object.hasOwnProperty.call(t,"myMove")&&n.uint32(96).bool(t.myMove),null!=t.iceBreak&&Object.hasOwnProperty.call(t,"iceBreak")&&n.uint32(104).bool(t.iceBreak),null!=t.tipFree&&Object.hasOwnProperty.call(t,"tipFree")&&n.uint32(112).bool(t.tipFree),null!=t.topAlbum&&Object.hasOwnProperty.call(t,"topAlbum")&&n.uint32(120).bool(t.topAlbum),null!=t.iBlockU&&Object.hasOwnProperty.call(t,"iBlockU")&&n.uint32(128).bool(t.iBlockU),null!=t.iChatU&&Object.hasOwnProperty.call(t,"iChatU")&&n.uint32(136).bool(t.iChatU),null!=t.uChatI&&Object.hasOwnProperty.call(t,"uChatI")&&n.uint32(144).bool(t.uChatI),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&n.uint32(152).bool(t.deleted),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatItem;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;case 3:o.msgEnd=t.int64();break;case 4:o.msgLastRead=t.int64();break;case 5:o.showMsgId=t.int64();break;case 6:o.showMsgType=t.int64();break;case 7:o.showMsg=t.string();break;case 8:o.showMsgTime=t.int64();break;case 9:o.unread=t.int64();break;case 10:o.matched=t.bool();break;case 11:o.newMsg=t.bool();break;case 12:o.myMove=t.bool();break;case 13:o.iceBreak=t.bool();break;case 14:o.tipFree=t.bool();break;case 15:o.topAlbum=t.bool();break;case 16:o.iBlockU=t.bool();break;case 17:o.iChatU=t.bool();break;case 18:o.uChatI=t.bool();break;case 19:o.deleted=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatItem)return t;var n=new a.ChatItem;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.msgEnd&&(g.Long?(n.msgEnd=g.Long.fromValue(t.msgEnd)).unsigned=!1:"string"==typeof t.msgEnd?n.msgEnd=parseInt(t.msgEnd,10):"number"==typeof t.msgEnd?n.msgEnd=t.msgEnd:"object"===o(t.msgEnd)&&(n.msgEnd=new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber())),null!=t.msgLastRead&&(g.Long?(n.msgLastRead=g.Long.fromValue(t.msgLastRead)).unsigned=!1:"string"==typeof t.msgLastRead?n.msgLastRead=parseInt(t.msgLastRead,10):"number"==typeof t.msgLastRead?n.msgLastRead=t.msgLastRead:"object"===o(t.msgLastRead)&&(n.msgLastRead=new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber())),null!=t.showMsgId&&(g.Long?(n.showMsgId=g.Long.fromValue(t.showMsgId)).unsigned=!1:"string"==typeof t.showMsgId?n.showMsgId=parseInt(t.showMsgId,10):"number"==typeof t.showMsgId?n.showMsgId=t.showMsgId:"object"===o(t.showMsgId)&&(n.showMsgId=new g.LongBits(t.showMsgId.low>>>0,t.showMsgId.high>>>0).toNumber())),null!=t.showMsgType&&(g.Long?(n.showMsgType=g.Long.fromValue(t.showMsgType)).unsigned=!1:"string"==typeof t.showMsgType?n.showMsgType=parseInt(t.showMsgType,10):"number"==typeof t.showMsgType?n.showMsgType=t.showMsgType:"object"===o(t.showMsgType)&&(n.showMsgType=new g.LongBits(t.showMsgType.low>>>0,t.showMsgType.high>>>0).toNumber())),null!=t.showMsg&&(n.showMsg=String(t.showMsg)),null!=t.showMsgTime&&(g.Long?(n.showMsgTime=g.Long.fromValue(t.showMsgTime)).unsigned=!1:"string"==typeof t.showMsgTime?n.showMsgTime=parseInt(t.showMsgTime,10):"number"==typeof t.showMsgTime?n.showMsgTime=t.showMsgTime:"object"===o(t.showMsgTime)&&(n.showMsgTime=new g.LongBits(t.showMsgTime.low>>>0,t.showMsgTime.high>>>0).toNumber())),null!=t.unread&&(g.Long?(n.unread=g.Long.fromValue(t.unread)).unsigned=!1:"string"==typeof t.unread?n.unread=parseInt(t.unread,10):"number"==typeof t.unread?n.unread=t.unread:"object"===o(t.unread)&&(n.unread=new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber())),null!=t.matched&&(n.matched=Boolean(t.matched)),null!=t.newMsg&&(n.newMsg=Boolean(t.newMsg)),null!=t.myMove&&(n.myMove=Boolean(t.myMove)),null!=t.iceBreak&&(n.iceBreak=Boolean(t.iceBreak)),null!=t.tipFree&&(n.tipFree=Boolean(t.tipFree)),null!=t.topAlbum&&(n.topAlbum=Boolean(t.topAlbum)),null!=t.iBlockU&&(n.iBlockU=Boolean(t.iBlockU)),null!=t.iChatU&&(n.iChatU=Boolean(t.iChatU)),null!=t.uChatI&&(n.uChatI=Boolean(t.uChatI)),null!=t.deleted&&(n.deleted=Boolean(t.deleted)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgEnd=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgEnd=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgLastRead=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgLastRead=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.showMsgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.showMsgId=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.showMsgType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.showMsgType=n.longs===String?"0":0;if(e.showMsg="",g.Long){o=new g.Long(0,0,!1);e.showMsgTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.showMsgTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.unread=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.unread=n.longs===String?"0":0;e.matched=!1,e.newMsg=!1,e.myMove=!1,e.iceBreak=!1,e.tipFree=!1,e.topAlbum=!1,e.iBlockU=!1,e.iChatU=!1,e.uChatI=!1,e.deleted=!1}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.msgEnd&&t.hasOwnProperty("msgEnd")&&("number"==typeof t.msgEnd?e.msgEnd=n.longs===String?String(t.msgEnd):t.msgEnd:e.msgEnd=n.longs===String?g.Long.prototype.toString.call(t.msgEnd):n.longs===Number?new g.LongBits(t.msgEnd.low>>>0,t.msgEnd.high>>>0).toNumber():t.msgEnd),null!=t.msgLastRead&&t.hasOwnProperty("msgLastRead")&&("number"==typeof t.msgLastRead?e.msgLastRead=n.longs===String?String(t.msgLastRead):t.msgLastRead:e.msgLastRead=n.longs===String?g.Long.prototype.toString.call(t.msgLastRead):n.longs===Number?new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber():t.msgLastRead),null!=t.showMsgId&&t.hasOwnProperty("showMsgId")&&("number"==typeof t.showMsgId?e.showMsgId=n.longs===String?String(t.showMsgId):t.showMsgId:e.showMsgId=n.longs===String?g.Long.prototype.toString.call(t.showMsgId):n.longs===Number?new g.LongBits(t.showMsgId.low>>>0,t.showMsgId.high>>>0).toNumber():t.showMsgId),null!=t.showMsgType&&t.hasOwnProperty("showMsgType")&&("number"==typeof t.showMsgType?e.showMsgType=n.longs===String?String(t.showMsgType):t.showMsgType:e.showMsgType=n.longs===String?g.Long.prototype.toString.call(t.showMsgType):n.longs===Number?new g.LongBits(t.showMsgType.low>>>0,t.showMsgType.high>>>0).toNumber():t.showMsgType),null!=t.showMsg&&t.hasOwnProperty("showMsg")&&(e.showMsg=t.showMsg),null!=t.showMsgTime&&t.hasOwnProperty("showMsgTime")&&("number"==typeof t.showMsgTime?e.showMsgTime=n.longs===String?String(t.showMsgTime):t.showMsgTime:e.showMsgTime=n.longs===String?g.Long.prototype.toString.call(t.showMsgTime):n.longs===Number?new g.LongBits(t.showMsgTime.low>>>0,t.showMsgTime.high>>>0).toNumber():t.showMsgTime),null!=t.unread&&t.hasOwnProperty("unread")&&("number"==typeof t.unread?e.unread=n.longs===String?String(t.unread):t.unread:e.unread=n.longs===String?g.Long.prototype.toString.call(t.unread):n.longs===Number?new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber():t.unread),null!=t.matched&&t.hasOwnProperty("matched")&&(e.matched=t.matched),null!=t.newMsg&&t.hasOwnProperty("newMsg")&&(e.newMsg=t.newMsg),null!=t.myMove&&t.hasOwnProperty("myMove")&&(e.myMove=t.myMove),null!=t.iceBreak&&t.hasOwnProperty("iceBreak")&&(e.iceBreak=t.iceBreak),null!=t.tipFree&&t.hasOwnProperty("tipFree")&&(e.tipFree=t.tipFree),null!=t.topAlbum&&t.hasOwnProperty("topAlbum")&&(e.topAlbum=t.topAlbum),null!=t.iBlockU&&t.hasOwnProperty("iBlockU")&&(e.iBlockU=t.iBlockU),null!=t.iChatU&&t.hasOwnProperty("iChatU")&&(e.iChatU=t.iChatU),null!=t.uChatI&&t.hasOwnProperty("uChatI")&&(e.uChatI=t.uChatI),null!=t.deleted&&t.hasOwnProperty("deleted")&&(e.deleted=t.deleted),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatItemUpdate=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.event=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgLastRead=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.unread=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.iBlockU=!1,t.prototype.deleted=!1,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&n.uint32(24).int64(t.event),null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(32).int64(t.updateTime),null!=t.msgLastRead&&Object.hasOwnProperty.call(t,"msgLastRead")&&n.uint32(40).int64(t.msgLastRead),null!=t.unread&&Object.hasOwnProperty.call(t,"unread")&&n.uint32(48).int64(t.unread),null!=t.iBlockU&&Object.hasOwnProperty.call(t,"iBlockU")&&n.uint32(56).bool(t.iBlockU),null!=t.deleted&&Object.hasOwnProperty.call(t,"deleted")&&n.uint32(64).bool(t.deleted),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatItemUpdate;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;case 3:o.event=t.int64();break;case 4:o.updateTime=t.int64();break;case 5:o.msgLastRead=t.int64();break;case 6:o.unread=t.int64();break;case 7:o.iBlockU=t.bool();break;case 8:o.deleted=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatItemUpdate)return t;var n=new a.ChatItemUpdate;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.event&&(g.Long?(n.event=g.Long.fromValue(t.event)).unsigned=!1:"string"==typeof t.event?n.event=parseInt(t.event,10):"number"==typeof t.event?n.event=t.event:"object"===o(t.event)&&(n.event=new g.LongBits(t.event.low>>>0,t.event.high>>>0).toNumber())),null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.msgLastRead&&(g.Long?(n.msgLastRead=g.Long.fromValue(t.msgLastRead)).unsigned=!1:"string"==typeof t.msgLastRead?n.msgLastRead=parseInt(t.msgLastRead,10):"number"==typeof t.msgLastRead?n.msgLastRead=t.msgLastRead:"object"===o(t.msgLastRead)&&(n.msgLastRead=new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber())),null!=t.unread&&(g.Long?(n.unread=g.Long.fromValue(t.unread)).unsigned=!1:"string"==typeof t.unread?n.unread=parseInt(t.unread,10):"number"==typeof t.unread?n.unread=t.unread:"object"===o(t.unread)&&(n.unread=new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber())),null!=t.iBlockU&&(n.iBlockU=Boolean(t.iBlockU)),null!=t.deleted&&(n.deleted=Boolean(t.deleted)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.event=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.event=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgLastRead=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgLastRead=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.unread=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.unread=n.longs===String?"0":0;e.iBlockU=!1,e.deleted=!1}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.event&&t.hasOwnProperty("event")&&("number"==typeof t.event?e.event=n.longs===String?String(t.event):t.event:e.event=n.longs===String?g.Long.prototype.toString.call(t.event):n.longs===Number?new g.LongBits(t.event.low>>>0,t.event.high>>>0).toNumber():t.event),null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.msgLastRead&&t.hasOwnProperty("msgLastRead")&&("number"==typeof t.msgLastRead?e.msgLastRead=n.longs===String?String(t.msgLastRead):t.msgLastRead:e.msgLastRead=n.longs===String?g.Long.prototype.toString.call(t.msgLastRead):n.longs===Number?new g.LongBits(t.msgLastRead.low>>>0,t.msgLastRead.high>>>0).toNumber():t.msgLastRead),null!=t.unread&&t.hasOwnProperty("unread")&&("number"==typeof t.unread?e.unread=n.longs===String?String(t.unread):t.unread:e.unread=n.longs===String?g.Long.prototype.toString.call(t.unread):n.longs===Number?new g.LongBits(t.unread.low>>>0,t.unread.high>>>0).toNumber():t.unread),null!=t.iBlockU&&t.hasOwnProperty("iBlockU")&&(e.iBlockU=t.iBlockU),null!=t.deleted&&t.hasOwnProperty("deleted")&&(e.deleted=t.deleted),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatList=function(){function t(t){if(this.chatItems=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.chatItems=g.emptyArray,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.hasMore=!1,t.encode=function(t,n){if(n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.chatItems&&t.chatItems.length)for(var e=0;e<t.chatItems.length;++e)a.ChatItem.encode(t.chatItems[e],n.uint32(18).fork()).ldelim();return null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(24).int64(t.updateTime),null!=t.hasMore&&Object.hasOwnProperty.call(t,"hasMore")&&n.uint32(32).bool(t.hasMore),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatList;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.chatItems&&o.chatItems.length||(o.chatItems=[]),o.chatItems.push(a.ChatItem.decode(t,t.uint32()));break;case 3:o.updateTime=t.int64();break;case 4:o.hasMore=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatList)return t;var n=new a.ChatList;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),t.chatItems){if(!Array.isArray(t.chatItems))throw TypeError(".ChatList.chatItems: array expected");n.chatItems=[];for(var e=0;e<t.chatItems.length;++e){if("object"!==o(t.chatItems[e]))throw TypeError(".ChatList.chatItems: object expected");n.chatItems[e]=a.ChatItem.fromObject(t.chatItems[e])}}return null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.hasMore&&(n.hasMore=Boolean(t.hasMore)),n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.chatItems=[]),n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;e.hasMore=!1}if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),t.chatItems&&t.chatItems.length){e.chatItems=[];for(var i=0;i<t.chatItems.length;++i)e.chatItems[i]=a.ChatItem.toObject(t.chatItems[i],n)}return null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.hasMore&&t.hasOwnProperty("hasMore")&&(e.hasMore=t.hasMore),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetProfile=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(24).int64(t.updateTime),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetProfile;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;case 3:o.updateTime=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetProfile)return t;var n=new a.GetProfile;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetProfiles=function(){function t(t){if(this.getProfiles=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.getProfiles=g.emptyArray,t.encode=function(t,n){if(n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.getProfiles&&t.getProfiles.length)for(var e=0;e<t.getProfiles.length;++e)a.GetProfile.encode(t.getProfiles[e],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetProfiles;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.getProfiles&&o.getProfiles.length||(o.getProfiles=[]),o.getProfiles.push(a.GetProfile.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetProfiles)return t;var n=new a.GetProfiles;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),t.getProfiles){if(!Array.isArray(t.getProfiles))throw TypeError(".GetProfiles.getProfiles: array expected");n.getProfiles=[];for(var e=0;e<t.getProfiles.length;++e){if("object"!==o(t.getProfiles[e]))throw TypeError(".GetProfiles.getProfiles: object expected");n.getProfiles[e]=a.GetProfile.fromObject(t.getProfiles[e])}}return n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.getProfiles=[]),n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),t.getProfiles&&t.getProfiles.length){e.getProfiles=[];for(var i=0;i<t.getProfiles.length;++i)e.getProfiles[i]=a.GetProfile.toObject(t.getProfiles[i],n)}return e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.Profile=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.nickName="",t.prototype.avatar="",t.prototype.gender=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.gold=!1,t.prototype.verified=!1,t.prototype.hidden=!1,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(24).int64(t.updateTime),null!=t.nickName&&Object.hasOwnProperty.call(t,"nickName")&&n.uint32(34).string(t.nickName),null!=t.avatar&&Object.hasOwnProperty.call(t,"avatar")&&n.uint32(42).string(t.avatar),null!=t.gender&&Object.hasOwnProperty.call(t,"gender")&&n.uint32(48).int64(t.gender),null!=t.gold&&Object.hasOwnProperty.call(t,"gold")&&n.uint32(56).bool(t.gold),null!=t.verified&&Object.hasOwnProperty.call(t,"verified")&&n.uint32(64).bool(t.verified),null!=t.hidden&&Object.hasOwnProperty.call(t,"hidden")&&n.uint32(72).bool(t.hidden),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Profile;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;case 3:o.updateTime=t.int64();break;case 4:o.nickName=t.string();break;case 5:o.avatar=t.string();break;case 6:o.gender=t.int64();break;case 7:o.gold=t.bool();break;case 8:o.verified=t.bool();break;case 9:o.hidden=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Profile)return t;var n=new a.Profile;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.nickName&&(n.nickName=String(t.nickName)),null!=t.avatar&&(n.avatar=String(t.avatar)),null!=t.gender&&(g.Long?(n.gender=g.Long.fromValue(t.gender)).unsigned=!1:"string"==typeof t.gender?n.gender=parseInt(t.gender,10):"number"==typeof t.gender?n.gender=t.gender:"object"===o(t.gender)&&(n.gender=new g.LongBits(t.gender.low>>>0,t.gender.high>>>0).toNumber())),null!=t.gold&&(n.gold=Boolean(t.gold)),null!=t.verified&&(n.verified=Boolean(t.verified)),null!=t.hidden&&(n.hidden=Boolean(t.hidden)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;if(e.nickName="",e.avatar="",g.Long){o=new g.Long(0,0,!1);e.gender=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.gender=n.longs===String?"0":0;e.gold=!1,e.verified=!1,e.hidden=!1}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.nickName&&t.hasOwnProperty("nickName")&&(e.nickName=t.nickName),null!=t.avatar&&t.hasOwnProperty("avatar")&&(e.avatar=t.avatar),null!=t.gender&&t.hasOwnProperty("gender")&&("number"==typeof t.gender?e.gender=n.longs===String?String(t.gender):t.gender:e.gender=n.longs===String?g.Long.prototype.toString.call(t.gender):n.longs===Number?new g.LongBits(t.gender.low>>>0,t.gender.high>>>0).toNumber():t.gender),null!=t.gold&&t.hasOwnProperty("gold")&&(e.gold=t.gold),null!=t.verified&&t.hasOwnProperty("verified")&&(e.verified=t.verified),null!=t.hidden&&t.hasOwnProperty("hidden")&&(e.hidden=t.hidden),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ProfileList=function(){function t(t){if(this.profiles=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.profiles=g.emptyArray,t.encode=function(t,n){if(n||(n=s.create()),null!=t.profiles&&t.profiles.length)for(var e=0;e<t.profiles.length;++e)a.Profile.encode(t.profiles[e],n.uint32(10).fork()).ldelim();return n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ProfileList;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.profiles&&o.profiles.length||(o.profiles=[]),o.profiles.push(a.Profile.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ProfileList)return t;var n=new a.ProfileList;if(t.profiles){if(!Array.isArray(t.profiles))throw TypeError(".ProfileList.profiles: array expected");n.profiles=[];for(var e=0;e<t.profiles.length;++e){if("object"!==o(t.profiles[e]))throw TypeError(".ProfileList.profiles: object expected");n.profiles[e]=a.Profile.fromObject(t.profiles[e])}}return n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.profiles=[]),t.profiles&&t.profiles.length){e.profiles=[];for(var o=0;o<t.profiles.length;++o)e.profiles[o]=a.Profile.toObject(t.profiles[o],n)}return e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetChat=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(16).int64(t.uid),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetChat;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetChat)return t;var n=new a.GetChat;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.GetCosKey=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.GetCosKey;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.GetCosKey)return t;var n=new a.GetCosKey;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.CosKey=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.token="",t.prototype.id="",t.prototype.key="",t.prototype.bucket="",t.prototype.region="",t.prototype.startTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.expTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.path="",t.prototype.pathDemo="",t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&n.uint32(18).string(t.token),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&n.uint32(26).string(t.id),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(34).string(t.key),null!=t.bucket&&Object.hasOwnProperty.call(t,"bucket")&&n.uint32(42).string(t.bucket),null!=t.region&&Object.hasOwnProperty.call(t,"region")&&n.uint32(50).string(t.region),null!=t.startTime&&Object.hasOwnProperty.call(t,"startTime")&&n.uint32(56).int64(t.startTime),null!=t.expTime&&Object.hasOwnProperty.call(t,"expTime")&&n.uint32(64).int64(t.expTime),null!=t.path&&Object.hasOwnProperty.call(t,"path")&&n.uint32(74).string(t.path),null!=t.pathDemo&&Object.hasOwnProperty.call(t,"pathDemo")&&n.uint32(82).string(t.pathDemo),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.CosKey;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.token=t.string();break;case 3:o.id=t.string();break;case 4:o.key=t.string();break;case 5:o.bucket=t.string();break;case 6:o.region=t.string();break;case 7:o.startTime=t.int64();break;case 8:o.expTime=t.int64();break;case 9:o.path=t.string();break;case 10:o.pathDemo=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.CosKey)return t;var n=new a.CosKey;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.token&&(n.token=String(t.token)),null!=t.id&&(n.id=String(t.id)),null!=t.key&&(n.key=String(t.key)),null!=t.bucket&&(n.bucket=String(t.bucket)),null!=t.region&&(n.region=String(t.region)),null!=t.startTime&&(g.Long?(n.startTime=g.Long.fromValue(t.startTime)).unsigned=!1:"string"==typeof t.startTime?n.startTime=parseInt(t.startTime,10):"number"==typeof t.startTime?n.startTime=t.startTime:"object"===o(t.startTime)&&(n.startTime=new g.LongBits(t.startTime.low>>>0,t.startTime.high>>>0).toNumber())),null!=t.expTime&&(g.Long?(n.expTime=g.Long.fromValue(t.expTime)).unsigned=!1:"string"==typeof t.expTime?n.expTime=parseInt(t.expTime,10):"number"==typeof t.expTime?n.expTime=t.expTime:"object"===o(t.expTime)&&(n.expTime=new g.LongBits(t.expTime.low>>>0,t.expTime.high>>>0).toNumber())),null!=t.path&&(n.path=String(t.path)),null!=t.pathDemo&&(n.pathDemo=String(t.pathDemo)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(e.token="",e.id="",e.key="",e.bucket="",e.region="",g.Long){o=new g.Long(0,0,!1);e.startTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.startTime=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.expTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.expTime=n.longs===String?"0":0;e.path="",e.pathDemo=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.token&&t.hasOwnProperty("token")&&(e.token=t.token),null!=t.id&&t.hasOwnProperty("id")&&(e.id=t.id),null!=t.key&&t.hasOwnProperty("key")&&(e.key=t.key),null!=t.bucket&&t.hasOwnProperty("bucket")&&(e.bucket=t.bucket),null!=t.region&&t.hasOwnProperty("region")&&(e.region=t.region),null!=t.startTime&&t.hasOwnProperty("startTime")&&("number"==typeof t.startTime?e.startTime=n.longs===String?String(t.startTime):t.startTime:e.startTime=n.longs===String?g.Long.prototype.toString.call(t.startTime):n.longs===Number?new g.LongBits(t.startTime.low>>>0,t.startTime.high>>>0).toNumber():t.startTime),null!=t.expTime&&t.hasOwnProperty("expTime")&&("number"==typeof t.expTime?e.expTime=n.longs===String?String(t.expTime):t.expTime:e.expTime=n.longs===String?g.Long.prototype.toString.call(t.expTime):n.longs===Number?new g.LongBits(t.expTime.low>>>0,t.expTime.high>>>0).toNumber():t.expTime),null!=t.path&&t.hasOwnProperty("path")&&(e.path=t.path),null!=t.pathDemo&&t.hasOwnProperty("pathDemo")&&(e.pathDemo=t.pathDemo),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.UpdatePushToken=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushChannel=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.pushToken="",t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.pushChannel&&Object.hasOwnProperty.call(t,"pushChannel")&&n.uint32(16).int64(t.pushChannel),null!=t.pushToken&&Object.hasOwnProperty.call(t,"pushToken")&&n.uint32(26).string(t.pushToken),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.UpdatePushToken;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.pushChannel=t.int64();break;case 3:o.pushToken=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.UpdatePushToken)return t;var n=new a.UpdatePushToken;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.pushChannel&&(g.Long?(n.pushChannel=g.Long.fromValue(t.pushChannel)).unsigned=!1:"string"==typeof t.pushChannel?n.pushChannel=parseInt(t.pushChannel,10):"number"==typeof t.pushChannel?n.pushChannel=t.pushChannel:"object"===o(t.pushChannel)&&(n.pushChannel=new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber())),null!=t.pushToken&&(n.pushToken=String(t.pushToken)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.pushChannel=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.pushChannel=n.longs===String?"0":0;e.pushToken=""}return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.pushChannel&&t.hasOwnProperty("pushChannel")&&("number"==typeof t.pushChannel?e.pushChannel=n.longs===String?String(t.pushChannel):t.pushChannel:e.pushChannel=n.longs===String?g.Long.prototype.toString.call(t.pushChannel):n.longs===Number?new g.LongBits(t.pushChannel.low>>>0,t.pushChannel.high>>>0).toNumber():t.pushChannel),null!=t.pushToken&&t.hasOwnProperty("pushToken")&&(e.pushToken=t.pushToken),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ChatAction=function(){function t(t){if(this.uids=[],this.msgs=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.type=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.toUid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.msgId=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.uids=g.emptyArray,t.prototype.msgs=g.emptyArray,t.prototype.data="",t.encode=function(t,n){if(n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&n.uint32(16).int64(t.type),null!=t.toUid&&Object.hasOwnProperty.call(t,"toUid")&&n.uint32(24).int64(t.toUid),null!=t.msgId&&Object.hasOwnProperty.call(t,"msgId")&&n.uint32(32).int64(t.msgId),null!=t.uids&&t.uids.length){n.uint32(42).fork();for(var e=0;e<t.uids.length;++e)n.int64(t.uids[e]);n.ldelim()}if(null!=t.msgs&&t.msgs.length){n.uint32(50).fork();for(e=0;e<t.msgs.length;++e)n.int64(t.msgs[e]);n.ldelim()}return null!=t.data&&Object.hasOwnProperty.call(t,"data")&&n.uint32(58).string(t.data),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ChatAction;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.type=t.int64();break;case 3:o.toUid=t.int64();break;case 4:o.msgId=t.int64();break;case 5:if(o.uids&&o.uids.length||(o.uids=[]),2==(7&i))for(var s=t.uint32()+t.pos;t.pos<s;)o.uids.push(t.int64());else o.uids.push(t.int64());break;case 6:if(o.msgs&&o.msgs.length||(o.msgs=[]),2==(7&i))for(s=t.uint32()+t.pos;t.pos<s;)o.msgs.push(t.int64());else o.msgs.push(t.int64());break;case 7:o.data=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ChatAction)return t;var n=new a.ChatAction;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),null!=t.type&&(g.Long?(n.type=g.Long.fromValue(t.type)).unsigned=!1:"string"==typeof t.type?n.type=parseInt(t.type,10):"number"==typeof t.type?n.type=t.type:"object"===o(t.type)&&(n.type=new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber())),null!=t.toUid&&(g.Long?(n.toUid=g.Long.fromValue(t.toUid)).unsigned=!1:"string"==typeof t.toUid?n.toUid=parseInt(t.toUid,10):"number"==typeof t.toUid?n.toUid=t.toUid:"object"===o(t.toUid)&&(n.toUid=new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber())),null!=t.msgId&&(g.Long?(n.msgId=g.Long.fromValue(t.msgId)).unsigned=!1:"string"==typeof t.msgId?n.msgId=parseInt(t.msgId,10):"number"==typeof t.msgId?n.msgId=t.msgId:"object"===o(t.msgId)&&(n.msgId=new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber())),t.uids){if(!Array.isArray(t.uids))throw TypeError(".ChatAction.uids: array expected");n.uids=[];for(var e=0;e<t.uids.length;++e)g.Long?(n.uids[e]=g.Long.fromValue(t.uids[e])).unsigned=!1:"string"==typeof t.uids[e]?n.uids[e]=parseInt(t.uids[e],10):"number"==typeof t.uids[e]?n.uids[e]=t.uids[e]:"object"===o(t.uids[e])&&(n.uids[e]=new g.LongBits(t.uids[e].low>>>0,t.uids[e].high>>>0).toNumber())}if(t.msgs){if(!Array.isArray(t.msgs))throw TypeError(".ChatAction.msgs: array expected");n.msgs=[];for(e=0;e<t.msgs.length;++e)g.Long?(n.msgs[e]=g.Long.fromValue(t.msgs[e])).unsigned=!1:"string"==typeof t.msgs[e]?n.msgs[e]=parseInt(t.msgs[e],10):"number"==typeof t.msgs[e]?n.msgs[e]=t.msgs[e]:"object"===o(t.msgs[e])&&(n.msgs[e]=new g.LongBits(t.msgs[e].low>>>0,t.msgs[e].high>>>0).toNumber())}return null!=t.data&&(n.data=String(t.data)),n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.uids=[],e.msgs=[]),n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.type=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.type=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.toUid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.toUid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.msgId=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.msgId=n.longs===String?"0":0;e.data=""}if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),null!=t.type&&t.hasOwnProperty("type")&&("number"==typeof t.type?e.type=n.longs===String?String(t.type):t.type:e.type=n.longs===String?g.Long.prototype.toString.call(t.type):n.longs===Number?new g.LongBits(t.type.low>>>0,t.type.high>>>0).toNumber():t.type),null!=t.toUid&&t.hasOwnProperty("toUid")&&("number"==typeof t.toUid?e.toUid=n.longs===String?String(t.toUid):t.toUid:e.toUid=n.longs===String?g.Long.prototype.toString.call(t.toUid):n.longs===Number?new g.LongBits(t.toUid.low>>>0,t.toUid.high>>>0).toNumber():t.toUid),null!=t.msgId&&t.hasOwnProperty("msgId")&&("number"==typeof t.msgId?e.msgId=n.longs===String?String(t.msgId):t.msgId:e.msgId=n.longs===String?g.Long.prototype.toString.call(t.msgId):n.longs===Number?new g.LongBits(t.msgId.low>>>0,t.msgId.high>>>0).toNumber():t.msgId),t.uids&&t.uids.length){e.uids=[];for(var i=0;i<t.uids.length;++i)"number"==typeof t.uids[i]?e.uids[i]=n.longs===String?String(t.uids[i]):t.uids[i]:e.uids[i]=n.longs===String?g.Long.prototype.toString.call(t.uids[i]):n.longs===Number?new g.LongBits(t.uids[i].low>>>0,t.uids[i].high>>>0).toNumber():t.uids[i]}if(t.msgs&&t.msgs.length){e.msgs=[];for(i=0;i<t.msgs.length;++i)"number"==typeof t.msgs[i]?e.msgs[i]=n.longs===String?String(t.msgs[i]):t.msgs[i]:e.msgs[i]=n.longs===String?g.Long.prototype.toString.call(t.msgs[i]):n.longs===Number?new g.LongBits(t.msgs[i].low>>>0,t.msgs[i].high>>>0).toNumber():t.msgs[i]}return null!=t.data&&t.hasOwnProperty("data")&&(e.data=t.data),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.ProfileOnline=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.updateTime=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.nickName="",t.prototype.avatar="",t.prototype.gold=!1,t.prototype.verified=!1,t.encode=function(t,n){return n||(n=s.create()),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(8).int64(t.uid),null!=t.updateTime&&Object.hasOwnProperty.call(t,"updateTime")&&n.uint32(16).int64(t.updateTime),null!=t.nickName&&Object.hasOwnProperty.call(t,"nickName")&&n.uint32(26).string(t.nickName),null!=t.avatar&&Object.hasOwnProperty.call(t,"avatar")&&n.uint32(34).string(t.avatar),null!=t.gold&&Object.hasOwnProperty.call(t,"gold")&&n.uint32(40).bool(t.gold),null!=t.verified&&Object.hasOwnProperty.call(t,"verified")&&n.uint32(48).bool(t.verified),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.ProfileOnline;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.uid=t.int64();break;case 2:o.updateTime=t.int64();break;case 3:o.nickName=t.string();break;case 4:o.avatar=t.string();break;case 5:o.gold=t.bool();break;case 6:o.verified=t.bool();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.ProfileOnline)return t;var n=new a.ProfileOnline;return null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.updateTime&&(g.Long?(n.updateTime=g.Long.fromValue(t.updateTime)).unsigned=!1:"string"==typeof t.updateTime?n.updateTime=parseInt(t.updateTime,10):"number"==typeof t.updateTime?n.updateTime=t.updateTime:"object"===o(t.updateTime)&&(n.updateTime=new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber())),null!=t.nickName&&(n.nickName=String(t.nickName)),null!=t.avatar&&(n.avatar=String(t.avatar)),null!=t.gold&&(n.gold=Boolean(t.gold)),null!=t.verified&&(n.verified=Boolean(t.verified)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;if(g.Long){o=new g.Long(0,0,!1);e.updateTime=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.updateTime=n.longs===String?"0":0;e.nickName="",e.avatar="",e.gold=!1,e.verified=!1}return null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.updateTime&&t.hasOwnProperty("updateTime")&&("number"==typeof t.updateTime?e.updateTime=n.longs===String?String(t.updateTime):t.updateTime:e.updateTime=n.longs===String?g.Long.prototype.toString.call(t.updateTime):n.longs===Number?new g.LongBits(t.updateTime.low>>>0,t.updateTime.high>>>0).toNumber():t.updateTime),null!=t.nickName&&t.hasOwnProperty("nickName")&&(e.nickName=t.nickName),null!=t.avatar&&t.hasOwnProperty("avatar")&&(e.avatar=t.avatar),null!=t.gold&&t.hasOwnProperty("gold")&&(e.gold=t.gold),null!=t.verified&&t.hasOwnProperty("verified")&&(e.verified=t.verified),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.UsrOnline=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(8).int64(t.uid),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.UsrOnline;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.UsrOnline)return t;var n=new a.UsrOnline;return null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;return null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.UsrOffline=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(8).int64(t.uid),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.UsrOffline;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.uid=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.UsrOffline)return t;var n=new a.UsrOffline;return null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;return null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.FetchSpark=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.FetchSpark;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.FetchSpark)return t;var n=new a.FetchSpark;return null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;return null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.Spark=function(){function t(t){if(t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.uid=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.nickName="",t.prototype.avatar="",t.prototype.pic="",t.encode=function(t,n){return n||(n=s.create()),null!=t.uid&&Object.hasOwnProperty.call(t,"uid")&&n.uint32(8).int64(t.uid),null!=t.nickName&&Object.hasOwnProperty.call(t,"nickName")&&n.uint32(18).string(t.nickName),null!=t.avatar&&Object.hasOwnProperty.call(t,"avatar")&&n.uint32(26).string(t.avatar),null!=t.pic&&Object.hasOwnProperty.call(t,"pic")&&n.uint32(34).string(t.pic),n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Spark;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.uid=t.int64();break;case 2:o.nickName=t.string();break;case 3:o.avatar=t.string();break;case 4:o.pic=t.string();break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Spark)return t;var n=new a.Spark;return null!=t.uid&&(g.Long?(n.uid=g.Long.fromValue(t.uid)).unsigned=!1:"string"==typeof t.uid?n.uid=parseInt(t.uid,10):"number"==typeof t.uid?n.uid=t.uid:"object"===o(t.uid)&&(n.uid=new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber())),null!=t.nickName&&(n.nickName=String(t.nickName)),null!=t.avatar&&(n.avatar=String(t.avatar)),null!=t.pic&&(n.pic=String(t.pic)),n},t.toObject=function(t,n){n||(n={});var e={};if(n.defaults){if(g.Long){var o=new g.Long(0,0,!1);e.uid=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.uid=n.longs===String?"0":0;e.nickName="",e.avatar="",e.pic=""}return null!=t.uid&&t.hasOwnProperty("uid")&&("number"==typeof t.uid?e.uid=n.longs===String?String(t.uid):t.uid:e.uid=n.longs===String?g.Long.prototype.toString.call(t.uid):n.longs===Number?new g.LongBits(t.uid.low>>>0,t.uid.high>>>0).toNumber():t.uid),null!=t.nickName&&t.hasOwnProperty("nickName")&&(e.nickName=t.nickName),null!=t.avatar&&t.hasOwnProperty("avatar")&&(e.avatar=t.avatar),null!=t.pic&&t.hasOwnProperty("pic")&&(e.pic=t.pic),e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),a.Sparks=function(){function t(t){if(this.sparks=[],t)for(var n=Object.keys(t),e=0;e<n.length;++e)null!=t[n[e]]&&(this[n[e]]=t[n[e]])}return t.prototype.sign=g.Long?g.Long.fromBits(0,0,!1):0,t.prototype.sparks=g.emptyArray,t.encode=function(t,n){if(n||(n=s.create()),null!=t.sign&&Object.hasOwnProperty.call(t,"sign")&&n.uint32(8).int64(t.sign),null!=t.sparks&&t.sparks.length)for(var e=0;e<t.sparks.length;++e)a.Spark.encode(t.sparks[e],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof r||(t=r.create(t));for(var e=void 0===n?t.len:t.pos+n,o=new a.Sparks;t.pos<e;){var i=t.uint32();switch(i>>>3){case 1:o.sign=t.int64();break;case 2:o.sparks&&o.sparks.length||(o.sparks=[]),o.sparks.push(a.Spark.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},t.fromObject=function(t){if(t instanceof a.Sparks)return t;var n=new a.Sparks;if(null!=t.sign&&(g.Long?(n.sign=g.Long.fromValue(t.sign)).unsigned=!1:"string"==typeof t.sign?n.sign=parseInt(t.sign,10):"number"==typeof t.sign?n.sign=t.sign:"object"===o(t.sign)&&(n.sign=new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber())),t.sparks){if(!Array.isArray(t.sparks))throw TypeError(".Sparks.sparks: array expected");n.sparks=[];for(var e=0;e<t.sparks.length;++e){if("object"!==o(t.sparks[e]))throw TypeError(".Sparks.sparks: object expected");n.sparks[e]=a.Spark.fromObject(t.sparks[e])}}return n},t.toObject=function(t,n){n||(n={});var e={};if((n.arrays||n.defaults)&&(e.sparks=[]),n.defaults)if(g.Long){var o=new g.Long(0,0,!1);e.sign=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else e.sign=n.longs===String?"0":0;if(null!=t.sign&&t.hasOwnProperty("sign")&&("number"==typeof t.sign?e.sign=n.longs===String?String(t.sign):t.sign:e.sign=n.longs===String?g.Long.prototype.toString.call(t.sign):n.longs===Number?new g.LongBits(t.sign.low>>>0,t.sign.high>>>0).toNumber():t.sign),t.sparks&&t.sparks.length){e.sparks=[];for(var i=0;i<t.sparks.length;++i)e.sparks[i]=a.Spark.toObject(t.sparks[i],n)}return e},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),t.exports=a},"32f4":function(t,n,e){"use strict";e("4ec9"),e("d3b7"),e("3ca3"),e("ddb0"),e("4de4"),e("4160"),e("159b");var o=0,i=1,r=2,s=3,g=4,a=5,l=6,u=7,c=8,d=10,p=11,m=12,h=13,f=14,b=15,y=16,S=17,w=18,L=19,O=20,v=21,T=22,N=39,I=50,k=52,E=54,C=56,P="syncChatsChange",U="errorType",j="wsStateChange",B="online",M="offline",D="updateChat",_="syncMsgs",R="readMsg",A="deleteMsg",G="receivedMessage",V="notificationMsg",z="updateProfile",F="im_onMessage_",x="im_onWebsocket_",J="login",K="logout",H="getConversationList",Y="getConversationProvider",W="updateConversationProvider",X="deleteConversation",q="getMessageList",Q="setMessageRead",Z="sendMessage",$="revokeMessage",tt="ReadFlashMessage",nt="getCosKey",et="getAllUnreadCount",ot="getProfile",it="getProfileList",rt="getSpark",st={NET_STATE_DISCONNECTED:"disconnect",NET_STATE_CONNECTING:"connecting",NET_STATE_CONNECTED:"connected"},gt={NOT_LOGIN:"notLogin",LOGGING:"logging",LOGGED:"logged"},at={NOT_SYNC_CHAT:"NotSyncChat",SYNC_CHAT_START:"syncChatStart",SYNC_CHAT_SUCCESS:"syncChatSuccess",SYNC_CHAT_FAILED:"syncChatFailed"},lt={BFIM_MSG_STATUS_SENDING:0,BFIM_MSG_STATUS_SEND_SUCC:1,BFIM_MSG_STATUS_SEND_FAIL:2},ut=0,ct=1,dt=2,pt={SUCCESS:0,ERROR:1,TOKEN_NOT_FOUND:4,NO_REGISTER:9,SIGNED:11,SUBAPP_NOT_EXIST:1016,KICKED_OUT:2008,TIMEOUT:3e3,DISCONNECT:3001,CONNECTERR:3002,CONNECTING:3003,EXITING:3333,LOGGING:3334,DBERR:6005,NOLOGIN:6014,PARAMETER:9001},mt={Text:0,Img:1,Audio:2,Video:3,Location:4,Card:5,Flash:7,Revoked:31,Matched:33,Recall:64,Unmatch:65,SysDelete:66,Deleted:67,ClickView:69,Notification:100},ht=0,ft=1,bt=2,yt=3,St={CONNECT_CHANGE:"onConnectChange",LOGIN:"onLogin",LOGOUT:"onLogout",SYNC_CHATS_CHANGE:"onSyncChatsChange",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",MESSAGE_RECEIVED:"onReceivedMessage",MESSAGE_REVOKED:"onRevokedMessage",MESSAGE_DELETE:"onDeleteMessage",MESSAGE_READ:"onReadMessage",MESSAGE_NOTIFICATION:"onNotificationMessage",KICKED_OUT:"onKickedOut",TOKEN_NOT_FOUND:"onTokenNotFound",LOGIN_FAILED:"onLoginFailed"},wt={PROFILE_UPDATE:"onProfileUpdate",USR_ONLINE:"onUsrOnline",USR_OFFFLINE:"onUsrOffline"},Lt="WsStateChange",Ot="SyncChatsChange",vt="SyncMsgs",Tt="ImLogin",Nt="ImLogout",It="ChatItemUpdate",kt="ResultError",Et="ChatR",Ct="UpdateProfile",Pt="UsrOnline",Ut="UsrOffline",jt=e("2909"),Bt=(e("ace4"),e("5cc6"),e("9a8c"),e("a975"),e("735e"),e("c1ac"),e("d139"),e("3a7b"),e("d5d6"),e("82f8"),e("e91f"),e("60bd"),e("5f96"),e("3280"),e("3fcc"),e("ca91"),e("25a1"),e("cd26"),e("3c5d"),e("2954"),e("649e"),e("219c"),e("170b"),e("b39a"),e("72f7"),e("fb6a"),e("caad"),e("2ad5")),Mt=e("acff");e("99af");var Dt={compress:function(t,n){var e=t,o=0;return t.length>10240&&(o=1,e=Mt.a.deflate(t,{level:5,to:"Uint8Array"})),new Uint8Array([n,o].concat(Object(jt.a)(e)))},loginPro:function(t,n,e){return Bt.ImLogin.encode(Bt.ImLogin.fromObject({sign:t,token:n,subApp:e})).finish()},logoutPro:function(t){return Bt.ImLogout.encode(Bt.ImLogout.fromObject({sign:t})).finish()},chatListPro:function(t,n){return Bt.GetChatList.encode(Bt.GetChatList.fromObject({sign:t,updateTime:n})).finish()},delChatPro:function(t,n){return Bt.DelChat.encode(Bt.DelChat.fromObject({sign:t,toUid:n})).finish()},pingPro:function(){return Bt.Ping.encode(Bt.Ping.fromObject({type:0})).finish()},getMsgPro:function(t){return t.offset=t.pageSize||20,Bt.GetHistory.encode(Bt.GetHistory.fromObject(t)).finish()},sendMsgPro:function(t){return Bt.ChatS.encode(Bt.ChatS.fromObject(t)).finish()},readMsgPro:function(t,n){return Bt.MsgRead.encode(Bt.MsgRead.fromObject({sign:t,toUid:n})).finish()},chatPro:function(t,n){return Bt.GetChat.encode(Bt.GetChat.fromObject({sign:t,uid:n})).finish()},cosPro:function(t){return Bt.GetCosKey.encode(Bt.GetCosKey.fromObject({sign:t})).finish()},directiveMsgPro:function(t){return Bt.ChatAction.encode(Bt.ChatAction.fromObject(t)).finish()}},_t={ws:null,Global:null,heartRate:3e4,maxReconnectTime:15e3,heartBeatTime:null,closeReconnect:!1,reconnectTimer:null,reconnectNum:0,reconnectSpace:!1,chatListEvent:null,chatFormatList:[]},Rt=[14,505,506];function At(t,n){Ft(),_t.Global=t,_t.closeReconnect=!1,Jt(n),window.removeEventListener("online",Gt(n)),window.addEventListener("online",Gt(n)),window.addEventListener("offline",(function(){_t.ws.close()}))}function Gt(t){_t.closeReconnect||1===_t.ws.readyState||(_t.reconnectSpace=!1,_t.reconnectNum=0,_t.ws?_t.ws.close():Kt(t))}function Vt(t,n){var e;_t.heartBeatTime=Date.now();var o=Dt.compress(t,n);null===(e=_t.ws)||void 0===e||e.send(o)}function zt(){Ft(),_t.ws&&_t.ws.close()}function Ft(){_t.reconnectTimer&&clearTimeout(_t.reconnectTimer),_t.ws=null,_t.Global=null,_t.heartBeatTime=null,_t.reconnectSpace=!1,_t.closeReconnect=!0,_t.reconnectTimer=null,_t.reconnectNum=0,_t.chatListEvent=null,_t.chatFormatList=[]}function xt(){_t.reconnectNum=0}function Jt(t){_t.Global.onConn();var n=new WebSocket(t.wsUrl);n.binaryType="arraybuffer",n.onopen=function(n){_t.heartBeatTime=Date.now(),t.connSuc(t)},n.onmessage=Wt,n.onclose=function(n){Kt(t),t.connErr(t,n)},n.onerror=function(n){Kt(t)},_t.ws=n}function Kt(t){_t.reconnectSpace||_t.closeReconnect||(_t.reconnectSpace=!0,_t.reconnectTimer=setTimeout((function(){0===_t.reconnectNum?_t.reconnectNum=250:_t.reconnectNum<=_t.maxReconnectTime/2?_t.reconnectNum*=2:_t.reconnectNum=_t.maxReconnectTime,Jt(t),_t.reconnectSpace=!1}),_t.reconnectNum))}function Ht(t){var n=_t.Global.callEvents,e=null;return Object.prototype.hasOwnProperty.call(t,"sign")&&(e=n.get(t.sign)),e}function Yt(t,n){return t.toObject(t.decode(n),{defaults:!0})}function Wt(t){var n=new Uint8Array(t.data.slice(0,1))[0],e=t.data.slice(2);switch(1===new Uint8Array(t.data.slice(1,2))[0]&&(e=Mt.a.inflate(e,{to:"Uint8Array"})),e=new Uint8Array(e),n){case s:!function(t){var n=Yt(Bt.Result,t),e=n.code,o=Ht(n);if((null==o?void 0:o.type)===J&&Rt.includes(e)){var i;return void(null===(i=_t.ws)||void 0===i||i.close())}switch(e){case pt.SUCCESS:(null==o?void 0:o.type)===H?(_t.chatListEvent=o,_t.chatFormatList=[]):(null==o?void 0:o.callSuc)&&o.callSuc({data:n});break;case pt.ERROR:(null==o?void 0:o.callErr)&&o.callErr(n);break;case pt.TOKEN_NOT_FOUND:case pt.KICKED_OUT:case pt.SUBAPP_NOT_EXIST:_t.closeReconnect=!0,_t.ws.close(),_t.Global.handleMessage({type:kt,data:n}),(null==o?void 0:o.callErr)&&o.callErr(n);break;case 12:(null==o?void 0:o.callSuc)&&o.callSuc({chats:[],hasMore:!1});break;default:(null==o?void 0:o.callErr)&&o.callErr(n)}}(e);break;case b:!function(t){var n,e,o=Yt(Bt.ChatList,t);(n=_t.chatFormatList).push.apply(n,Object(jt.a)(o.chatItems)),o.updateTime&&null!==(e=_t.chatListEvent)&&void 0!==e&&e.callSuc&&(_t.chatListEvent.callSuc({chats:_t.chatFormatList,updateTime:o.updateTime}),_t.chatListEvent=null,_t.chatFormatList=[])}(e);break;case u:!function(t){var n=Yt(Bt.ChatRBatch,t),e=Ht(n);(null==e?void 0:e.callSuc)&&e.callSuc({messages:n.msgs})}(e);break;case l:!function(t){var n=Yt(Bt.ChatR,t),e=Ht(n);null!=e&&e.callSuc?e.callSuc({data:n}):_t.Global.handleMessage({type:Et,data:n})}(e);break;case a:!function(t){var n=Yt(Bt.ChatSR,t),e=Ht(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case f:!function(t){var n=Yt(Bt.ChatItemUpdate,t);_t.Global.handleMessage({type:It,data:n});var e=Ht(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case h:!function(t){var n=Yt(Bt.ChatItem,t),e=Ht(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case T:!function(t){var n=Yt(Bt.CosKey,t),e=Ht(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case w:!function(t){var n=Yt(Bt.Profile,t),e=Ht(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case L:!function(t){var n=Yt(Bt.ProfileList,t);_t.Global.handleMessage({type:Ct,data:n})}(e);break;case C:!function(t){var n=Yt(Bt.Sparks,t),e=Ht(n);(null==e?void 0:e.callSuc)&&e.callSuc({data:n})}(e);break;case I:!function(t){var n=Yt(Bt.ProfileOnline,t);_t.Global.handleMessage({type:Pt,data:n})}(e);break;case k:!function(t){var n=Yt(Bt.UsrOffline,t);_t.Global.handleMessage({type:Ut,data:n})}(e)}}var Xt=e("53ca"),qt=(e("2ca0"),e("ac1f"),e("1276"),[]);function Qt(t,n){qt.push(t),window.localStorage.setItem(t,JSON.stringify(n))}function Zt(t){window.localStorage.removeItem(t),qt=qt.filter((function(n){return n!==t}))}function $t(t){if("string"==typeof t)try{var n=JSON.parse(t);return!("object"!=Object(Xt.a)(n)||!n)&&n}catch(t){return!1}}var tn={clear:function(t){for(;qt.length>0;){var n=qt.pop();window.localStorage.removeItem(n)}t&&(window.localStorage.removeItem("im_windowHeartBeat"),window.localStorage.removeItem("im_wsCurId"),window.localStorage.removeItem("im_wsTabs"),window.localStorage.removeItem("im_wsConnTab"))},watchStorage:function(t,n,e){if(!t.key||!t.newValue)return;if("im_wsCurId"===t.key)return void(t.newValue===e.tabId?e.globalTimer():e.curTab&&e.clearTimer());"im_getSdkState"===t.key&&e.curTab&&window.localStorage.setItem("im_setSdkState",JSON.stringify({tabId:t.newValue,sdkState:e.sdkState}));if("im_setSdkState"===t.key){var o=$t(t.newValue);o.tabId===e.tabId&&(window.localStorage.removeItem("im_setSdkState"),e.stateCallEvents.forEach((function(t,n){t.callSuc(o.sdkState)})))}t.key.startsWith("im_update_tabs_")&&e.curTab&&e.updateTabs&&(e.updateTabs.push(t.newValue),window.localStorage.setItem("im_wsTabs",JSON.stringify(e.updateTabs)));if("im_wsConnTab"===t.key&&t.newValue===e.tabId)return e.reconnection(),void window.localStorage.removeItem("im_wsConnTab");if(t.key.startsWith(F)){var i=JSON.parse(t.newValue);return void e.handleMessage(i)}if(t.key.startsWith(x))return void function(t,n,e){var o=$t(t.newValue);if(!1===o)return;if(e.curTab&&o.state===ut){var i=t.key.split("_")[2],r=function(t,n,e){var o=null;switch(t){case K:o=n.logout();break;case Y:o=n.getConversationProvider(e.options);break;case X:o=n.deleteConversation(e.options);break;case et:o=n.getAllUnreadCount();break;case q:e.options.tabId=e.tabId,o=n.getMessageList(e.options);break;case Q:o=n.setMessageRead(e.options);break;case Z:o=n.sendMessage(e.options);break;case $:o=n.revokeMessage(e.options);break;case tt:o=n.readFlashMessage(e.options);break;case nt:o=n.getCosKey();break;case ot:o=n.getProfile();break;case it:o=n.getProfileList();break;case rt:o=n.getSpark();break;default:o=!1}return o}(i,n,o);if(!r)return;r.then((function(n){i===q?(o.state=ct,o.hasMore=n.data.hasMore,o.messages=n.data.messages,Qt(t.key,o)):function(t,n,e){e.state=ct,e.data=t,Qt(n,e)}(n.data,t.key,o)})).catch((function(n){!function(t,n,e){e.state=dt,e.err=t,Qt(n,e)}(n,t.key,o)}))}else o.tabId===e.tabId&&function(t,n,e){Zt(t);var o=n.callEvents.get(e.callSign);e.state===ct?(null==o?void 0:o.callSuc)&&o.callSuc(e):e.state===dt&&(null==o?void 0:o.callErr)&&o.callErr(e.err)}(t.key,e,o)}(t,n,e)},onMessageNotice:function(t,n){var e=F+t;Qt(e,n),Zt(e)},onWebSocketNotice:function(t,n){Qt("".concat(x+t,"_").concat(n.tabId,"_").concat(n.callSign,";"),n)}},nn=e("5530");e("4e82"),e("a15b"),e("c975"),e("b0c0"),e("e25e"),e("7db0"),e("2532");function en(t,n){return n?"string"!=typeof t:"string"!=typeof t||""===t}function on(t,n){return n?"number"!=typeof t||0===t:"number"!=typeof t}function rn(t){return null==t}function sn(t){return"string"!=typeof t||0!==t.indexOf("http://")&&0!==t.indexOf("https://")}function gn(t){return"string"!=typeof t||0!==t.indexOf("ws://")&&0!==t.indexOf("wss://")}function an(t,n,e){if("object"!==Object(Xt.a)(t))return!0;if(n)switch(e){case"string":return en(t[n]);case"number":return on(t[n]);case"http":return sn(t[n]);case"ws":return gn(t[n]);default:return rn(t[n])}}function ln(t){return"".concat(t," parameter type is wrong or does not exist")}function un(t,n,e){return"".concat(t,"_").concat(n,"_").concat(e)}function cn(t){return Math.round(1e3*(t||Date.now()+Math.random()))}function dn(t,n,e){return{name:n,code:e||pt.ERROR,msg:t}}function pn(t){return{code:pt.PARAMETER,name:t.name,msg:t.msg||ln(t.key)}}function mn(t){return"C2C_"+t}function hn(t,n,e){return t.sdkState.loginState===gt.NOT_LOGIN?(n(dn("Imsdk is not logged",e,pt.NOLOGIN)),!1):!t.curTab||t.sdkState.connState===st.NET_STATE_CONNECTED||(n(dn("disconnected",e,pt.DISCONNECT)),!1)}var fn={sort:function(t,n){return t.sort((function(t,e){return e[n]-t[n]}))},uuid:function(){for(var t=[],n=0;n<36;n++)t[n]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},isNotString:en,isNotNumer:on,isNotObject:an,isNotEmpty:rn,isNotSize:function(t,n){return new Blob([t],{type:"application/json"}).size>(n||3072)},isNotHttp:sn,isNotWs:gn,createOnlyId:un,createSign:cn,resultErr:dn,serverErr:function(t,n){return{name:n,code:t.code||pt.ERROR,msg:t.msg}},parameterErr:pn,resultSuc:function(t,n){return{code:pt.SUCCESS,name:t,data:JSON.parse(JSON.stringify(n))}},resultNotice:function(t,n,e){return{name:t,code:e||pt.SUCCESS,data:JSON.parse(JSON.stringify(n))}},msgBase:function(t,n){var e=Date.now(),o={fromUid:n,msgId:0,toUid:t,showMsgTime:e,sendStatus:lt.BFIM_MSG_STATUS_SENDING};o.conversationID=mn(t);var i=cn(e);return o.onlyId=un(o.conversationID,n,i),o},splicingC2CId:mn,reformatC2CId:function(t){return parseInt(t.slice(4))},formatBody:function(t,n,e){var o=null,i=null;if(!hn(t,e,Z))return!1;if(an(n,"type","number"))o=pn({name:Z,key:"type"});else switch(n.type){case mt.Text:en(n.text)&&(o=pn({name:Z,key:"text"})),i=n.text;break;case mt.Img:case mt.Flash:sn(n.url)?o=pn({name:Z,key:"url"}):rn(n.height)?o=pn({name:Z,key:"height"}):rn(n.width)&&(o=pn({name:Z,key:"width"})),i=n.url;break;default:i=n.content}return o?(e(o),!1):i},formatMsg:function(t,n){var e={conversationID:n,fromUid:t.fromUid,toUid:t.toUid,type:t.type,msgId:t.msgId,newMsg:t.newMsg,msgTime:t.msgTime,sendStatus:lt.BFIM_MSG_STATUS_SEND_SUCC};return e.onlyId=t.onlyId||un(n,t.fromUid,t.sign||t.msgTime),e.showMsgTime=parseInt(t.msgTime/1e3)||t.showMsgTime,function(t,n){switch(t.type){case mt.Text:n.text=t.body;break;case mt.Img:n.url=t.body,n.height=t.height,n.width=t.width;break;case mt.Audio:n.url=t.body,n.duration=t.duration;break;case mt.Video:n.url=t.body,n.thumb=t.thumb,n.height=t.height,n.width=t.width,n.duration=t.duration;break;case mt.Location:n.title=t.title,n.lat=t.lat,n.lng=t.lng,n.zoom=t.zoom;break;case mt.Flash:n.url=t.body,n.height=t.height,n.width=t.width,t.lat||t.lng?(n.fromRead=t.lat===t.fromUid||t.lng===t.fromUid,n.toRead=t.lat===t.toUid||t.lng===t.toUid):(n.toRead=!1,n.fromRead=!1);break;case mt.Revoked:n.text=t.body;break;case mt.Recall:case mt.ClickView:n.text=t.body;break;default:n.content=t.body,n.title=t.title,n.lat=t.lat,n.lng=t.lng,n.zoom=t.zoom,n.thumb=t.thumb,n.height=t.height,n.width=t.width,n.duration=t.duration}}(t,e),e},formatChat:function(t,n){var e=Object(nn.a)(Object(nn.a)({},t),{},{sign:void 0});return e.showTime=parseInt(t.showMsgTime/1e3),e.conversationID=mn(t.uid),t.msgEnd&&(e.showMsgFromUid=t.myMove?t.uid:n),e},emptyTip:ln,createCallEvent:function(t,n){t.callEvents.set(n.callSign,{tabId:t.tabId,type:n.type,timeOut:Date.now()+t.timeOut,callSuc:function(e){t.callEvents.delete(n.callSign),n.callSuc&&n.callSuc(e)},callErr:function(e){t.callEvents.delete(n.callSign),n.callErr&&n.callErr(e)}})},preJudge:hn,addMsgList:function(t,n,e){var o=t.msgList.get(n);o=o&&o.length>0?[].concat(Object(jt.a)(e),Object(jt.a)(o)):Object(jt.a)(e),t.msgList.set(n,o)},getMsgList:function(t,n,e){var o=t.msgList.get(n);return o&&o.length>0?(e&&(o=o.filter((function(t){return t.msgId<e}))),o.sort((function(t,n){return t.msgId-n.msgId}))):[]},updateMsgs:function(t,n,e){var o=t.msgList.get(n);o&&o.length>0&&e.forEach((function(t){var n=o.find((function(n){return n.msgId===t.msgId}));n&&Object.assign(n,t)}))},updateFlashMsg:function(t,n){var e=t.msgList.get(n.conversationID);if(e&&e.length>0){var o=e.find((function(t){return t.msgId===n.msgId}));if(!o)return;var i={};o.fromUid===n.fromUid?i.fromRead=!0:o.toUid===n.fromUid&&(i.toRead=!0),Object.assign(o,i)}},deleteMsgs:function(t,n,e){if(!e)return t.msgList.delete(n);var o=t.msgList.get(n);o&&o.length>0&&(o=o.filter((function(t){return!e.includes(t.msgId)})),t.msgList.set(n,o))}},bn=(e("d81d"),e("25f0"),e("4dec")),yn=null,Sn=1,wn={chatList:["&conversationID","uid","msgEnd","msgLastRead","showMsgId","showMsgType","showMsg","showMsgTime","showTime","showMsgFromUid","unread","matched","newMsg","myMove","iceBreak","tipFree","topAlbum","iBlockU","iChatU","uChatI","deleted"].join(),msgList:["&onlyId","conversationID","fromUid","toUid","msgId","msgTime","showMsgTime","sendStatus","text","url","type","thumb","width","height","duration","title","lat","lng","zoom","toRead","fromRead","content","sput","newMsg"].join(),chatHistory:["&conversationID"].join()},Ln={};function On(t,n){switch(t){case"im_chatHistory":case"im_chatList":"Array"!==(e=n,Object.prototype.toString.call(e).slice(8,-1))&&(n=[])}var e;return n}function vn(t){try{var n=window.localStorage.getItem(t);return On(t,n=JSON.parse(n))}catch(n){return On(t,null)}}function Tn(t,n){window.localStorage.setItem(t,JSON.stringify(n))}Ln.initDB=function(t){window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB?((yn=new bn.a("imWsDB")).version(Sn).stores(wn),yn.open().then((function(n){Sn=yn.verno,t()})).catch((function(n){yn=null,t()}))):t()},Ln.deleteDB=function(){bn.a.delete("imWsDB"),window.localStorage.removeItem("im_chatHistory"),window.localStorage.removeItem("im_chatList")},Ln.clear=function(){var t;null!==(t=yn)&&void 0!==t&&t.isOpen&&yn.isOpen()?yn.transaction("rw",yn.tables,(function(){yn.tables.forEach((function(t){t.clear()}))})):(window.localStorage.removeItem("im_chatHistory"),window.localStorage.removeItem("im_chatList"))},Ln.addChatList=function(t){var n;if(null!==(n=yn)&&void 0!==n&&n.isOpen&&yn.isOpen())yn.chatList.bulkPut(t);else{var e=vn("im_chatList");Tn("im_chatList",e=e.concat(t))}},Ln.updateChat=function(t){var n;if(null!==(n=yn)&&void 0!==n&&n.isOpen&&yn.isOpen())return yn.chatList.put(t);var e=vn("im_chatList"),o=t;return Tn("im_chatList",e=e.map((function(n){return n.conversationID===t.conversationID&&(o=Object.assign(n,t)),n}))),Promise.resolve(o)},Ln.getChatList=function(){var t;if(null!==(t=yn)&&void 0!==t&&t.isOpen&&yn.isOpen())return yn.chatList.toCollection().and((function(t){return!1===t.deleted})).toArray();var n=vn("im_chatList");return n=n.filter((function(t){return!1===t.deleted})),Promise.resolve(n)},Ln.getChat=function(t){var n;if(null!==(n=yn)&&void 0!==n&&n.isOpen&&yn.isOpen())return yn.chatList.get({conversationID:t});var e=vn("im_chatList").find((function(n){return n.conversationID===t}));return Promise.resolve(e)},Ln.addChatKey=function(t){var n;if(null!==(n=yn)&&void 0!==n&&n.isOpen&&yn.isOpen())yn.chatHistory.put({conversationID:t});else{var e=vn("im_chatHistory");e.find((function(n){return n.conversationID===t}))||(e.push({conversationID:t}),Tn("im_chatHistory",e))}},Ln.getChatKeys=function(){var t;return null!==(t=yn)&&void 0!==t&&t.isOpen&&yn.isOpen()?yn.chatHistory.toArray():Promise.resolve(vn("im_chatHistory"))},Ln.addMsgList=function(t){var n;null===(n=yn)||void 0===n||n.msgList.bulkPut(t)},Ln.getMsgList=function(t){var n;return!0!==((null===(n=yn)||void 0===n?void 0:n.isOpen)&&yn.isOpen())?Promise.resolve([]):t.msgEnd?yn.msgList.toCollection().and((function(n){return n.conversationID===t.conversationID&&n.msgId<t.msgEnd})).sortBy("msgId"):yn.msgList.where({conversationID:t.conversationID}).sortBy("msgId")},Ln.addMsg=function(t){var n;null===(n=yn)||void 0===n||n.msgList.put(t)},Ln.updateMsg=function(t){var n;null===(n=yn)||void 0===n||n.msgList.where({conversationID:t.conversationID,msgId:t.msgId}).modify(t)},Ln.updateFlashMsg=function(t){var n;null!==(n=yn)&&void 0!==n&&n.isOpen&&yn.isOpen()&&yn.msgList.get({conversationID:t.conversationID,msgId:t.msgId}).then((function(n){if(n){var e={};n.fromUid===t.fromUid?e.fromRead=!0:n.toUid===t.fromUid&&(e.toRead=!0),yn.msgList.update(n.onlyId,e)}}))},Ln.deleteMsgs=function(t,n){var e,o;n?null===(e=yn)||void 0===e||e.msgList.toCollection().and((function(e){return e.conversationID===t&&n.includes(e.msgId.toString())})).delete():null===(o=yn)||void 0===o||o.msgList.where({conversationID:t}).delete()};var Nn,In,kn=Ln,En=e("1da1");e("96cf"),e("a9e3"),e("a630"),e("c740"),e("13d5");function Cn(t){t.handleMessage({type:Ot,state:at.SYNC_CHAT_START});var n=fn.createSign();t.callEvents.has(n)&&(n+=1),fn.createCallEvent(t,{type:H,callSign:n,callSuc:function(n){n.updateTime&&n.updateTime>t.updateTime&&(t.updateTime=n.updateTime),n.chats.length>0?t.sdkState.chatsSync===at.SYNC_CHAT_SUCCESS?function(t,n){kn.getChatKeys().then((function(e){Pn(t,n,e)}))}(t,n.chats):function(t,n){Pn(t,n)}(t,n.chats):t.handleMessage({type:Ot,state:at.SYNC_CHAT_SUCCESS,chats:[]})},callErr:function(n){t.handleMessage({type:Ot,state:at.SYNC_CHAT_FAILED,err:n})}}),Vt(Dt.chatListPro(n,t.updateTime),m)}function Pn(t,n,e){var o=n.map((function(n){var o=fn.formatChat(n,t.sdkState.uid),i=o.conversationID;if(null!=e&&e.find((function(t){return t.conversationID===i}))){var r=t.chatKeys.get(i);!function(t,n,e){var o=fn.createSign();t.callEvents.has(o)&&(o+=1),fn.createCallEvent(t,{type:q,callSign:o,callSuc:(i=Object(En.a)(regeneratorRuntime.mark((function o(i){var r,s,g,a,l,u,c,d,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(null!=i&&null!==(r=i.messages)&&void 0!==r&&r.length){o.next=2;break}return o.abrupt("return");case 2:for(s=i.messages.length-1,g=!1,i.messages[s].msgId>n+1&&(g=!0),a=[],l=[],u=[];s>=0;s--)(c=i.messages[s]).type===mt.Recall?(d={conversationID:c.conversationID,msgId:parseInt(c.body),type:mt.Revoked},a.push(d)):c.type===mt.SysDelete?c.content.split(",").forEach((function(t){u.push(Number(t))})):c.type<64&&(p=fn.formatMsg(c,e.conversationID),l.push(p));!0!==e.deleted&&t.handleMessage({type:vt,conversationID:e.conversationID,revokeList:a,msgList:l,deleteMsgIds:u,isDeleteMsgsHistory:g});case 10:case"end":return o.stop()}}),o)}))),function(t){return i.apply(this,arguments)}),callErr:function(t){}}),Vt(Dt.getMsgPro({sign:o,toUid:e.uid,pageSize:100,msgStart:n}),c);var i}(t,null==r?void 0:r.msgEnd,o)}return o.deleted?t.chatKeys.delete(i):t.chatKeys.set(i,o),o}));return null!=o&&o.length&&kn.addChatList(o),t.handleMessage({type:Ot,state:at.SYNC_CHAT_SUCCESS,chats:o}),o}function Un(t,n,e){var o=fn.sort(Array.from(t.chatKeys.values()),"showMsgTime"),i=!1;if((null==n?void 0:n.pageSize)>0)if(null!=n&&n.conversationID){var r=o.findIndex((function(t){return t.conversationID===n.conversationID}));-1===r||r===o.length-1?o=[]:(i=o.length>r+1+n.pageSize,o=o.slice(r+1,r+1+n.pageSize))}else i=o.length>n.pageSize,o=o.slice(0,n.pageSize);e(fn.resultSuc(H,{chats:o,hasMore:i}))}function jn(t,n){return new Promise((function(e,o){if(fn.preJudge(t,o,Y)){if(fn.isNotObject(n,"conversationID","string")){var i=fn.parameterErr({name:Y,key:"conversationID"});return o(i)}if(t.chatKeys.has(n.conversationID)){var r=t.chatKeys.get(n.conversationID),s=fn.resultSuc(Y,r);e(s)}else kn.getChat(n.conversationID).then((function(i){if(i){var r=fn.resultSuc(Y,i);return e(r)}Bn(t,n.conversationID,e,o)}))}}))}function Bn(t,n,e,o){var i=fn.createSign();if(t.callEvents.has(i)&&(i+=1),fn.createCallEvent(t,{type:Y,callSign:i,callSuc:function(n){if(n.data){var o=fn.formatChat(n.data,t.sdkState.uid);kn.updateChat(o);var i=fn.resultSuc(Y,o);e(i)}},callErr:function(t){var n=fn.serverErr(t,Y);o(n)}}),t.curTab){var r=fn.reformatC2CId(n);Vt(Dt.chatPro(i,r),O)}else tn.onWebSocketNotice(Y,{callSign:i,tabId:t.tabId,options:options,state:ut})}function Mn(t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(En.a)(regeneratorRuntime.mark((function t(n){var e,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.conversationID||fn.splicingC2CId(n.uid),o=n,!Nn.curTab){t.next=5;break}return t.next=5,jn(Nn,{conversationID:e}).then((function(t){var n=t.data;o=n}));case 5:if(!n.event){t.next=9;break}i=Rn(n,o),t.next=12;break;case 9:if(!(n.showMsgTime<o.showMsgTime)){t.next=11;break}return t.abrupt("return");case 11:i=_n(n,o);case 12:An(i);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _n(t,n){var e=Object(nn.a)({},n);if(t.showMsgTime>Nn.updateTime&&(Nn.updateTime=t.showMsgTime),Nn.curTab)switch(t.showMsgType){case mt.Recall:t.showMsgId===e.showMsgId?(e.msgEnd=t.msgEnd,e.showMsgType=mt.Revoked,e.showMsg=""):e.msgEnd<t.msgEnd&&(e.msgEnd=t.msgEnd);break;case mt.Unmatch:e.msgEnd=t.msgEnd,e.matched=!1;break;default:t.unread&&t.msgEnd>e.msgEnd&&(t.unread=(e.unread||0)+t.unread),Object.assign(e,t),e.showTime=parseInt(e.showMsgTime/1e3),e.deleted=!1}return e}function Rn(t,n){var e=Object(nn.a)({},n);switch(t.event){case ht:e.msgLastRead=t.msgLastRead;break;case ft:e.unread=t.unread;break;case bt:e.iBlockU=t.iBlockU;break;case yt:t.deleted&&(e.deleted=t.deleted,Nn.chatKeys.has(n.conversationID)&&Nn.chatKeys.delete(n.conversationID))}return t.updateTime>Nn.updateTime&&(Nn.updateTime=t.updateTime),e}function An(t){if(Nn.chatKeys.has(t.conversationID)){var n=Nn.chatKeys.get(t.conversationID);Object.assign(n,t)}else!0!==t.deleted&&Nn.chatKeys.set(t.conversationID,t);if(In[St.CONVERSATION_LIST_UPDATED]){var e=fn.resultNotice(St.CONVERSATION_LIST_UPDATED,[t]);In[St.CONVERSATION_LIST_UPDATED](e)}Nn.curTab&&(tn.onMessageNotice(D,{type:It,data:t}),kn.updateChat(t))}var Gn=function(t,n,e){switch(Nn=t,In=n,e.type){case Lt:!function(t){Nn.sdkState.connState=t.state,Nn.curTab&&tn.onMessageNotice(j,t);if(In[St.CONNECT_CHANGE]){var n=fn.resultNotice(St.CONNECT_CHANGE,{state:t.state});In[St.CONNECT_CHANGE](n)}}(e);break;case Ot:!function(t){Nn.curTab?tn.onMessageNotice(P,t):t.state===at.SYNC_CHAT_SUCCESS&&t.chats.forEach((function(t){t.delete?Nn.chatKeys.delete(t.conversationID):Nn.chatKeys.set(t.conversationID,t)}));if(t.state!==at.SYNC_CHAT_START){var n;if(Nn.chatCallEvents.forEach((function(n,e){t.state===at.SYNC_CHAT_SUCCESS?n.callSuc():t.state===at.SYNC_CHAT_FAILED&&n.callErr(t.err)})),Nn.sdkState.chatsSync===at.SYNC_CHAT_SUCCESS){if(In[St.CONVERSATION_LIST_UPDATED]&&(null===(n=t.chats)||void 0===n?void 0:n.length)>0){var e=fn.resultNotice(St.CONVERSATION_LIST_UPDATED,t.chats);In[St.CONVERSATION_LIST_UPDATED](e)}}else Nn.sdkState.chatsSync=at.SYNC_CHAT_SUCCESS}if(In[St.SYNC_CHATS_CHANGE]){var o=fn.resultNotice(St.SYNC_CHATS_CHANGE,{state:t.state});In[St.SYNC_CHATS_CHANGE](o)}}(e);break;case vt:!function(t){Nn.curTab&&tn.onMessageNotice(_,t);t.isDeleteMsgsHistory&&fn.deleteMsgs(Nn,t.conversationID);if(t.msgList.length>0&&(fn.addMsgList(Nn,t.conversationID,t.msgList),In[St.MESSAGE_RECEIVED])){var n=fn.resultNotice(St.MESSAGE_RECEIVED,t.msgList);In[St.MESSAGE_RECEIVED](n)}if(t.deleteMsgIds.length>0&&(fn.deleteMsgs(Nn,t.conversationID,t.deleteMsgIds),In[St.MESSAGE_DELETE])){var e=fn.resultNotice(St.MESSAGE_DELETE,{conversationID:t.conversationID,msgIds:t.deleteMsgIds});In[St.MESSAGE_DELETE](e)}if(t.revokeList.length>0&&In[St.MESSAGE_REVOKED]&&(fn.updateMsgs(Nn,t.conversationID,t.revokeList),In[St.MESSAGE_REVOKED])){var o=fn.resultNotice(St.MESSAGE_REVOKED,t.revokeList);In[St.MESSAGE_REVOKED](o)}}(e);break;case Tt:!function(t){if(Object.assign(Nn.sdkState,t.data),Nn.curTab)Nn.updateTabs=[Nn.tabId],window.localStorage.setItem("im_wsTabs",JSON.stringify(Nn.updateTabs)),tn.onMessageNotice(B,t);else{var n="im_update_tabs_"+Nn.tabId;window.localStorage.setItem(n,Nn.tabId),window.localStorage.removeItem(n)}if(In[St.LOGIN]){var e=fn.resultNotice(St.LOGIN,{code:pt.SUCCESS,loginState:t.data.loginState,uid:t.data.uid});In[St.LOGIN](e)}}(e);break;case Nt:!function(t){if(Nn.curTab&&Nn.sdkState.loginState===gt.LOGGED){var n=fn.createSign();Vt(Dt.logoutPro(n),r)}Nn.clearData(t.data.isBroadcast),t.data.isBroadcast&&(t.data.isBroadcast=!1,tn.onMessageNotice(M,t));if(In[St.LOGOUT]){var e=fn.resultNotice(St.LOGOUT,{code:t.data.code,msg:t.data.msg});In[St.LOGOUT](e)}}(e);break;case It:Mn(e.data);break;case kt:!function(t){Nn.curTab&&tn.onMessageNotice(U,t);switch(Nn.clearData(Nn.curTab),t.data.code){case pt.KICKED_OUT:case pt.NO_REGISTER:case pt.SUBAPP_NOT_EXIST:if(In[St.KICKED_OUT]){var n=fn.resultNotice(St.KICKED_OUT,t.data);In[St.KICKED_OUT](n)}break;case pt.TOKEN_NOT_FOUND:if(In[St.TOKEN_NOT_FOUND]){var e,o=fn.resultNotice(St.TOKEN_NOT_FOUND,null===(e=t.data)||void 0===e?void 0:e.msg,t.data.code);In[St.TOKEN_NOT_FOUND](o)}break;default:if(In[St.LOGIN_FAILED]){var i=fn.resultNotice(St.LOGIN_FAILED,t.data);In[St.LOGIN_FAILED](i)}}}(e);break;case Et:!function(t){t.shift?Nn.msgHandleList.unshift(t):Nn.msgHandleList.push(t);if(Nn.handleMsgState)return;!function t(){new Promise((function(t,n){try{var e=Nn.msgHandleList.shift().data;if(!e.onlyId){var o=Nn.sdkState.uid===e.fromUid?e.toUid:e.fromUid,i=fn.splicingC2CId(o);e=fn.formatMsg(e,i)}e.type===mt.Notification?function(t,n){Nn.curTab&&tn.onMessageNotice(V,{type:Et,data:t});if(In[St.MESSAGE_NOTIFICATION]){var e=fn.resultNotice(St.MESSAGE_NOTIFICATION,t);In[St.MESSAGE_NOTIFICATION](e)}n()}(e,t):e.type>=64&&e.type<=99?function(t,n){switch(t.type){case mt.Recall:!function(t,n){var e={conversationID:t.conversationID,msgId:parseInt(t.text),type:mt.Revoked};if(fn.updateMsgs(Nn,t.conversationID,[e]),In[St.MESSAGE_REVOKED]){var o=fn.resultNotice(St.MESSAGE_REVOKED,[e]);In[St.MESSAGE_REVOKED](o)}Nn.curTab&&(tn.onMessageNotice(G,{type:Et,data:t}),Mn({conversationID:t.conversationID,msgEnd:t.msgId,showMsgId:e.msgId,showMsgTime:t.msgTime,showMsgType:mt.Recall}));n()}(t,n);break;case mt.Unmatch:!function(t,n){Nn.chatKeys.has(t.conversationID)&&(Nn.curTab&&tn.onMessageNotice(G,{type:Et,data:t}),Mn({conversationID:t.conversationID,msgEnd:t.msgId,showMsgTime:t.msgTime,showMsgType:mt.Unmatch}),n())}(t,n);break;case mt.SysDelete:!function(t,n){if(Nn.curTab){var e=t.content.split(",").map(Number);t.content=e,tn.onMessageNotice(A,{type:Et,data:t})}fn.deleteMsgs(Nn,t.conversationID,t.content);var o=Nn.chatKeys.get(t.conversationID);t.content.includes(null==o?void 0:o.showMsgId)&&Mn({conversationID:t.conversationID,showMsgType:mt.Deleted,showMsg:""});if(In[St.MESSAGE_DELETE]){var i=fn.resultNotice(St.MESSAGE_DELETE,{conversationID:t.conversationID,msgIds:t.content});In[St.MESSAGE_DELETE](i)}n()}(t,n);break;case mt.ClickView:!function(t,n){var e={conversationID:t.conversationID,msgId:parseInt(t.text),type:mt.ClickView,fromUid:t.fromUid};if(fn.updateFlashMsg(Nn,e),In[St.MESSAGE_READ]){var o=fn.resultNotice(St.MESSAGE_READ,[e]);In[St.MESSAGE_READ](o)}Nn.curTab&&tn.onMessageNotice(R,{type:Et,data:t});n()}(t,n)}}(e,t):function(t,n){var e=t;if(In[St.MESSAGE_RECEIVED]){var o=fn.resultNotice(St.MESSAGE_RECEIVED,[e]);In[St.MESSAGE_RECEIVED](o)}if(fn.addMsgList(Nn,e.conversationID,[e]),Nn.curTab){var i;tn.onMessageNotice(G,{type:Et,data:e}),i=e.type===mt.Text?e.text:e.content;var r=Nn.sdkState.uid,s={conversationID:e.conversationID,msgEnd:e.msgId,showMsgId:e.msgId,showMsgType:e.type,showMsg:i,showMsgTime:e.msgTime,myMove:e.fromUid!==r,showMsgFromUid:e.fromUid};e.fromUid!==r&&(s.unread=1),e.type===mt.Matched&&(s.matched=!0),e.type>=0&&e.type<=30&&(e.fromUid!==r?s.uChatI=!0:s.iChatU=!0),Mn(s),n()}else n()}(e,t)}catch(t){n(t)}})).finally((function(){Nn.msgHandleList.length>0?t():Nn.handleMsgState=!1}))}()}(e);break;case Ct:!function(t,n,e){if(t.curTab&&tn.onMessageNotice(z,e),n[wt.PROFILE_UPDATE]){var o=fn.resultNotice(wt.PROFILE_UPDATE,e.data);n[wt.PROFILE_UPDATE](o)}}(t,n,e);break;case Ut:!function(t,n,e){if(t.curTab&&tn.onMessageNotice(z,e),n[wt.USR_OFFFLINE]){var o=fn.resultNotice(wt.USR_OFFFLINE,e.data);n[wt.USR_OFFFLINE](o)}}(t,n,e);break;case Pt:!function(t,n,e){if(t.curTab&&tn.onMessageNotice(z,e),n[wt.USR_ONLINE]){var o=fn.resultNotice(wt.USR_ONLINE,e.data);n[wt.USR_ONLINE](o)}}(t,n,e)}};function Vn(t,n){return new Promise((function(e,o){return fn.isNotWs(n.wsUrl)?o(fn.parameterErr({name:J,key:"wsUrl"})):fn.isNotString(n.imToken)?o(fn.parameterErr({name:J,key:"imToken"})):fn.isNotEmpty(n.subAppId)?o(fn.parameterErr({name:J,key:"subAppId"})):void function(t,n,e,o){zn(t).then((function(i){if(i.loginState===gt.NOT_LOGIN)t.clearData(!0),Fn(t,n,e,o);else if((null==i?void 0:i.imToken)!==n.imToken)Kn(t).then((function(){Fn(t,n,e,o)}));else if(i.loginState===gt.LOGGED){i.chatsSync===at.SYNC_CHAT_SUCCESS&&(delete i.chatsSync,t.initChats()),Object.assign(t.sdkState,i);var r=fn.resultSuc(J,{msg:"Logged in",uid:i.uid});e(r)}}))}(t,n,e,o)}))}function zn(t){return new Promise((function(n,e){if(t.sdkState.loginState===gt.LOGGED||t.curTab)n(t.sdkState);else{var o=fn.createSign();window.localStorage.setItem("im_getSdkState",t.tabId),window.localStorage.removeItem("im_getSdkState"),t.stateCallEvents.has(o)&&(o+=1),t.stateCallEvents.set(o,{timeOut:Date.now()+3e3,callSuc:function(e){t.stateCallEvents.delete(o),n(e)},callErr:function(e){t.stateCallEvents.delete(o),n({loginState:gt.NOT_LOGIN,chatsSync:at.NOT_SYNC_CHAT,connState:st.NET_STATE_DISCONNECTED})}})}}))}function Fn(t,n,e,o){window.localStorage.setItem("im_wsCurId",t.tabId),t.globalTimer(),Object.assign(t.sdkState,{loginState:gt.LOGGING,wsUrl:n.wsUrl,imToken:n.imToken,subAppId:n.subAppId});var i=fn.createSign();t.callEvents.has(i)&&(i+=1),fn.createCallEvent(t,{type:J,callSign:i,callSuc:function(t){xt(),e(t)},callErr:function(n){zt(),r.isReconect&&t.handleMessage({type:kt,data:n});var e=fn.serverErr(n,J);o(e)}});var r={wsUrl:n.wsUrl,imToken:n.imToken,subAppId:n.subAppId,callSign:i,isReconect:!1,connSuc:function(n){return xn(t,n)},connErr:function(n,e){return Jn(t,n,e)}};At(t,r)}function xn(t,n){t.handleMessage({type:Lt,state:st.NET_STATE_CONNECTED}),function(t,n){return new Promise((function(e,o){var r=fn.createSign();t.callEvents.has(r)&&(r+=1),fn.createCallEvent(t,{type:J,callSign:r,callSuc:function(t){xt(),e(t)},callErr:function(t){o(t)}}),Vt(Dt.loginPro(r,n.imToken,n.subAppId),i)}))}(t,n).then((function(e){var o=t.callEvents.get(n.callSign);if(n.isReconect=!0,t.sdkState.uid=e.data.uid,o){var i=fn.resultSuc(J,{msg:e.data.msg,uid:e.data.uid});o.callSuc(i)}t.sdkState.loginState!==gt.LOGGED&&setTimeout((function(){t.handleMessage({type:Tt,data:{uid:e.data.uid,loginState:gt.LOGGED,wsUrl:n.wsUrl,imToken:n.imToken,subAppId:n.subAppId}})}),0),Cn(t)})).catch((function(e){var o=t.callEvents.get(n.callSign);o?o.callErr(e):(zt(),t.handleMessage({type:kt,data:e}))}))}function Jn(t,n,e){t.handleMessage({type:Lt,state:st.NET_STATE_DISCONNECTED})}function Kn(t){return new Promise((function(n,e){var o={code:pt.SUCCESS,isBroadcast:!0,msg:"Success"};t.handleMessage({type:Nt,data:o}),n(fn.resultSuc(K,o))}))}function Hn(t,n){return new Promise((function(e,o){var i;if(fn.preJudge(t,o,q)){if(fn.isNotObject(n,"conversationID","string"))return o(fn.parameterErr({name:q,key:"conversationID"}));if(n.pageSize&&(n.pageSize>t.maxMsgPageSize||fn.isNotNumer(null==n?void 0:n.pageSize)))return o(fn.parameterErr({name:q,msg:"The maximum number of entries cannot exceed ".concat(t.maxMsgPageSize)}));if(1===n.msgEnd)return e(fn.resultSuc(q,{conversationID:n.conversationID,messages:[],hasMore:!1}));var r=Object(nn.a)({tabId:t.tabId,pageSize:t.msgPageSize},n);kn.addChatKey(r.conversationID);var s=fn.getMsgList(t,r.conversationID,r.msgEnd);s.length>=r.pageSize||1===(null===(i=s[0])||void 0===i?void 0:i.msgId)?Yn(r,e,s):function(t,n,e,o,i){var r=fn.createSign();if(t.callEvents.has(r)&&(r+=1),fn.createCallEvent(t,{type:q,callSign:r,callSuc:function(o){!function(t,n,e,o,i){if(t.curTab){var r=[];e.messages.forEach((function(t){if(t.type<64){var e=fn.formatMsg(t,n.conversationID);r.unshift(e)}})),r.length>0&&fn.addMsgList(t,n.conversationID,r),null!=i&&i.length&&r.push.apply(r,Object(jt.a)(i)),Yn(n,o,r)}else e.messages.length>0&&fn.addMsgList(t,n.conversationID,e.messages),Yn(n,o,e.messages)}(t,n,o,e,i)},callErr:function(t){var n=fn.serverErr(t,q);o(n)}}),t.curTab){var s=fn.reformatC2CId(n.conversationID),g=n.msgEnd;null!=i&&i.length&&(g=i[0].msgId),Vt(Dt.getMsgPro({sign:r,toUid:s,msgEnd:g}),c)}else tn.onWebSocketNotice(q,{tabId:t.tabId,callSign:r,options:n,state:ut})}(t,r,e,o,s)}}))}function Yn(t,n,e){var o=e.slice(0-t.pageSize);n(fn.resultSuc(q,{conversationID:t.conversationID,messages:o,hasMore:e.length>=t.pageSize}))}function Wn(t,n){return new Promise((function(e,o){var i=fn.formatBody(t,n,o);if(!1!==i){var r=fn.createSign(n.showMsgTime);if(t.callEvents.has(r)&&(r+=1),fn.createCallEvent(t,{type:Z,callSign:r,callSuc:function(o){!function(t,n,e,o){if(t.curTab){var i=Object(nn.a)({},n);i.msgId=e.data.msgId,i.msgTime=e.data.msgTime,i.sendStatus=lt.BFIM_MSG_STATUS_SEND_SUCC,t.handleMessage({type:Et,shift:!0,data:i})}var r=fn.resultSuc(Z,{conversationID:n.conversationID,msgId:e.data.msgId,sendStatus:lt.BFIM_MSG_STATUS_SEND_SUCC});o(r)}(t,n,o,e)},callErr:function(t){var n=fn.serverErr(t,Z);o(n)}}),t.curTab)Vt(Dt.sendMsgPro(Object(nn.a)(Object(nn.a)({},n),{},{sign:r,body:i})),g);else tn.onWebSocketNotice(Z,{callSign:r,tabId:t.tabId,options:n,state:ut})}}))}function Xn(t,n){return new Promise((function(e,o){if(fn.preJudge(t,o,$)){if(fn.isNotObject(n,"conversationID","string")){var i=fn.parameterErr({name:$,key:"conversationID"});return o(i)}if(fn.isNotNumer(n.msgId,!0)){var r=fn.parameterErr({name:$,key:"msgId"});return o(r)}var s=fn.createSign();if(t.callEvents.has(s)&&(s+=1),fn.createCallEvent(t,{type:$,callSign:s,callSuc:function(o){!function(t,n,e,o){t.curTab&&t.handleMessage({type:Et,shift:!0,data:e.data});var i=fn.resultSuc($,{conversationID:n.conversationID,msgId:n.msgId,type:mt.Revoked});o(i)}(t,n,o,e)},callErr:function(t){var n=fn.serverErr(t,$);o(n)}}),t.curTab){var g=fn.reformatC2CId(n.conversationID);Vt(Dt.directiveMsgPro({sign:s,toUid:g,type:mt.Recall,msgId:n.msgId}),N)}else tn.onWebSocketNotice($,{callSign:s,tabId:t.tabId,options:n,state:ut})}}))}function qn(t,n){return new Promise((function(e,o){if(fn.preJudge(t,o,tt)){if(fn.isNotObject(n,"conversationID","string")){var i=fn.parameterErr({name:tt,key:"conversationID"});return o(i)}if(fn.isNotNumer(n.msgId,!0)){var r=fn.parameterErr({name:tt,key:"msgId"});return o(r)}var s=fn.createSign();if(t.callEvents.has(s)&&(s+=1),fn.createCallEvent(t,{type:tt,callSign:s,callSuc:function(o){!function(t,n,e,o){t.curTab&&t.handleMessage({type:Et,shift:!0,data:e.data});var i=fn.resultSuc(tt,{conversationID:n.conversationID,msgId:n.msgId,type:mt.ClickView,fromUid:e.data.fromUid});o(i)}(t,n,o,e)},callErr:function(t){var n=fn.serverErr(t,tt);o(n)}}),t.curTab){var g=fn.reformatC2CId(n.conversationID);Vt(Dt.directiveMsgPro({sign:s,toUid:g,type:mt.ClickView,msgId:n.msgId}),N)}else tn.onWebSocketNotice(tt,{callSign:s,tabId:t.tabId,options:n,state:ut})}}))}function Qn(t,n){return new Promise((function(e,o){var i=fn.createSign();(t.callEvents.has(i)&&(i+=1),fn.createCallEvent(t,{type:it,callSign:i,callSuc:function(t){var n=fn.resultSuc(it,t.data);return e(n)},callErr:function(t){var n=fn.serverErr(t,it);o(n)}}),t.curTab)?Vt(function(t,n){return Bt.GetProfiles.encode(Bt.GetProfiles.fromObject({sign:t,getProfiles:n})).finish()}(i,n),S):tn.onWebSocketNotice(it,{callSign:i,tabId:t.tabId,state:ut})}))}function Zn(t,n){return new Promise((function(e,o){var i,r,s,g=fn.createSign();(t.callEvents.has(g)&&(g+=1),fn.createCallEvent(t,{type:ot,callSign:g,callSuc:function(t){var n=fn.resultSuc(ot,t.data);return e(n)},callErr:function(t){var n=fn.serverErr(t,ot);o(n)}}),t.curTab)?Vt((i=g,r=n,Bt.GetProfile.encode(Bt.GetProfile.fromObject({sign:i,uid:r,updateTime:s})).finish()),y):tn.onWebSocketNotice(ot,{callSign:g,tabId:t.tabId,state:ut})}))}function $n(t){return new Promise((function(n,e){var o,i=fn.createSign();(t.callEvents.has(i)&&(i+=1),fn.createCallEvent(t,{type:rt,callSign:i,callSuc:function(t){var e=fn.resultSuc(rt,t.data);return n(e)},callErr:function(t){var n=fn.serverErr(t,rt);e(n)}}),t.curTab)?Vt((o=i,Bt.FetchSpark.encode(Bt.FetchSpark.fromObject({sign:o})).finish()),E):tn.onWebSocketNotice(rt,{callSign:i,tabId:t.tabId,state:ut})}))}var te={TYPES:{WS_STATE:st,SYNC_CHAT:at,SEND_STATE:lt,ERROR_CODE:pt,MSG_TYPE:mt,IM_LOGIN_STATE:gt},EVENT:St,create:function(){return new Promise((function(t,n){var e;null!==ne&&t(ne),ee={timeOut:3e4,tabId:null===(e=ee)||void 0===e?void 0:e.tabId,curTab:!1,chatPageSize:20,maxChatPageSize:100,msgPageSize:20,maxMsgPageSize:100,heartBeatTimer:null,sdkState:{loginState:gt.NOT_LOGIN,chatsSync:at.NOT_SYNC_CHAT,connState:st.NET_STATE_DISCONNECTED},callEvents:new Map,chatCallEvents:new Map,stateCallEvents:new Map,chatKeys:new Map,msgList:new Map,msgHandleList:[],handleMsgState:!1,updateTime:null,updateTabs:null,clearTimer:function(){var t;ee.curTab=!1,null!==(t=ee)&&void 0!==t&&t.heartBeatTimer&&clearInterval(ee.heartBeatTimer)},onConn:function(){ee.handleMessage({type:Lt,state:st.NET_STATE_CONNECTING})},reconnection:function(){return e=ee,window.localStorage.setItem("im_wsCurId",e.tabId),e.globalTimer(),void zn(e).then((function(o){if(o.wsUrl&&o.imToken){var i=fn.createSign();e.callEvents.has(i)&&(i+=1),fn.createCallEvent(e,{type:J,callSign:i,callSuc:function(n){xt(),t(n)},callErr:function(t){zt(),r.isReconect&&e.handleMessage({type:kt,data:t});var o=fn.serverErr(t,J);n(o)}});var r={wsUrl:o.wsUrl,imToken:o.imToken,subAppId:o.subAppId,callSign:i,isReconect:!0,connSuc:function(t){return xn(e,t)},connErr:function(t,n){return Jn(e)}};At(e,r)}else Kn()}));var e},handleMessage:function(t){return Gn(ee,ne,t)},globalTimer:re,clearData:oe,initChats:se};var o=fn.uuid(),i=window.localStorage.getItem("im_windowHeartBeat"),r=JSON.parse(window.localStorage.getItem("im_wsTabs")||"[]");r.push(o),window.localStorage.setItem("im_wsTabs",JSON.stringify(r)),ee.tabId=o,(i||0)<Date.now()-3e3&&(tn.clear(),zt(),kn.deleteDB(),window.localStorage.setItem("im_wsCurId",o),re()),window.addEventListener("unload",ie),kn.initDB((function(){var n;ne=n={login:function(t){return Vn(ee,t)},logout:function(){return Kn(ee)},createTextMessage:function(t){return function(t,n){var e;if(null==n||!n.to)return{code:pt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if(null===(e=n.payload)||void 0===e||!e.text)return{code:pt.PARAMETER,msg:"Parameter 'text' cann't be empty"};var o=fn.msgBase(n.to,t.sdkState.uid);return Object.assign(o,{type:mt.Text,text:n.payload.text}),{code:pt.SUCCESS,message:o}}(ee,t)},createImageMessage:function(t){return function(t,n){var e;if(null==n||!n.to)return{code:pt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if(null===(e=n.payload)||void 0===e||!e.url)return{code:pt.PARAMETER,msg:"Parameter 'url' cann't be empty"};var o=fn.msgBase(n.to,t.sdkState.uid);return Object.assign(o,{type:mt.Img,url:n.payload.url,width:n.payload.width,height:n.payload.height}),{code:pt.SUCCESS,message:o}}(ee,t)},createFlashMessage:function(t){return function(t,n){var e;if(null==n||!n.to)return{code:pt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if(null===(e=n.payload)||void 0===e||!e.url)return{code:pt.PARAMETER,msg:"Parameter 'url' cann't be empty"};var o=fn.msgBase(n.to,t.sdkState.uid);return Object.assign(o,{type:mt.Flash,url:n.payload.url,width:n.payload.width,height:n.payload.height,toRead:!1,fromRead:!1,oppositeSee:!1}),{code:pt.SUCCESS,message:o}}(ee,t)},createBusinessMessage:function(t){return function(t,n){var e,o;if(null==n||!n.to)return{code:pt.PARAMETER,msg:"Parameter 'to' cann't be empty"};if((null===(e=n.payload)||void 0===e?void 0:e.type)>30||(null===(o=n.payload)||void 0===o?void 0:o.type)<11)return{code:pt.PARAMETER,msg:"Type can only use 11-30"};var i=fn.msgBase(n.to,t.sdkState.uid);return Object.assign(i,n.payload),{code:pt.SUCCESS,message:i}}(ee,t)},sendMessage:function(t){return Wn(ee,t)},revokeMessage:function(t){return Xn(ee,t)},getMessageList:function(t){return Hn(ee,t)},readFlashMessage:function(t){return qn(ee,t)},setMessageRead:function(t){return function(t,n){return new Promise((function(e,o){if(fn.preJudge(t,o,Q)){if(fn.isNotObject(n,"conversationID","string")){var i=fn.parameterErr({name:Q,key:"conversationID"});return o(i)}var r=fn.createSign();if(t.callEvents.has(r)&&(r+=1),fn.createCallEvent(t,{type:Q,callSign:r,callSuc:function(t){var o=fn.resultSuc(Q,{conversationID:t.conversationID,msgId:n.msgId,msgTime:t.updateTime});e(o)},callErr:function(t){var n=fn.serverErr(t,Q);o(n)}}),t.curTab){var s=fn.reformatC2CId(n.conversationID);Vt(Dt.readMsgPro(r,s),d)}else tn.onWebSocketNotice(Q,{callSign:r,tabId:t.tabId,options:n,state:ut})}}))}(ee,t)},getConversationList:function(t){return function(t,n){return new Promise((function(e,o){if(fn.preJudge(t,o,H)){if(null!=n&&n.pageSize&&fn.isNotNumer(null==n?void 0:n.pageSize)){var i=fn.parameterErr({name:H,key:"pageSize"});return o(i)}if(t.sdkState.chatsSync===at.SYNC_CHAT_SUCCESS)Un(t,n,e);else{var r=fn.createSign();t.chatCallEvents.has(r)&&(r+=1),t.chatCallEvents.set(r,{callSuc:function(){t.chatCallEvents.delete(r),Un(t,n,e)},callErr:function(n){t.chatCallEvents.delete(r);var e=fn.resultErr((null==n?void 0:n.msg)||"Failed to get the conversation list",H,(null==n?void 0:n.code)||pt.ERROR);o(e)}})}}}))}(ee,t)},getConversationProvider:function(t){return jn(ee,t)},updateConversationProvider:function(t){return function(t,n){return new Promise((function(e,o){if(fn.preJudge(t,o,W)){if(fn.isNotObject(n,"conversationID","string")){var i=fn.parameterErr({name:W,key:"conversationID"});return o(i)}if(t.chatKeys.has(n.conversationID)){var r=t.chatKeys.get(n.conversationID);Object.assign(r,n);var s=fn.resultSuc(W,r);e(s)}else kn.getChat(n.conversationID).then((function(t){if(t){var i=Object.assign(t,n),r=fn.resultSuc(W,i);e(r)}else{var s=fn.resultErr("Failed to update local session information",W,pt.ERROR);o(s)}}))}}))}(ee,t)},deleteConversation:function(t){return function(t,n){return new Promise((function(e,o){if(fn.preJudge(t,o,X)){if(fn.isNotObject(n,"conversationID","string")){var i=fn.parameterErr({name:X,key:"conversationID"});return o(i)}var r=fn.createSign();if(t.callEvents.has(r)&&(r+=1),fn.createCallEvent(t,{type:X,callSign:r,callSuc:function(t){var o=fn.resultSuc(X,{conversationID:n.conversationID,updateTime:t.data.updateTime,deleted:t.data.deleted});return e(o)},callErr:function(t){var n=fn.serverErr(t,X);o(n)}}),t.curTab){var s=fn.reformatC2CId(n.conversationID);Vt(Dt.delChatPro(r,parseInt(s)),p)}else tn.onWebSocketNotice(X,{callSign:r,tabId:t.tabId,options:n,state:ut})}}))}(ee,t)},getAllUnreadCount:function(){return t=ee,new Promise((function(n,e){if(t.sdkState.chatsSync===at.SYNC_CHAT_SUCCESS){var o=Array.from(t.chatKeys.values()).reduce((function(t,n){return t+n.unread}),0),i=fn.resultSuc(et,{unread:o||0});n(i)}else{var r=fn.createSign();t.chatCallEvents.has(r)&&(r+=1),t.chatCallEvents.set(r,{callSuc:function(){t.chatCallEvents.delete(r);var e=Array.from(t.chatKeys.values()).reduce((function(t,n){return t+n.unread}),0),o=fn.resultSuc(et,{unread:e});n(o)},callErr:function(){t.chatCallEvents.delete(r);var n=fn.resultErr("Failed to get no reading",et,pt.ERROR);e(n)}})}}));var t},getCosKey:function(){return t=ee,new Promise((function(n,e){var o=fn.createSign();t.callEvents.has(o)&&(o+=1),fn.createCallEvent(t,{type:nt,callSign:o,callSuc:function(t){var e=fn.resultSuc(nt,t.data);return n(e)},callErr:function(t){var n=fn.serverErr(t,nt);e(n)}}),t.curTab?Vt(Dt.cosPro(o),v):tn.onWebSocketNotice(nt,{callSign:o,tabId:t.tabId,state:ut})}));var t},on:function(t,e){return function(t,n,e){t[n]=e}(n,t,e)},off:function(t){return function(t,n){t[n]=null}(n,t)},getProfile:function(t){return Zn(ee,t)},getProfileList:function(t){return Qn(ee,t)},getSpark:function(){return $n(ee)}},window.addEventListener("storage",(function(t){tn.watchStorage(t,ne,ee)})),t(ne)}))}))},DEMO_EVENT:wt};var ne=null,ee=null;function oe(t){t&&kn.clear(),tn.clear(),zt(),ee.sdkState={loginState:gt.NOT_LOGIN,chatsSync:at.NOT_SYNC_CHAT,connState:st.NET_STATE_DISCONNECTED},ee.callEvents=new Map,ee.chatCallEvents=new Map,ee.stateCallEvents=new Map,ee.chatKeys=new Map,ee.msgList=new Map,ee.msgHandleList=[],ee.handleMsgState=!1,ee.updateTime=null,ee.updateTabs=null}function ie(){var t=JSON.parse(window.localStorage.getItem("im_wsTabs")||"[]");t=t.filter((function(t){return t!=ee.tabId})),window.localStorage.setItem("im_wsTabs",JSON.stringify(t)),tn.clear(0===t.length),zt(),0===t.length?kn.deleteDB():ee.curTab&&(ee.clearTimer(),ee.sdkState.loginState===gt.LOGGED?window.localStorage.setItem("im_wsConnTab",t[0]):window.localStorage.setItem("im_wsCurId",t[0]))}function re(){ee.curTab=!0;var t=0;ee.heartBeatTimer&&clearInterval(ee.heartBeatTimer),ee.heartBeatTimer=setInterval((function(){var n=Date.now();window.localStorage.setItem("im_windowHeartBeat",n),(t+=1)%20==0&&function(){var t;if(1===(null===(t=_t.ws)||void 0===t?void 0:t.readyState)){var n=Date.now();if(_t.heartBeatTime+_t.heartRate<=n){var e=Dt.compress(Dt.pingPro(),o);_t.ws.send(e),_t.heartBeatTime=n}}}(),ee.callEvents.forEach((function(t,e){t.timeOut<=n&&t.callErr({code:pt.TIMEOUT,msg:t.type+": connection timed out"})})),ee.stateCallEvents.forEach((function(t,e){t.timeOut<=n&&t.callErr()}))}),50)}function se(){kn.getChatList().then((function(t){t.forEach((function(t){if(ee.chatKeys.has(t.conversationID)){var n=ee.chatKeys.get(t.conversationID);Object.assign(n,t)}else ee.chatKeys.set(t.conversationID,t)})),ee.sdkState.chatsSync=at.SYNC_CHAT_SUCCESS,ee.chatCallEvents.forEach((function(t,n){t.callSuc()}))}))}n.a=te}}]);